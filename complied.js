var i18n=function(){var e={},c={DST:-4,format:"D, d F Y H:i:s",AM:"AM",PM:"PM"};Date.prototype.format=function(e){var f="",c=Date.replaceChars,j="";c.reload();for(var m=0;m<e.length;m++)j=e.charAt(m),f+=c[j]?c[j].call(this):j;return f};Date.replaceChars={reload:function(){Date.replaceChars.shortMonths=e.hasOwnProperty("shortMonths")?e.shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(",");Date.replaceChars.longMonths=e.hasOwnProperty("longMonths")?e.longMonths:"January,February,March,April,May,June,July,August,September,October,November,December".split(",");
Date.replaceChars.shortDays=e.hasOwnProperty("shortDays")?e.shortDays:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",");Date.replaceChars.longDays=e.hasOwnProperty("longDays")?e.longDays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(",")},shortMonths:[],longMonths:[],shortDays:[],longDays:[],d:function(){return(10>this.getUTCDate()?"0":"")+this.getUTCDate()},D:function(){return Date.replaceChars.shortDays[this.getUTCDay()]},j:function(){return this.getUTCDate()},l:function(){return Date.replaceChars.longDays[this.getUTCDay()]},
N:function(){return this.getDay()+1},S:function(){return 1===this.getUTCDate()%10&&11!==this.getUTCDate()?"st":2===this.getUTCDate()%10&&12!==this.getUTCDate()?"nd":3==this.getUTCDate()%10&&13!=this.getUTCDate()?"rd":"th"},w:function(){return this.getUTCDay()},z:function(){return""},W:function(){return""},F:function(){return Date.replaceChars.longMonths[this.getUTCMonth()]},m:function(){return(9>this.getUTCMonth()?"0":"")+(this.getUTCMonth()+1)},M:function(){return Date.replaceChars.shortMonths[this.getUTCMonth()]},
n:function(){return this.getUTCMonth()+1},t:function(){return""},L:function(){return""},o:function(){return""},Y:function(){return this.getUTCFullYear()},y:function(){return(""+this.getUTCFullYear()).substr(2)},a:function(){var g=e.hasOwnProperty("setting")?e.setting:c;return 12>this.getUTCHours()?g.AM:g.PM},A:function(){var g=e.hasOwnProperty("setting")?e.setting:c;return 12>this.getUTCHours()?g.AM:g.PM},B:function(){return""},g:function(){return this.getUTCHours()%12||12},G:function(){return this.getUTCHours()},
h:function(){return(10>(this.getUTCHours()%12||12)?"0":"")+(this.getUTCHours()%12||12)},H:function(){return(10>this.getUTCHours()?"0":"")+this.getUTCHours()},i:function(){return(10>this.getUTCMinutes()?"0":"")+this.getUTCMinutes()},s:function(){return(10>this.getUTCSeconds()?"0":"")+this.getUTCSeconds()},e:function(){return""},I:function(){return""},O:function(){return(0>-this.getTimezoneOffset()?"-":"+")+(10>Math.abs(this.getTimezoneOffset()/60)?"0":"")+Math.abs(this.getTimezoneOffset()/60)+"00"},
T:function(){var e=this.getUTCMonth();this.setMonth(0);var c=this.toTimeString().replace(/^.+ \(?([^\)]+)\)?$/,"$1");this.setMonth(e);return c},Z:function(){return 60*-this.getTimezoneOffset()},c:function(){return""},r:function(){return this.toString()},U:function(){return this.getUTCTime()/1E3}};var m=function(e,c,h){var j,c=parseInt(c,10);"string"===typeof h&&(h=h.split(/\D/),--h[1],j=new Date(h.join(",")));j="object"===typeof j?j:h;switch(e){case "y":j.setFullYear(j.getFullYear()+c);break;case "m":j.setMonth(j.getMonth()+
c);break;case "d":j.setDate(j.getDate()+c);break;case "w":j.setDate(j.getDate()+7*c);break;case "h":j.setHours(j.getHours()+c);break;case "n":j.setMinutes(j.getMinutes()+c);break;case "s":j.setSeconds(j.getSeconds()+c);break;case "l":j.setMilliseconds(j.getMilliseconds()+c)}return j};return{set:function(c){e=c},datetime:function(g){var f=e.hasOwnProperty("setting")?e.setting:c;return(f.format?m("h",f.DST,g?new Date(g):new Date):g?new Date(g):new Date).format(f.format)},_:function(c){try{var c=c.toString()||
"",f=arguments,h=0<f.length?RegExp("%([1-"+f.length.toString()+"])","g"):null;return(""+(e.hasOwnProperty(c)?e[c]:c)).replace(h,function(e,c){return f[c]})}catch(j){}}}}();(function(e){String.prototype.trim===e&&(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")});Array.prototype.reduce===e&&(Array.prototype.reduce=function(c){if(void 0===this||null===this)throw new TypeError;var m=Object(this),g=m.length>>>0,f=0,h;if("function"!=typeof c)throw new TypeError;if(0==g&&1==arguments.length)throw new TypeError;if(2<=arguments.length)h=arguments[1];else{do{if(f in m){h=m[f++];break}if(++f>=g)throw new TypeError;}while(1)}for(;f<g;)f in m&&
(h=c.call(e,h,m[f],f,m)),f++;return h})})();
var Zepto=function(){function e(a){return"[object Function]"=={}.toString.call(a)}function c(a){return a instanceof Object}function m(a){return a instanceof Array}function g(a){return"number"==typeof a.length}function f(a){return a.filter(function(a){return a!==k&&null!==a})}function h(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})}function j(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}
function r(a){return a.filter(function(a,b,d){return d.indexOf(a)==b})}function q(a){return a in w?w[a]:w[a]=RegExp("(^|\\s)"+a+"(\\s|$)")}function y(b,d){d===k&&E.test(b);d in n||(d="*");var o=n[d];return o.innerHTML=""+b,a.call(o.childNodes)}function s(a,d){return a=a||b,a.__proto__=s.prototype,a.selector=d||"",a}function l(a,b){if(!a)return s();if(b!==k)return l(b).find(a);if(e(a))return l(d).ready(a);if(a instanceof s)return a;var n;return m(a)?n=f(a):0<=C.indexOf(a.nodeType)||a===window?(n=[a],
a=null):E.test(a)?(n=y(a.trim(),RegExp.$1),a=null):a.nodeType&&3==a.nodeType?n=[a]:n=u(d,a),s(n,a)}function t(a,b){return b===k?l(a):l(a).filter(b)}function v(a,b,d,n){return e(b)?b.call(a,d,n):b}function z(a,b,d){var n=a%2?b:b.parentNode;n&&n.insertBefore(d,a?1==a?n.firstChild:2==a?b:null:b.nextSibling)}function A(a,b){b(a);for(var d in a.childNodes)A(a.childNodes[d],b)}var k,x,u,p,b=[],a=b.slice,d=window.document,o={},w={},G=d.defaultView.getComputedStyle,F={"column-count":1,columns:1,"font-weight":1,
"line-height":1,opacity:1,"z-index":1,zoom:1},E=/^\s*<(\w+)[^>]*>/,C=[1,9,11],D=d.createElement("table"),H=d.createElement("tr"),n={tr:d.createElement("tbody"),tbody:D,thead:D,tfoot:D,td:H,th:H,"*":d.createElement("div")},B=/complete|loaded|interactive/,I=/^\.([\w-]+)$/,J=/^#([\w-]+)$/,K=/^[\w-]+$/;return l.extend=function(b){return a.call(arguments,1).forEach(function(a){for(x in a)b[x]=a[x]}),b},l.qsa=u=function(n,o){var B;return n===d&&J.test(o)?(B=n.getElementById(RegExp.$1))?[B]:b:a.call(I.test(o)?
n.getElementsByClassName(RegExp.$1):K.test(o)?n.getElementsByTagName(o):n.querySelectorAll(o))},l.isFunction=e,l.isObject=c,l.isArray=m,l.map=function(a,b){var d,n=[],o;if(g(a))for(o=0;o<a.length;o++)d=b(a[o],o),null!=d&&n.push(d);else for(o in a)d=b(a[o],o),null!=d&&n.push(d);return 0<n.length?[].concat.apply([],n):n},l.each=function(a,b){var d;if(g(a))for(d=0;d<a.length&&!1!==b(d,a[d]);d++);else for(d in a)if(!1===b(d,a[d]))break;return a},l.fn={forEach:b.forEach,reduce:b.reduce,push:b.push,indexOf:b.indexOf,
concat:b.concat,map:function(a){return l.map(this,function(b,d){return a.call(b,d,b)})},slice:function(){return l(a.apply(this,arguments))},ready:function(a){return B.test(d.readyState)?a(l):d.addEventListener("DOMContentLoaded",function(){a(l)},!1),this},get:function(a){return a===k?this:this[a]},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return this.forEach(function(b,d){a.call(b,
d,b)}),this},filter:function(a){return l([].filter.call(this,function(b){return b.parentNode&&0<=u(b.parentNode,a).indexOf(b)}))},end:function(){return this.prevObject||l()},andSelf:function(){return this.add(this.prevObject||l())},add:function(a,b){return l(r(this.concat(l(a,b))))},is:function(a){return 0<this.length&&0<l(this[0]).filter(a).length},not:function(b){var d=[];if(e(b)&&b.call!==k)this.each(function(a){b.call(this,a)||d.push(this)});else{var n="string"==typeof b?this.filter(b):g(b)&&
e(b.item)?a.call(b):l(b);this.forEach(function(a){0>n.indexOf(a)&&d.push(a)})}return l(d)},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!c(a)?a:l(a)},last:function(){var a=this[this.length-1];return a&&!c(a)?a:l(a)},find:function(a){var b;return 1==this.length?b=u(this[0],a):b=this.map(function(){return u(this,a)}),l(b)},closest:function(a,b){var n=this[0],o=u(b||d,a);for(o.length||(n=null);n&&0>o.indexOf(n);)n=n!==b&&n!==d&&n.parentNode;return l(n)},
parents:function(a){for(var b=[],n=this;0<n.length;)n=l.map(n,function(a){if((a=a.parentNode)&&a!==d&&0>b.indexOf(a))return b.push(a),a});return t(b,a)},parent:function(a){return t(r(this.pluck("parentNode")),a)},children:function(b){return t(this.map(function(){return a.call(this.children)}),b)},siblings:function(b){return t(this.map(function(b,d){return a.call(d.parentNode.children).filter(function(a){return a!==d})}),b)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return this.map(function(){return this[a]})},
show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=null);if("none"==G(this,"").getPropertyValue("display")){var a=this.style,b;b=this.nodeName;var n,B;b=(o[b]||(n=d.createElement(b),d.body.appendChild(n),B=G(n,"").getPropertyValue("display"),n.parentNode.removeChild(n),"none"==B&&(B="block"),o[b]=B),o[b]);a.display=b}})},replaceWith:function(a){return this.each(function(){l(this).before(a).remove()})},wrap:function(a){return this.each(function(){l(this).wrapAll(l(a)[0].cloneNode(!1))})},
wrapAll:function(a){return this[0]&&(l(this[0]).before(a=l(a)),a.append(this)),this},unwrap:function(){return this.parent().each(function(){l(this).replaceWith(l(this).children())}),this},hide:function(){return this.css("display","none")},toggle:function(a){return(a===k?"none"==this.css("display"):a)?this.show():this.hide()},prev:function(){return l(this.pluck("previousElementSibling"))},next:function(){return l(this.pluck("nextElementSibling"))},html:function(a){return a===k?0<this.length?this[0].innerHTML:
null:this.each(function(b){var d=this.innerHTML;l(this).empty().append(v(this,a,b,d))})},text:function(a){return a===k?0<this.length?this[0].textContent:null:this.each(function(){this.textContent=a})},attr:function(a,b){var d;return"string"==typeof a&&b===k?0==this.length?k:"value"==a&&"INPUT"==this[0].nodeName?this.val():!(d=this[0].getAttribute(a))&&a in this[0]?this[0][a]:d:this.each(function(d){if(c(a))for(x in a)this.setAttribute(x,a[x]);else this.setAttribute(a,v(this,b,d,this.getAttribute(a)))})},
removeAttr:function(a){return this.each(function(){this.removeAttribute(a)})},data:function(a,b){return this.attr("data-"+a,b)},val:function(a){return a===k?0<this.length?this[0].value:null:this.each(function(b){this.value=v(this,a,b,this.value)})},offset:function(){if(0==this.length)return null;var a=this[0].getBoundingClientRect();return{left:a.left+window.pageXOffset,top:a.top+window.pageYOffset,width:a.width,height:a.height}},css:function(a,b){if(b===k&&"string"==typeof a)return 0==this.length?
k:this[0].style[h(a)]||G(this[0],"").getPropertyValue(a);var d="";for(x in a)d+=j(x)+":"+("number"==typeof a[x]&&!F[j(x)]?a[x]+"px":a[x])+";";return"string"==typeof a&&(d=j(a)+":"+("number"==typeof b&&!F[j(a)]?b+"px":b)),this.each(function(){this.style.cssText+=";"+d})},index:function(a){return a?this.indexOf(l(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return 1>this.length?!1:q(a).test(this[0].className)},addClass:function(a){return this.each(function(b){p=[];var d=this.className;
v(this,a,b,d).split(/\s+/g).forEach(function(a){l(this).hasClass(a)||p.push(a)},this);p.length&&(this.className+=(d?" ":"")+p.join(" "))})},removeClass:function(a){return this.each(function(b){if(a===k)return this.className="";p=this.className;v(this,a,b,p).split(/\s+/g).forEach(function(a){p=p.replace(q(a)," ")});this.className=p.trim()})},toggleClass:function(a,b){return this.each(function(d){d=v(this,a,d,this.className);(b===k?!l(this).hasClass(d):b)?l(this).addClass(d):l(this).removeClass(d)})}},
"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings".split(",").forEach(function(a){var b=l.fn[a];l.fn[a]=function(){var a=b.apply(this,arguments);return a.prevObject=this,a}}),["width","height"].forEach(function(a){l.fn[a]=function(b){var n,o=a.replace(/./,function(a){return a[0].toUpperCase()});return b===k?this[0]==window?window["inner"+o]:this[0]==d?d.documentElement["offset"+o]:(n=this.offset())&&n[a]:this.each(function(d){var n=l(this);n.css(a,v(this,b,d,n[a]()))})}}),
["after","prepend","before","append"].forEach(function(a,b){l.fn[a]=function(a){var d=c(a)?a:y(a);if(!("length"in d)||d.nodeType)d=[d];if(1>d.length)return this;var n=this.length,o=1<n,B=2>b;return this.each(function(a,e){for(var c=0;c<d.length;c++){var w=d[B?d.length-c-1:c];A(w,function(a){null!=a.nodeName&&"SCRIPT"===a.nodeName.toUpperCase()&&(!a.type||"text/javascript"===a.type)&&window.eval.call(window,a.innerHTML)});o&&a<n-1&&(w=w.cloneNode(!0));z(b,e,w)}})};l.fn[b%2?a+"To":"insert"+(b?"Before":
"After")]=function(b){return l(b)[a](this),this}}),s.prototype=l.fn,l}();window.Zepto=Zepto;"$"in window||(window.$=Zepto);
(function(e){function c(e,c,k,f){c=m(c);if(c.ns)var g=RegExp("(?:^| )"+c.ns.replace(" "," .* ?")+"(?: |$)");return(q[e._zid||(e._zid=y++)]||[]).filter(function(e){return e&&(!c.e||e.e==c.e)&&(!c.ns||g.test(e.ns))&&(!k||e.fn==k)&&(!f||e.sel==f)})}function m(e){e=(""+e).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function g(c,f,k){e.isObject(c)?e.each(c,k):c.split(/\s/).forEach(function(e){k(e,f)})}function f(c,f,k,j,h){var l=c._zid||(c._zid=y++),b=q[l]||(q[l]=[]);g(f,k,function(a,d){var o=
h&&h(d,a),w=o||d,k=function(a){var b=w.apply(c,[a].concat(a.data));return!1===b&&a.preventDefault(),b},o=e.extend(m(a),{fn:d,proxy:k,sel:j,del:o,i:b.length});b.push(o);c.addEventListener(o.e,k,!1)})}function h(e,f,k,j){var h=e._zid||(e._zid=y++);g(f||"",k,function(k,b){c(e,k,b,j).forEach(function(a){delete q[h][a.i];e.removeEventListener(a.e,a.proxy,!1)})})}function j(c){var f=e.extend({originalEvent:c},c);return e.each(v,function(e,g){f[e]=function(){return this[g]=l,c[e].apply(c,arguments)};f[g]=
t}),f}function r(e){if(!("defaultPrevented"in e)){e.defaultPrevented=!1;var c=e.preventDefault;e.preventDefault=function(){this.defaultPrevented=!0;c.call(this)}}}var q={},y=1,s={};s.click=s.mousedown=s.mouseup=s.mousemove="MouseEvents";e.event={add:f,remove:h};e.fn.bind=function(e,c){return this.each(function(){f(this,e,c)})};e.fn.unbind=function(e,c){return this.each(function(){h(this,e,c)})};e.fn.one=function(e,c){return this.each(function(k,g){f(this,e,c,null,function(e,c){return function(){var b=
e.apply(g,arguments);return h(g,c,e),b}})})};var l=function(){return!0},t=function(){return!1},v={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(c,g,k){return this.each(function(h,m){f(m,g,k,c,function(k){return function(b){var a,d=e(b.target).closest(c,m).get(0);if(d)return a=e.extend(j(b),{currentTarget:d,liveFired:m}),k.apply(d,[a].concat([].slice.call(arguments,1)))}})})};e.fn.undelegate=
function(e,c,k){return this.each(function(){h(this,c,k,e)})};e.fn.live=function(c,f){return e(document.body).delegate(this.selector,c,f),this};e.fn.die=function(c,f){return e(document.body).undelegate(this.selector,c,f),this};e.fn.on=function(c,f,k){return void 0===f||e.isFunction(f)?this.bind(c,f):this.delegate(f,c,k)};e.fn.off=function(c,f,k){return void 0===f||e.isFunction(f)?this.unbind(c,f):this.undelegate(f,c,k)};e.fn.trigger=function(c,f){return"string"==typeof c&&(c=e.Event(c)),r(c),c.data=
f,this.each(function(){this.dispatchEvent(c)})};e.fn.triggerHandler=function(f,g){var k,h;return this.each(function(m,l){k=j("string"==typeof f?e.Event(f):f);k.data=g;k.target=l;e.each(c(l,f.type||f),function(b,a){h=a.proxy(k);if(k.isImmediatePropagationStopped())return!1})}),h};"focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,change,select,keydown,keypress,keyup,error".split(",").forEach(function(c){e.fn[c]=function(e){return this.bind(c,e)}});
["focus","blur"].forEach(function(c){e.fn[c]=function(e){if(e)this.bind(c,e);else if(this.length)try{this.get(0)[c]()}catch(f){}return this}});e.Event=function(e,c){var f=document.createEvent(s[e]||"Events"),g=!0;if(c)for(var j in c)"bubbles"==j?g=!!c[j]:f[j]=c[j];return f.initEvent(e,g,!0,null,null,null,null,null,null,null,null,null,null,null,null),f}})(Zepto);
(function(e){function c(e){var c=this.os={},f=this.browser={},h=e.match(/WebKit\/([\d.]+)/),j=e.match(/(Android)\s+([\d.]+)/),r=e.match(/(iPad).*OS\s([\d_]+)/),q=!r&&e.match(/(iPhone\sOS)\s([\d_]+)/),y=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),s=y&&e.match(/TouchPad/),e=e.match(/(BlackBerry).*Version\/([\d.]+)/);h&&(f.version=h[1]);f.webkit=!!h;j&&(c.android=!0,c.version=j[2]);q&&(c.ios=!0,c.version=q[2].replace(/_/g,"."),c.iphone=!0);r&&(c.ios=!0,c.version=r[2].replace(/_/g,"."),c.ipad=!0);y&&(c.webos=
!0,c.version=y[2]);s&&(c.touchpad=!0);e&&(c.blackberry=!0,c.version=e[2])}c.call(e,navigator.userAgent);e.__detect=c})(Zepto);
(function(e,c){var m="",g,f=window.document.createElement("div"),h=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.each({Webkit:"webkit",Moz:"",O:"o",ms:"MS"},function(e,h){if(f.style[e+"TransitionProperty"]!==c)return m="-"+e.toLowerCase()+"-",g=h,!1});e.fx={off:g===c&&f.style.transitionProperty===c,cssPrefix:m,transitionEnd:g?g+"TransitionEnd":"transitionend",animationEnd:g?g+"AnimationEnd":"animationend"};e.fn.animate=function(c,f,g,h){return e.isObject(f)&&(g=f.easing,
h=f.complete,f=f.duration),f&&(f/=1E3),this.anim(c,f,g,h)};e.fn.anim=function(f,g,q,y){var s,l={},t,v=this,z,A=e.fx.transitionEnd;g===c&&(g=0.4);e.fx.off&&(g=0);if("string"==typeof f)l[m+"animation-name"]=f,l[m+"animation-duration"]=g+"s",A=e.fx.animationEnd;else{for(t in f)h.test(t)?(s||(s=[]),s.push(t+"("+f[t]+")")):l[t]=f[t];s&&(l[m+"transform"]=s.join(" "));e.fx.off||(l[m+"transition"]="all "+g+"s "+(q||""))}return z=function(){var c={};c[m+"transition"]=c[m+"animation-name"]="none";e(this).css(c);
y&&y.call(this)},0<g&&this.one(A,z),setTimeout(function(){v.css(l);0>=g&&setTimeout(function(){v.each(function(){z.call(this)})},0)},0),this};f=null})(Zepto);
(function(e){function c(c,f,g,h){if(c.global)return c=f||l,g=e.Event(g),e(c).trigger(g,h),!g.defaultPrevented}function m(f){f.global&&0===e.active++&&c(f,null,"ajaxStart")}function g(e,f){var g=f.context;if(!1===f.beforeSend.call(g,e,f)||!1===c(f,g,"ajaxBeforeSend",[e,f]))return!1;c(f,g,"ajaxSend",[e,f])}function f(e,f,g){var h=g.context;g.success.call(h,e,"success",f);c(g,h,"ajaxSuccess",[f,g,e]);j("success",f,g)}function h(e,f,g,h){var m=h.context;h.error.call(m,g,f,e);c(h,m,"ajaxError",[g,h,e]);
j(f,g,h)}function j(f,g,h){var j=h.context;h.complete.call(j,g,f);c(h,j,"ajaxComplete",[g,h]);h.global&&!--e.active&&c(h,null,"ajaxStop")}function r(){}function q(c,f,g,h){var j=e.isArray(f);e.each(f,function(b,a){h&&(b=g?h:h+"["+(j?"":b)+"]");!h&&j?c.add(a.name,a.value):(g?e.isArray(a):s(a))?q(c,a,g,b):c.add(b,a)})}var y=0,s=e.isObject,l=window.document,t,v;e.active=0;e.ajaxJSONP=function(c){var g="jsonp"+ ++y,h=l.createElement("script"),m={abort:function(){e(h).remove();g in window&&(window[g]=
r);j(m,c,"abort")}},p;return window[g]=function(b){clearTimeout(p);e(h).remove();delete window[g];f(b,m,c)},h.src=c.url.replace(/=\?/,"="+g),e("head").append(h),0<c.timeout&&(p=setTimeout(function(){m.abort();j(m,c,"timeout")},c.timeout)),m};e.ajaxSettings={type:"GET",beforeSend:r,success:r,error:r,complete:r,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",
text:"text/plain"},crossDomain:!1,timeout:0};e.ajax=function(c){var k=e.extend({},c||{});for(t in e.ajaxSettings)void 0===k[t]&&(k[t]=e.ajaxSettings[t]);m(k);k.crossDomain||(k.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(k.url)&&RegExp.$2!=window.location.host);if(/=\?/.test(k.url))return e.ajaxJSONP(k);k.url||(k.url=window.location.toString());k.data&&!k.contentType&&(k.contentType="application/x-www-form-urlencoded");s(k.data)&&(k.data=e.param(k.data));k.type.match(/get/i)&&k.data&&(c=k.data,k.url.match(/\?.*=/)?
c="&"+c:"?"!=c[0]&&(c="?"+c),k.url+=c);var j=k.accepts[k.dataType],c={},l=/^([\w-]+:)\/\//.test(k.url)?RegExp.$1:window.location.protocol,p=e.ajaxSettings.xhr(),b;k.crossDomain||(c["X-Requested-With"]="XMLHttpRequest");j&&(c.Accept=j);k.headers=e.extend(c,k.headers||{});p.onreadystatechange=function(){if(p.readyState==4){clearTimeout(b);var a,d=false;if(p.status>=200&&p.status<300||p.status==0&&l=="file:"){if(j=="application/json"&&!/^\s*$/.test(p.responseText))try{a=JSON.parse(p.responseText)}catch(c){d=
c}else a=p.responseText;d?h(d,"parsererror",p,k):f(a,p,k)}else h(null,"error",p,k)}};p.open(k.type,k.url,!0);k.contentType&&(k.headers["Content-Type"]=k.contentType);for(v in k.headers)p.setRequestHeader(v,k.headers[v]);return!1===g(p,k)?(p.abort(),!1):(0<k.timeout&&(b=setTimeout(function(){p.onreadystatechange=r;p.abort();h(null,"timeout",p,k)},k.timeout)),p.send(k.data),p)};e.get=function(c,f){return e.ajax({url:c,success:f})};e.post=function(c,f,g,h){return e.isFunction(f)&&(h=h||g,g=f,f=null),
e.ajax({type:"POST",url:c,data:f,success:g,dataType:h})};e.getJSON=function(c,f){return e.ajax({url:c,success:f,dataType:"json"})};e.fn.load=function(c,f){if(!this.length)return this;var g=this,h=c.split(/\s/),j;return 1<h.length&&(c=h[0],j=h[1]),e.get(c,function(b){g.html(j?e(l.createElement("div")).html(b).find(j).html():b);f&&f.call(g)}),this};var z=encodeURIComponent;e.param=function(c,e){var f=[];return f.add=function(c,e){this.push(z(c)+"="+z(e))},q(f,c,e),f.join("&").replace("%20","+")}})(Zepto);
(function(e){e.fn.serializeArray=function(){var c=[],m;return e(Array.prototype.slice.call(this.get(0).elements)).each(function(){m=e(this);var g=m.attr("type");!this.disabled&&"submit"!=g&&"reset"!=g&&"button"!=g&&("radio"!=g&&"checkbox"!=g||this.checked)&&c.push({name:m.attr("name"),value:m.val()})}),c};e.fn.serialize=function(){var c=[];return this.serializeArray().forEach(function(e){c.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),c.join("&")};e.fn.submit=function(c){c?this.bind("submit",
c):this.length&&(c=e.Event("submit"),this.eq(0).trigger(c),c.defaultPrevented||this.get(0).submit());return this}})(Zepto);
(function(e){function c(c,e,f,g){var h=Math.abs(c-e),m=Math.abs(f-g);return h>=m?0<c-e?"Left":"Right":0<f-g?"Up":"Down"}function m(){g.last&&Date.now()-g.last>=h&&(e(g.target).trigger("longTap"),g={})}var g={},f,h=750;e(document).ready(function(){e(document.body).bind("touchstart",function(c){var e=Date.now(),q=e-(g.last||e);g.target="tagName"in c.touches[0].target?c.touches[0].target:c.touches[0].target.parentNode;f&&clearTimeout(f);g.x1=c.touches[0].pageX;g.y1=c.touches[0].pageY;0<q&&250>=q&&(g.isDoubleTap=
!0);g.last=e;setTimeout(m,h)}).bind("touchmove",function(c){g.x2=c.touches[0].pageX;g.y2=c.touches[0].pageY}).bind("touchend",function(){g.isDoubleTap?(e(g.target).trigger("doubleTap"),g={}):0<g.x2||0<g.y2?((30<Math.abs(g.x1-g.x2)||30<Math.abs(g.y1-g.y2))&&e(g.target).trigger("swipe")&&e(g.target).trigger("swipe"+c(g.x1,g.x2,g.y1,g.y2)),g.x1=g.x2=g.y1=g.y2=g.last=0):"last"in g&&(f=setTimeout(function(){f=null;e(g.target).trigger("tap");g={}},250))}).bind("touchcancel",function(){g={}})});"swipe,swipeLeft,swipeRight,swipeUp,swipeDown,doubleTap,tap,longTap".split(",").forEach(function(c){e.fn[c]=
function(e){return this.bind(c,e)}})})(Zepto);(function(){function e(b,d,c){if(b===d)return 0!==b||1/b==1/d;if(null==b||null==d)return b===d;b._chain&&(b=b._wrapped);d._chain&&(d=d._wrapped);if(b.isEqual&&a.isFunction(b.isEqual))return b.isEqual(d);if(d.isEqual&&a.isFunction(d.isEqual))return d.isEqual(b);var o=q.call(b);if(o!=q.call(d))return!1;switch(o){case "[object String]":return b==""+d;case "[object Number]":return b!=+b?d!=+d:0==b?1/b==1/d:b==+d;case "[object Date]":case "[object Boolean]":return+b==+d;case "[object RegExp]":return b.source==
d.source&&b.global==d.global&&b.multiline==d.multiline&&b.ignoreCase==d.ignoreCase}if("object"!=typeof b||"object"!=typeof d)return!1;for(var f=c.length;f--;)if(c[f]==b)return!0;c.push(b);var f=0,g=!0;if("[object Array]"==o){if(f=b.length,g=f==d.length)for(;f--&&(g=f in b==f in d&&e(b[f],d[f],c)););}else{if("constructor"in b!="constructor"in d||b.constructor!=d.constructor)return!1;for(var w in b)if(a.has(b,w)&&(f++,!(g=a.has(d,w)&&e(b[w],d[w],c))))break;if(g){for(w in d)if(a.has(d,w)&&!f--)break;
g=!f}}c.pop();return g}var c=this,m=c._,g={},f=Array.prototype,h=Object.prototype,j=f.slice,r=f.unshift,q=h.toString,y=h.hasOwnProperty,s=f.forEach,l=f.map,t=f.reduce,v=f.reduceRight,z=f.filter,A=f.every,k=f.some,x=f.indexOf,u=f.lastIndexOf,h=Array.isArray,p=Object.keys,b=Function.prototype.bind,a=function(a){return new C(a)};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=a),exports._=a):c._=a;a.VERSION="1.3.1";var d=a.each=a.forEach=function(b,
d,c){if(b!=null)if(s&&b.forEach===s)b.forEach(d,c);else if(b.length===+b.length)for(var e=0,f=b.length;e<f;e++){if(e in b&&d.call(c,b[e],e,b)===g)break}else for(e in b)if(a.has(b,e)&&d.call(c,b[e],e,b)===g)break};a.map=a.collect=function(a,b,c){var e=[];if(a==null)return e;if(l&&a.map===l)return a.map(b,c);d(a,function(a,d,n){e[e.length]=b.call(c,a,d,n)});if(a.length===+a.length)e.length=a.length;return e};a.reduce=a.foldl=a.inject=function(b,c,e,f){var o=arguments.length>2;b==null&&(b=[]);if(t&&
b.reduce===t)return f&&(c=a.bind(c,f)),o?b.reduce(c,e):b.reduce(c);d(b,function(a,b,d){o?e=c.call(f,e,a,b,d):(e=a,o=true)});if(!o)throw new TypeError("Reduce of empty array with no initial value");return e};a.reduceRight=a.foldr=function(b,d,c,e){var f=arguments.length>2;b==null&&(b=[]);if(v&&b.reduceRight===v)return e&&(d=a.bind(d,e)),f?b.reduceRight(d,c):b.reduceRight(d);var o=a.toArray(b).reverse();e&&!f&&(d=a.bind(d,e));return f?a.reduce(o,d,c,e):a.reduce(o,d)};a.find=a.detect=function(a,b,d){var c;
o(a,function(a,e,n){if(b.call(d,a,e,n))return c=a,true});return c};a.filter=a.select=function(a,b,c){var e=[];if(a==null)return e;if(z&&a.filter===z)return a.filter(b,c);d(a,function(a,d,n){b.call(c,a,d,n)&&(e[e.length]=a)});return e};a.reject=function(a,b,c){var e=[];if(a==null)return e;d(a,function(a,d,n){b.call(c,a,d,n)||(e[e.length]=a)});return e};a.every=a.all=function(a,b,c){var e=true;if(a==null)return e;if(A&&a.every===A)return a.every(b,c);d(a,function(a,d,n){if(!(e=e&&b.call(c,a,d,n)))return g});
return e};var o=a.some=a.any=function(b,c,e){c||(c=a.identity);var f=false;if(b==null)return f;if(k&&b.some===k)return b.some(c,e);d(b,function(a,b,d){if(f||(f=c.call(e,a,b,d)))return g});return!!f};a.include=a.contains=function(a,b){return a==null?false:x&&a.indexOf===x?a.indexOf(b)!=-1:o(a,function(a){return a===b})};a.invoke=function(b,d){var c=j.call(arguments,2);return a.map(b,function(b){return(a.isFunction(d)?d||b:b[d]).apply(b,c)})};a.pluck=function(b,d){return a.map(b,function(a){return a[d]})};
a.max=function(b,c,e){if(!c&&a.isArray(b))return Math.max.apply(Math,b);if(!c&&a.isEmpty(b))return-Infinity;var f={computed:-Infinity};d(b,function(a,b,d){b=c?c.call(e,a,b,d):a;b>=f.computed&&(f={value:a,computed:b})});return f.value};a.min=function(b,c,e){if(!c&&a.isArray(b))return Math.min.apply(Math,b);if(!c&&a.isEmpty(b))return Infinity;var f={computed:Infinity};d(b,function(a,b,d){b=c?c.call(e,a,b,d):a;b<f.computed&&(f={value:a,computed:b})});return f.value};a.shuffle=function(a){var b=[],c;
d(a,function(a,d){d==0?b[0]=a:(c=Math.floor(Math.random()*(d+1)),b[d]=b[c],b[c]=a)});return b};a.sortBy=function(b,d,c){return a.pluck(a.map(b,function(a,b,e){return{value:a,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var d=a.criteria,c=b.criteria;return d<c?-1:d>c?1:0}),"value")};a.groupBy=function(b,c){var e={},f=a.isFunction(c)?c:function(a){return a[c]};d(b,function(a,b){var d=f(a,b);(e[d]||(e[d]=[])).push(a)});return e};a.sortedIndex=function(b,d,c){c||(c=a.identity);for(var e=0,f=b.length;e<
f;){var o=e+f>>1;c(b[o])<c(d)?e=o+1:f=o}return e};a.toArray=function(b){return!b?[]:b.toArray?b.toArray():a.isArray(b)?j.call(b):a.isArguments(b)?j.call(b):a.values(b)};a.size=function(b){return a.toArray(b).length};a.first=a.head=function(a,b,d){return b!=null&&!d?j.call(a,0,b):a[0]};a.initial=function(a,b,d){return j.call(a,0,a.length-(b==null||d?1:b))};a.last=function(a,b,d){return b!=null&&!d?j.call(a,Math.max(a.length-b,0)):a[a.length-1]};a.rest=a.tail=function(a,b,d){return j.call(a,b==null||
d?1:b)};a.compact=function(b){return a.filter(b,function(a){return!!a})};a.flatten=function(b,d){return a.reduce(b,function(b,c){if(a.isArray(c))return b.concat(d?c:a.flatten(c));b[b.length]=c;return b},[])};a.without=function(b){return a.difference(b,j.call(arguments,1))};a.uniq=a.unique=function(b,d,c){var c=c?a.map(b,c):b,e=[];a.reduce(c,function(c,f,o){if(0==o||(d===true?a.last(c)!=f:!a.include(c,f))){c[c.length]=f;e[e.length]=b[o]}return c},[]);return e};a.union=function(){return a.uniq(a.flatten(arguments,
true))};a.intersection=a.intersect=function(b){var d=j.call(arguments,1);return a.filter(a.uniq(b),function(b){return a.every(d,function(d){return a.indexOf(d,b)>=0})})};a.difference=function(b){var d=a.flatten(j.call(arguments,1));return a.filter(b,function(b){return!a.include(d,b)})};a.zip=function(){for(var b=j.call(arguments),d=a.max(a.pluck(b,"length")),c=Array(d),e=0;e<d;e++)c[e]=a.pluck(b,""+e);return c};a.indexOf=function(b,d,c){if(b==null)return-1;var e;if(c)return c=a.sortedIndex(b,d),b[c]===
d?c:-1;if(x&&b.indexOf===x)return b.indexOf(d);c=0;for(e=b.length;c<e;c++)if(c in b&&b[c]===d)return c;return-1};a.lastIndexOf=function(a,b){if(a==null)return-1;if(u&&a.lastIndexOf===u)return a.lastIndexOf(b);for(var d=a.length;d--;)if(d in a&&a[d]===b)return d;return-1};a.range=function(a,b,d){arguments.length<=1&&(b=a||0,a=0);for(var d=arguments[2]||1,c=Math.max(Math.ceil((b-a)/d),0),e=0,f=Array(c);e<c;){f[e++]=a;a=a+d}return f};var w=function(){};a.bind=function(d,c){var e,f;if(d.bind===b&&b)return b.apply(d,
j.call(arguments,1));if(!a.isFunction(d))throw new TypeError;f=j.call(arguments,2);return e=function(){if(!(this instanceof e))return d.apply(c,f.concat(j.call(arguments)));w.prototype=d.prototype;var a=new w,b=d.apply(a,f.concat(j.call(arguments)));return Object(b)===b?b:a}};a.bindAll=function(b){var c=j.call(arguments,1);c.length==0&&(c=a.functions(b));d(c,function(d){b[d]=a.bind(b[d],b)});return b};a.memoize=function(b,d){var c={};d||(d=a.identity);return function(){var e=d.apply(this,arguments);
return a.has(c,e)?c[e]:c[e]=b.apply(this,arguments)}};a.delay=function(a,b){var d=j.call(arguments,2);return setTimeout(function(){return a.apply(a,d)},b)};a.defer=function(b){return a.delay.apply(a,[b,1].concat(j.call(arguments,1)))};a.throttle=function(b,d){var c,e,f,o,g,w=a.debounce(function(){g=o=false},d);return function(){c=this;e=arguments;f||(f=setTimeout(function(){f=null;g&&b.apply(c,e);w()},d));o?g=true:b.apply(c,e);w();o=true}};a.debounce=function(a,b){var d;return function(){var c=this,
e=arguments;clearTimeout(d);d=setTimeout(function(){d=null;a.apply(c,e)},b)}};a.once=function(a){var b=false,d;return function(){if(b)return d;b=true;return d=a.apply(this,arguments)}};a.wrap=function(a,b){return function(){var d=[a].concat(j.call(arguments,0));return b.apply(this,d)}};a.compose=function(){var a=arguments;return function(){for(var b=arguments,d=a.length-1;d>=0;d--)b=[a[d].apply(this,b)];return b[0]}};a.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}};
a.keys=p||function(b){if(b!==Object(b))throw new TypeError("Invalid object");var d=[],c;for(c in b)a.has(b,c)&&(d[d.length]=c);return d};a.values=function(b){return a.map(b,a.identity)};a.functions=a.methods=function(b){var d=[],c;for(c in b)a.isFunction(b[c])&&d.push(c);return d.sort()};a.extend=function(a){d(j.call(arguments,1),function(b){for(var d in b)a[d]=b[d]});return a};a.defaults=function(a){d(j.call(arguments,1),function(b){for(var d in b)a[d]==null&&(a[d]=b[d])});return a};a.clone=function(b){return!a.isObject(b)?
b:a.isArray(b)?b.slice():a.extend({},b)};a.tap=function(a,b){b(a);return a};a.isEqual=function(a,b){return e(a,b,[])};a.isEmpty=function(b){if(a.isArray(b)||a.isString(b))return b.length===0;for(var d in b)if(a.has(b,d))return false;return true};a.isElement=function(a){return!!(a&&a.nodeType==1)};a.isArray=h||function(a){return q.call(a)=="[object Array]"};a.isObject=function(a){return a===Object(a)};a.isArguments=function(a){return q.call(a)=="[object Arguments]"};a.isArguments(arguments)||(a.isArguments=
function(b){return!(!b||!a.has(b,"callee"))});a.isFunction=function(a){return q.call(a)=="[object Function]"};a.isString=function(a){return q.call(a)=="[object String]"};a.isNumber=function(a){return q.call(a)=="[object Number]"};a.isNaN=function(a){return a!==a};a.isBoolean=function(a){return a===true||a===false||q.call(a)=="[object Boolean]"};a.isDate=function(a){return q.call(a)=="[object Date]"};a.isRegExp=function(a){return q.call(a)=="[object RegExp]"};a.isNull=function(a){return a===null};
a.isUndefined=function(a){return a===void 0};a.has=function(a,b){return y.call(a,b)};a.noConflict=function(){c._=m;return this};a.identity=function(a){return a};a.times=function(a,b,d){for(var c=0;c<a;c++)b.call(d,c)};a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};a.mixin=function(b){d(a.functions(b),function(d){H(d,a[d]=b[d])})};var G=0;a.uniqueId=function(a){var b=G++;return a?
a+b:b};a.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/.^/,E=function(a){return a.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};a.template=function(b,d){var c=a.templateSettings,c="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+b.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(c.escape||F,function(a,b){return"',_.escape("+E(b)+"),'"}).replace(c.interpolate||F,function(a,b){return"',"+E(b)+",'"}).replace(c.evaluate||
F,function(a,b){return"');"+E(b).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",e=new Function("obj","_",c);return d?e(d,a):function(b){return e.call(this,b,a)}};a.chain=function(b){return a(b).chain()};var C=function(a){this._wrapped=a};a.prototype=C.prototype;var D=function(b,d){return d?a(b).chain():b},H=function(b,d){C.prototype[b]=function(){var b=j.call(arguments);r.call(b,this._wrapped);return D(d.apply(a,b),
this._chain)}};a.mixin(a);d("pop,push,reverse,shift,sort,splice,unshift".split(","),function(a){var b=f[a];C.prototype[a]=function(){var d=this._wrapped;b.apply(d,arguments);var c=d.length;(a=="shift"||a=="splice")&&c===0&&delete d[0];return D(d,this._chain)}});d(["concat","join","slice"],function(a){var b=f[a];C.prototype[a]=function(){return D(b.apply(this._wrapped,arguments),this._chain)}});C.prototype.chain=function(){this._chain=true;return this};C.prototype.value=function(){return this._wrapped}}).call(this);(function(){var e=this,c=e.Backbone,m=Array.prototype.slice,g=Array.prototype.splice,f;f="undefined"!==typeof exports?exports:e.Backbone={};f.VERSION="0.9.1";var h=e._;!h&&"undefined"!==typeof require&&(h=require("underscore"));var j=e.jQuery||e.Zepto||e.ender;f.setDomLibrary=function(b){j=b};f.noConflict=function(){e.Backbone=c;return this};f.emulateHTTP=!1;f.emulateJSON=!1;f.Events={on:function(b,a,d){for(var c,b=b.split(/\s+/),e=this._callbacks||(this._callbacks={});c=b.shift();){c=e[c]||(e[c]=
{});var f=c.tail||(c.tail=c.next={});f.callback=a;f.context=d;c.tail=f.next={}}return this},off:function(b,a,d){var c,e,f;if(b){if(e=this._callbacks)for(b=b.split(/\s+/);c=b.shift();)if(f=e[c],delete e[c],a&&f)for(;(f=f.next)&&f.next;)if(!(f.callback===a&&(!d||f.context===d)))this.on(c,f.callback,f.context)}else delete this._callbacks;return this},trigger:function(b){var a,d,c,e;if(!(c=this._callbacks))return this;e=c.all;for((b=b.split(/\s+/)).push(null);a=b.shift();)e&&b.push({next:e.next,tail:e.tail,
event:a}),(d=c[a])&&b.push({next:d.next,tail:d.tail});for(e=m.call(arguments,1);d=b.pop();){a=d.tail;for(c=d.event?[d.event].concat(e):e;(d=d.next)!==a;)d.callback.apply(d.context||this,c)}return this}};f.Events.bind=f.Events.on;f.Events.unbind=f.Events.off;f.Model=function(b,a){var d;b||(b={});a&&a.parse&&(b=this.parse(b));if(d=u(this,"defaults"))b=h.extend({},d,b);a&&a.collection&&(this.collection=a.collection);this.attributes={};this._escapedAttributes={};this.cid=h.uniqueId("c");if(!this.set(b,
{silent:!0}))throw Error("Can't create an invalid model");delete this._changed;this._previousAttributes=h.clone(this.attributes);this.initialize.apply(this,arguments)};h.extend(f.Model.prototype,f.Events,{idAttribute:"id",initialize:function(){},toJSON:function(){return h.clone(this.attributes)},get:function(b){return this.attributes[b]},escape:function(b){var a;if(a=this._escapedAttributes[b])return a;a=this.attributes[b];return this._escapedAttributes[b]=h.escape(null==a?"":""+a)},has:function(b){return null!=
this.attributes[b]},set:function(b,a,d){var c,e;h.isObject(b)||null==b?(c=b,d=a):(c={},c[b]=a);d||(d={});if(!c)return this;c instanceof f.Model&&(c=c.attributes);if(d.unset)for(e in c)c[e]=void 0;if(!this._validate(c,d))return!1;this.idAttribute in c&&(this.id=c[this.idAttribute]);var a=this.attributes,g=this._escapedAttributes,j=this._previousAttributes||{},k=this._setting;this._changed||(this._changed={});this._setting=!0;for(e in c)if(b=c[e],h.isEqual(a[e],b)||delete g[e],d.unset?delete a[e]:a[e]=
b,this._changing&&!h.isEqual(this._changed[e],b)&&(this.trigger("change:"+e,this,b,d),this._moreChanges=!0),delete this._changed[e],!h.isEqual(j[e],b)||h.has(a,e)!=h.has(j,e))this._changed[e]=b;k||(!d.silent&&this.hasChanged()&&this.change(d),this._setting=!1);return this},unset:function(b,a){(a||(a={})).unset=!0;return this.set(b,null,a)},clear:function(b){(b||(b={})).unset=!0;return this.set(h.clone(this.attributes),b)},fetch:function(b){var b=b?h.clone(b):{},a=this,d=b.success;b.success=function(c,
e,f){if(!a.set(a.parse(c,f),b))return!1;d&&d(a,c)};b.error=f.wrapError(b.error,a,b);return(this.sync||f.sync).call(this,"read",this,b)},save:function(b,a,d){var c,e;h.isObject(b)||null==b?(c=b,d=a):(c={},c[b]=a);d=d?h.clone(d):{};d.wait&&(e=h.clone(this.attributes));b=h.extend({},d,{silent:!0});if(c&&!this.set(c,d.wait?b:d))return!1;var g=this,j=d.success;d.success=function(a,b,e){b=g.parse(a,e);d.wait&&(b=h.extend(c||{},b));if(!g.set(b,d))return!1;j?j(g,a):g.trigger("sync",g,a,d)};d.error=f.wrapError(d.error,
g,d);a=this.isNew()?"create":"update";a=(this.sync||f.sync).call(this,a,this,d);d.wait&&this.set(e,b);return a},destroy:function(b){var b=b?h.clone(b):{},a=this,d=b.success,c=function(){a.trigger("destroy",a,a.collection,b)};if(this.isNew())return c();b.success=function(e){b.wait&&c();d?d(a,e):a.trigger("sync",a,e,b)};b.error=f.wrapError(b.error,a,b);var e=(this.sync||f.sync).call(this,"delete",this,b);b.wait||c();return e},url:function(){var b=u(this.collection,"url")||u(this,"urlRoot")||p();return this.isNew()?
b:b+("/"==b.charAt(b.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(b){return b},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(b){if(this._changing||!this.hasChanged())return this;this._moreChanges=this._changing=!0;for(var a in this._changed)this.trigger("change:"+a,this,this._changed[a],b);for(;this._moreChanges;)this._moreChanges=!1,this.trigger("change",this,b);this._previousAttributes=h.clone(this.attributes);
delete this._changed;this._changing=!1;return this},hasChanged:function(b){return!arguments.length?!h.isEmpty(this._changed):this._changed&&h.has(this._changed,b)},changedAttributes:function(b){if(!b)return this.hasChanged()?h.clone(this._changed):!1;var a,d=!1,c=this._previousAttributes,e;for(e in b)if(!h.isEqual(c[e],a=b[e]))(d||(d={}))[e]=a;return d},previous:function(b){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[b]},previousAttributes:function(){return h.clone(this._previousAttributes)},
isValid:function(){return!this.validate(this.attributes)},_validate:function(b,a){if(a.silent||!this.validate)return!0;var b=h.extend({},this.attributes,b),d=this.validate(b,a);if(!d)return!0;a&&a.error?a.error(this,d,a):this.trigger("error",this,d,a);return!1}});f.Collection=function(b,a){a||(a={});a.comparator&&(this.comparator=a.comparator);this._reset();this.initialize.apply(this,arguments);b&&this.reset(b,{silent:!0,parse:a.parse})};h.extend(f.Collection.prototype,f.Events,{model:f.Model,initialize:function(){},
toJSON:function(){return this.map(function(b){return b.toJSON()})},add:function(b,a){var d,c,e,f,j,k={},m={};a||(a={});b=h.isArray(b)?b.slice():[b];d=0;for(c=b.length;d<c;d++){if(!(e=b[d]=this._prepareModel(b[d],a)))throw Error("Can't add an invalid model to a collection");if(k[f=e.cid]||this._byCid[f]||null!=(j=e.id)&&(m[j]||this._byId[j]))throw Error("Can't add the same model to a collection twice");k[f]=m[j]=e}for(d=0;d<c;d++)(e=b[d]).on("all",this._onModelEvent,this),this._byCid[e.cid]=e,null!=
e.id&&(this._byId[e.id]=e);this.length+=c;g.apply(this.models,[null!=a.at?a.at:this.models.length,0].concat(b));this.comparator&&this.sort({silent:!0});if(a.silent)return this;d=0;for(c=this.models.length;d<c;d++)if(k[(e=this.models[d]).cid])a.index=d,e.trigger("add",e,this,a);return this},remove:function(b,a){var d,c,e,f;a||(a={});b=h.isArray(b)?b.slice():[b];d=0;for(c=b.length;d<c;d++)if(f=this.getByCid(b[d])||this.get(b[d]))delete this._byId[f.id],delete this._byCid[f.cid],e=this.indexOf(f),this.models.splice(e,
1),this.length--,a.silent||(a.index=e,f.trigger("remove",f,this,a)),this._removeReference(f);return this},get:function(b){return null==b?null:this._byId[null!=b.id?b.id:b]},getByCid:function(b){return b&&this._byCid[b.cid||b]},at:function(b){return this.models[b]},sort:function(b){b||(b={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");var a=h.bind(this.comparator,this);1==this.comparator.length?this.models=this.sortBy(a):this.models.sort(a);b.silent||this.trigger("reset",
this,b);return this},pluck:function(b){return h.map(this.models,function(a){return a.get(b)})},reset:function(b,a){b||(b=[]);a||(a={});for(var d=0,c=this.models.length;d<c;d++)this._removeReference(this.models[d]);this._reset();this.add(b,{silent:!0,parse:a.parse});a.silent||this.trigger("reset",this,a);return this},fetch:function(b){b=b?h.clone(b):{};void 0===b.parse&&(b.parse=!0);var a=this,d=b.success;b.success=function(c,e,f){a[b.add?"add":"reset"](a.parse(c,f),b);d&&d(a,c)};b.error=f.wrapError(b.error,
a,b);return(this.sync||f.sync).call(this,"read",this,b)},create:function(b,a){var d=this,a=a?h.clone(a):{},b=this._prepareModel(b,a);if(!b)return!1;a.wait||d.add(b,a);var c=a.success;a.success=function(e,f){a.wait&&d.add(e,a);c?c(e,f):e.trigger("sync",b,f,a)};b.save(null,a);return b},parse:function(b){return b},chain:function(){return h(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(b,a){b instanceof f.Model?b.collection||
(b.collection=this):(a.collection=this,b=new this.model(b,a),b._validate(b.attributes,a)||(b=!1));return b},_removeReference:function(b){this==b.collection&&delete b.collection;b.off("all",this._onModelEvent,this)},_onModelEvent:function(b,a,d,c){("add"==b||"remove"==b)&&d!=this||("destroy"==b&&this.remove(a,c),a&&b==="change:"+a.idAttribute&&(delete this._byId[a.previous(a.idAttribute)],this._byId[a.id]=a),this.trigger.apply(this,arguments))}});h.each("forEach,each,map,reduce,reduceRight,find,detect,filter,select,reject,every,all,some,any,include,contains,invoke,max,min,sortBy,sortedIndex,toArray,size,first,initial,rest,last,without,indexOf,shuffle,lastIndexOf,isEmpty,groupBy".split(","),
function(b){f.Collection.prototype[b]=function(){return h[b].apply(h,[this.models].concat(h.toArray(arguments)))}});f.Router=function(b){b||(b={});b.routes&&(this.routes=b.routes);this._bindRoutes();this.initialize.apply(this,arguments)};var r=/:\w+/g,q=/\*\w+/g,y=/[-[\]{}()+?.,\\^$|#\s]/g;h.extend(f.Router.prototype,f.Events,{initialize:function(){},route:function(b,a,d){f.history||(f.history=new f.History);h.isRegExp(b)||(b=this._routeToRegExp(b));d||(d=this[a]);f.history.route(b,h.bind(function(c){c=
this._extractParameters(b,c);d&&d.apply(this,c);this.trigger.apply(this,["route:"+a].concat(c));f.history.trigger("route",this,a,c)},this));return this},navigate:function(b,a){f.history.navigate(b,a)},_bindRoutes:function(){if(this.routes){var b=[],a;for(a in this.routes)b.unshift([a,this.routes[a]]);a=0;for(var d=b.length;a<d;a++)this.route(b[a][0],b[a][1],this[b[a][1]])}},_routeToRegExp:function(b){b=b.replace(y,"\\$&").replace(r,"([^/]+)").replace(q,"(.*?)");return RegExp("^"+b+"$")},_extractParameters:function(b,
a){return b.exec(a).slice(1)}});f.History=function(){this.handlers=[];h.bindAll(this,"checkUrl")};var s=/^[#\/]/,l=/msie [\w.]+/,t=!1;h.extend(f.History.prototype,f.Events,{interval:50,getFragment:function(b,a){if(null==b)if(this._hasPushState||a){var b=window.location.pathname,d=window.location.search;d&&(b+=d)}else b=window.location.hash;b=decodeURIComponent(b);b.indexOf(this.options.root)||(b=b.substr(this.options.root.length));return b.replace(s,"")},start:function(b){if(t)throw Error("Backbone.history has already been started");
this.options=h.extend({},{root:"/"},this.options,b);this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);var b=this.getFragment(),a=document.documentMode;if(a=l.exec(navigator.userAgent.toLowerCase())&&(!a||7>=a))this.iframe=j('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(b);this._hasPushState?j(window).bind("popstate",
this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!a?j(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=b;t=!0;b=window.location;a=b.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&a&&b.hash&&
(this.fragment=b.hash.replace(s,""),window.history.replaceState({},document.title,b.protocol+"//"+b.host+this.options.root+this.fragment));if(!this.options.silent)return this.loadUrl()},stop:function(){j(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);t=!1},route:function(b,a){this.handlers.unshift({route:b,callback:a})},checkUrl:function(){var b=this.getFragment();b==this.fragment&&this.iframe&&(b=this.getFragment(this.iframe.location.hash));
if(b==this.fragment||b==decodeURIComponent(this.fragment))return!1;this.iframe&&this.navigate(b);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(b){var a=this.fragment=this.getFragment(b);return h.any(this.handlers,function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(b,a){if(!t)return!1;if(!a||!0===a)a={trigger:a};var d=(b||"").replace(s,"");this.fragment==d||this.fragment==decodeURIComponent(d)||(this._hasPushState?(0!=d.indexOf(this.options.root)&&(d=
this.options.root+d),this.fragment=d,window.history[a.replace?"replaceState":"pushState"]({},document.title,d)):this._wantsHashChange?(this.fragment=d,this._updateHash(window.location,d,a.replace),this.iframe&&d!=this.getFragment(this.iframe.location.hash)&&(a.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,d,a.replace))):window.location.assign(this.options.root+b),a.trigger&&this.loadUrl(b))},_updateHash:function(b,a,d){d?b.replace(b.toString().replace(/(javascript:|#).*$/,
"")+"#"+a):b.hash=a}});f.View=function(b){this.cid=h.uniqueId("view");this._configure(b||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var v=/^(\S+)\s*(.*)$/,z="model,collection,el,id,attributes,className,tagName".split(",");h.extend(f.View.prototype,f.Events,{tagName:"div",$:function(b){return this.$el.find(b)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();return this},make:function(b,a,d){b=document.createElement(b);
a&&j(b).attr(a);d&&j(b).html(d);return b},setElement:function(b,a){this.$el=j(b);this.el=this.$el[0];!1!==a&&this.delegateEvents();return this},delegateEvents:function(b){if(b||(b=u(this,"events"))){this.undelegateEvents();for(var a in b){var d=b[a];h.isFunction(d)||(d=this[b[a]]);if(!d)throw Error('Event "'+b[a]+'" does not exist');var c=a.match(v),e=c[1],c=c[2],d=h.bind(d,this),e=e+(".delegateEvents"+this.cid);""===c?this.$el.bind(e,d):this.$el.delegate(c,e,d)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+
this.cid)},_configure:function(b){this.options&&(b=h.extend({},this.options,b));for(var a=0,d=z.length;a<d;a++){var c=z[a];b[c]&&(this[c]=b[c])}this.options=b},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var b=u(this,"attributes")||{};this.id&&(b.id=this.id);this.className&&(b["class"]=this.className);this.setElement(this.make(this.tagName,b),!1)}}});f.Model.extend=f.Collection.extend=f.Router.extend=f.View.extend=function(b,a){var d=x(this,b,a);d.extend=this.extend;return d};
var A={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};f.sync=function(b,a,d){var c=A[b],e={type:c,dataType:"json"};d.url||(e.url=u(a,"url")||p());if(!d.data&&a&&("create"==b||"update"==b))e.contentType="application/json",e.data=JSON.stringify(a.toJSON());f.emulateJSON&&(e.contentType="application/x-www-form-urlencoded",e.data=e.data?{model:e.data}:{});if(f.emulateHTTP&&("PUT"===c||"DELETE"===c))f.emulateJSON&&(e.data._method=c),e.type="POST",e.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",
c)};"GET"!==e.type&&!f.emulateJSON&&(e.processData=!1);return j.ajax(h.extend(e,d))};f.wrapError=function(b,a,d){return function(c,e){e=c===a?e:c;b?b(a,e,d):a.trigger("error",a,e,d)}};var k=function(){},x=function(b,a,d){var c;c=a&&a.hasOwnProperty("constructor")?a.constructor:function(){b.apply(this,arguments)};h.extend(c,b);k.prototype=b.prototype;c.prototype=new k;a&&h.extend(c.prototype,a);d&&h.extend(c,d);c.prototype.constructor=c;c.__super__=b.prototype;return c},u=function(b,a){return!b||!b[a]?
null:h.isFunction(b[a])?b[a]():b[a]},p=function(){throw Error('A "url" property or function must be specified');}}).call(this);(function(){var e=Math,c=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":"",m=/android/gi.test(navigator.appVersion),g=/iphone|ipad/gi.test(navigator.appVersion),f=/playbook/gi.test(navigator.appVersion),h=/hp-tablet/gi.test(navigator.appVersion),j="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,r="ontouchstart"in window&&!h,q=c+"Transform"in document.documentElement.style,y=g||f,s=function(){return window.requestAnimationFrame||
window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){return setTimeout(b,1)}}(),l=window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,t="onorientationchange"in window?"orientationchange":"resize",v=r?"touchstart":"mousedown",
z=r?"touchmove":"mousemove",A=r?"touchend":"mouseup",k=r?"touchcancel":"mouseup",x="Moz"==c?"DOMMouseScroll":"mousewheel",u="translate"+(j?"3d(":"("),p=j?",0)":")",f=function(b,a){var d=this,e;d.wrapper="object"==typeof b?b:document.getElementById(b);d.wrapper.style.overflow="hidden";d.scroller=d.wrapper.children[0];d.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,hScrollbar:!0,vScrollbar:!0,
fixedScrollbar:m,hideScrollbar:g,fadeScrollbar:g&&j,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(e in a)d.options[e]=a[e];d.x=d.options.x;d.y=d.options.y;d.options.useTransform=q?d.options.useTransform:
!1;d.options.hScrollbar=d.options.hScroll&&d.options.hScrollbar;d.options.vScrollbar=d.options.vScroll&&d.options.vScrollbar;d.options.zoom=d.options.useTransform&&d.options.zoom;d.options.useTransition=y&&d.options.useTransition;d.options.zoom&&m&&(u="translate(",p=")");d.scroller.style[c+"TransitionProperty"]=d.options.useTransform?"-"+c.toLowerCase()+"-transform":"top left";d.scroller.style[c+"TransitionDuration"]="0";d.scroller.style[c+"TransformOrigin"]="0 0";d.options.useTransition&&(d.scroller.style[c+
"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)");d.options.useTransform?d.scroller.style[c+"Transform"]=u+d.x+"px,"+d.y+"px"+p:d.scroller.style.cssText+=";position:absolute;top:"+d.y+"px;left:"+d.x+"px";d.options.useTransition&&(d.options.fixedScrollbar=!0);d.refresh();d._bind(t,window);d._bind(v);r||(d._bind("mouseout",d.wrapper),"none"!=d.options.wheelAction&&d._bind(x));d.options.checkDOMChanges&&(d.checkDOMTime=setInterval(function(){d._checkDOMChanges()},500))};f.prototype={enabled:!0,
x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(b){switch(b.type){case v:if(!r&&0!==b.button)break;this._start(b);break;case z:this._move(b);break;case A:case k:this._end(b);break;case t:this._resize();break;case x:this._wheel(b);break;case "mouseout":this._mouseout(b);break;case "webkitTransitionEnd":this._transitionEnd(b)}},_checkDOMChanges:function(){!this.moved&&!this.zoomed&&!(this.animating||this.scrollerW==this.scroller.offsetWidth*
this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)&&this.refresh()},_scrollbar:function(b){var a=document,d;this[b+"Scrollbar"]?(this[b+"ScrollbarWrapper"]||(d=a.createElement("div"),this.options.scrollbarClass?d.className=this.options.scrollbarClass+b.toUpperCase():d.style.cssText="position:absolute;z-index:100;"+("h"==b?"height:7px;bottom:1px;left:2px;right:"+(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(this.hScrollbar?"7":"2")+"px;top:2px;right:1px"),d.style.cssText+=";pointer-events:none;-"+
c+"-transition-property:opacity;-"+c+"-transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.hideScrollbar?"0":"1"),this.wrapper.appendChild(d),this[b+"ScrollbarWrapper"]=d,d=a.createElement("div"),this.options.scrollbarClass||(d.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+c+"-background-clip:padding-box;-"+c+"-box-sizing:border-box;"+("h"==b?"height:100%":"width:100%")+";-"+c+
"-border-radius:3px;border-radius:3px"),d.style.cssText+=";pointer-events:none;-"+c+"-transition-property:-"+c+"-transform;-"+c+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+c+"-transition-duration:0;-"+c+"-transform:"+u+"0,0"+p,this.options.useTransition&&(d.style.cssText+=";-"+c+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),this[b+"ScrollbarWrapper"].appendChild(d),this[b+"ScrollbarIndicator"]=d),"h"==b?(this.hScrollbarSize=this.hScrollbarWrapper.clientWidth,this.hScrollbarIndicatorSize=
e.max(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW>>0,8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=this.hScrollbarSize-this.hScrollbarIndicatorSize,this.hScrollbarProp=this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,this.vScrollbarIndicatorSize=e.max(this.vScrollbarSize*this.vScrollbarSize/this.scrollerH>>0,8),this.vScrollbarIndicator.style.height=this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=
this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY),this._scrollbarPos(b,!0)):this[b+"ScrollbarWrapper"]&&(q&&(this[b+"ScrollbarIndicator"].style[c+"Transform"]=""),this[b+"ScrollbarWrapper"].parentNode.removeChild(this[b+"ScrollbarWrapper"]),this[b+"ScrollbarWrapper"]=null,this[b+"ScrollbarIndicator"]=null)},_resize:function(){var b=this;setTimeout(function(){b.refresh()},m?200:0)},_pos:function(b,a){b=this.hScroll?b:0;a=this.vScroll?a:0;
this.options.useTransform?this.scroller.style[c+"Transform"]=u+b+"px,"+a+"px"+p+" scale("+this.scale+")":(b>>=0,a>>=0,this.scroller.style.left=b+"px",this.scroller.style.top=a+"px");this.x=b;this.y=a;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(b,a){var d="h"==b?this.x:this.y;this[b+"Scrollbar"]&&(d*=this[b+"ScrollbarProp"],0>d?(this.options.fixedScrollbar||(d=this[b+"ScrollbarIndicatorSize"]+(3*d>>0),8>d&&(d=8),this[b+"ScrollbarIndicator"].style["h"==b?"width":"height"]=
d+"px"),d=0):d>this[b+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?d=this[b+"ScrollbarMaxScroll"]:(d=this[b+"ScrollbarIndicatorSize"]-(3*(d-this[b+"ScrollbarMaxScroll"])>>0),8>d&&(d=8),this[b+"ScrollbarIndicator"].style["h"==b?"width":"height"]=d+"px",d=this[b+"ScrollbarMaxScroll"]+(this[b+"ScrollbarIndicatorSize"]-d))),this[b+"ScrollbarWrapper"].style[c+"TransitionDelay"]="0",this[b+"ScrollbarWrapper"].style.opacity=a&&this.options.hideScrollbar?"0":"1",this[b+"ScrollbarIndicator"].style[c+
"Transform"]=u+("h"==b?d+"px,0":"0,"+d+"px")+p)},_start:function(b){var a=r?b.touches[0]:b,d,f;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,b);(this.options.useTransition||this.options.zoom)&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;this.options.zoom&&r&&1<b.touches.length&&(f=e.abs(b.touches[0].pageX-b.touches[1].pageX),d=e.abs(b.touches[0].pageY-b.touches[1].pageY),
this.touchesDistStart=e.sqrt(f*f+d*d),this.originX=e.abs(b.touches[0].pageX+b.touches[1].pageX-2*this.wrapperOffsetLeft)/2-this.x,this.originY=e.abs(b.touches[0].pageY+b.touches[1].pageY-2*this.wrapperOffsetTop)/2-this.y,this.options.onZoomStart&&this.options.onZoomStart.call(this,b));if(this.options.momentum&&(this.options.useTransform?(d=getComputedStyle(this.scroller,null)[c+"Transform"].replace(/[^0-9-.,]/g,"").split(","),f=1*d[4],d=1*d[5]):(f=1*getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,
""),d=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),f!=this.x||d!=this.y))this.options.useTransition?this._unbind("webkitTransitionEnd"):l(this.aniTime),this.steps=[],this._pos(f,d);this.absStartX=this.x;this.absStartY=this.y;this.startX=this.x;this.startY=this.y;this.pointX=a.pageX;this.pointY=a.pageY;this.startTime=b.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,b);this._bind(z);this._bind(A);this._bind(k)}},_move:function(b){var a=r?
b.touches[0]:b,d=a.pageX-this.pointX,f=a.pageY-this.pointY,g=this.x+d,h=this.y+f,j=b.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,b);if(this.options.zoom&&r&&1<b.touches.length)g=e.abs(b.touches[0].pageX-b.touches[1].pageX),h=e.abs(b.touches[0].pageY-b.touches[1].pageY),this.touchesDist=e.sqrt(g*g+h*h),this.zoomed=!0,a=1/this.touchesDistStart*this.touchesDist*this.scale,a<this.options.zoomMin?a=0.5*this.options.zoomMin*Math.pow(2,a/this.options.zoomMin):
a>this.options.zoomMax&&(a=2*this.options.zoomMax*Math.pow(0.5,this.options.zoomMax/a)),this.lastScale=a/this.scale,g=this.originX-this.originX*this.lastScale+this.x,h=this.originY-this.originY*this.lastScale+this.y,this.scroller.style[c+"Transform"]=u+g+"px,"+h+"px"+p+" scale("+a+")",this.options.onZoom&&this.options.onZoom.call(this,b);else{this.pointX=a.pageX;this.pointY=a.pageY;if(0<g||g<this.maxScrollX)g=this.options.bounce?this.x+d/2:0<=g||0<=this.maxScrollX?0:this.maxScrollX;if(h>this.minScrollY||
h<this.maxScrollY)h=this.options.bounce?this.y+f/2:h>=this.minScrollY||0<=this.maxScrollY?this.minScrollY:this.maxScrollY;this.distX+=d;this.distY+=f;this.absDistX=e.abs(this.distX);this.absDistY=e.abs(this.distY);6>this.absDistX&&6>this.absDistY||(this.options.lockDirection&&(this.absDistX>this.absDistY+5?(h=this.y,f=0):this.absDistY>this.absDistX+5&&(g=this.x,d=0)),this.moved=!0,this._pos(g,h),this.dirX=0<d?-1:0>d?1:0,this.dirY=0<f?-1:0>f?1:0,300<j-this.startTime&&(this.startTime=j,this.startX=
this.x,this.startY=this.y),this.options.onScrollMove&&this.options.onScrollMove.call(this,b))}},_end:function(b){if(!(r&&0!=b.touches.length)){var a=this,d=r?b.changedTouches[0]:b,f,g,h={dist:0,time:0},j={dist:0,time:0},m=(b.timeStamp||Date.now())-a.startTime,l=a.x,q=a.y;a._unbind(z);a._unbind(A);a._unbind(k);a.options.onBeforeScrollEnd&&a.options.onBeforeScrollEnd.call(a,b);if(a.zoomed)l=a.scale*a.lastScale,l=Math.max(a.options.zoomMin,l),l=Math.min(a.options.zoomMax,l),a.lastScale=l/a.scale,a.scale=
l,a.x=a.originX-a.originX*a.lastScale+a.x,a.y=a.originY-a.originY*a.lastScale+a.y,a.scroller.style[c+"TransitionDuration"]="200ms",a.scroller.style[c+"Transform"]=u+a.x+"px,"+a.y+"px"+p+" scale("+a.scale+")",a.zoomed=!1,a.refresh(),a.options.onZoomEnd&&a.options.onZoomEnd.call(a,b);else{if(a.moved){if(300>m&&a.options.momentum){h=l?a._momentum(l-a.startX,m,-a.x,a.scrollerW-a.wrapperW+a.x,a.options.bounce?a.wrapperW:0):h;j=q?a._momentum(q-a.startY,m,-a.y,0>a.maxScrollY?a.scrollerH-a.wrapperH+a.y-a.minScrollY:
0,a.options.bounce?a.wrapperH:0):j;l=a.x+h.dist;q=a.y+j.dist;if(0<a.x&&0<l||a.x<a.maxScrollX&&l<a.maxScrollX)h={dist:0,time:0};if(a.y>a.minScrollY&&q>a.minScrollY||a.y<a.maxScrollY&&q<a.maxScrollY)j={dist:0,time:0}}h.dist||j.dist?(h=e.max(e.max(h.time,j.time),10),a.options.snap&&(j=l-a.absStartX,m=q-a.absStartY,e.abs(j)<a.options.snapThreshold&&e.abs(m)<a.options.snapThreshold?a.scrollTo(a.absStartX,a.absStartY,200):(j=a._snap(l,q),l=j.x,q=j.y,h=e.max(j.time,h))),a.scrollTo(l>>0,q>>0,h)):a.options.snap?
(j=l-a.absStartX,m=q-a.absStartY,e.abs(j)<a.options.snapThreshold&&e.abs(m)<a.options.snapThreshold?a.scrollTo(a.absStartX,a.absStartY,200):(j=a._snap(a.x,a.y),(j.x!=a.x||j.y!=a.y)&&a.scrollTo(j.x,j.y,j.time))):a._resetPos(200)}else r&&(a.doubleTapTimer&&a.options.zoom?(clearTimeout(a.doubleTapTimer),a.doubleTapTimer=null,a.options.onZoomStart&&a.options.onZoomStart.call(a,b),a.zoom(a.pointX,a.pointY,1==a.scale?a.options.doubleTapZoom:1),a.options.onZoomEnd&&setTimeout(function(){a.options.onZoomEnd.call(a,
b)},200)):a.doubleTapTimer=setTimeout(function(){a.doubleTapTimer=null;for(f=d.target;1!=f.nodeType;)f=f.parentNode;"SELECT"!=f.tagName&&"INPUT"!=f.tagName&&"TEXTAREA"!=f.tagName&&(g=document.createEvent("MouseEvents"),g.initMouseEvent("click",!0,!0,b.view,1,d.screenX,d.screenY,d.clientX,d.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,0,null),g._fake=!0,f.dispatchEvent(g))},a.options.zoom?250:0)),a._resetPos(200);a.options.onTouchEnd&&a.options.onTouchEnd.call(a,b)}}},_resetPos:function(b){var a=
0<=this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,d=this.y>=this.minScrollY||0<this.maxScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y;if(a==this.x&&d==this.y){if(this.moved&&(this.moved=!1,this.options.onScrollEnd&&this.options.onScrollEnd.call(this)),this.hScrollbar&&this.options.hideScrollbar&&("webkit"==c&&(this.hScrollbarWrapper.style[c+"TransitionDelay"]="300ms"),this.hScrollbarWrapper.style.opacity="0"),this.vScrollbar&&this.options.hideScrollbar)"webkit"==c&&
(this.vScrollbarWrapper.style[c+"TransitionDelay"]="300ms"),this.vScrollbarWrapper.style.opacity="0"}else this.scrollTo(a,d,b||0)},_wheel:function(b){var a=this,d,c;if("wheelDeltaX"in b)d=b.wheelDeltaX/12,c=b.wheelDeltaY/12;else if("wheelDelta"in b)d=c=b.wheelDelta/12;else if("detail"in b)d=c=3*-b.detail;else return;if("zoom"==a.options.wheelAction){if(c=a.scale*Math.pow(2,1/3*(c?c/Math.abs(c):0)),c<a.options.zoomMin&&(c=a.options.zoomMin),c>a.options.zoomMax&&(c=a.options.zoomMax),c!=a.scale)!a.wheelZoomCount&&
a.options.onZoomStart&&a.options.onZoomStart.call(a,b),a.wheelZoomCount++,a.zoom(b.pageX,b.pageY,c,400),setTimeout(function(){a.wheelZoomCount--;!a.wheelZoomCount&&a.options.onZoomEnd&&a.options.onZoomEnd.call(a,b)},400)}else d=a.x+d,c=a.y+c,0<d?d=0:d<a.maxScrollX&&(d=a.maxScrollX),c>a.minScrollY?c=a.minScrollY:c<a.maxScrollY&&(c=a.maxScrollY),a.scrollTo(d,c,0)},_mouseout:function(b){var a=b.relatedTarget;if(a)for(;a=a.parentNode;)if(a==this.wrapper)return;this._end(b)},_transitionEnd:function(b){b.target==
this.scroller&&(this._unbind("webkitTransitionEnd"),this._startAni())},_startAni:function(){var b=this,a=b.x,d=b.y,c=Date.now(),f,g,h;b.animating||(b.steps.length?(f=b.steps.shift(),f.x==a&&f.y==d&&(f.time=0),b.animating=!0,b.moved=!0,b.options.useTransition)?(b._transitionTime(f.time),b._pos(f.x,f.y),b.animating=!1,f.time?b._bind("webkitTransitionEnd"):b._resetPos(0)):(h=function(){var j=Date.now();if(j>=c+f.time){b._pos(f.x,f.y);b.animating=false;b.options.onAnimationEnd&&b.options.onAnimationEnd.call(b);
b._startAni()}else{j=(j-c)/f.time-1;g=e.sqrt(1-j*j);j=(f.x-a)*g+a;b._pos(j,(f.y-d)*g+d);if(b.animating)b.aniTime=s(h)}},h()):b._resetPos(400))},_transitionTime:function(b){b+="ms";this.scroller.style[c+"TransitionDuration"]=b;this.hScrollbar&&(this.hScrollbarIndicator.style[c+"TransitionDuration"]=b);this.vScrollbar&&(this.vScrollbarIndicator.style[c+"TransitionDuration"]=b)},_momentum:function(b,a,d,c,f){var a=e.abs(b)/a,g=a*a/0.0012;0<b&&g>d?(d+=f/(6/(6.0E-4*(g/a))),a=a*d/g,g=d):0>b&&g>c&&(c+=f/
(6/(6.0E-4*(g/a))),a=a*c/g,g=c);return{dist:g*(0>b?-1:1),time:a/6.0E-4>>0}},_offset:function(b){for(var a=-b.offsetLeft,d=-b.offsetTop;b=b.offsetParent;)a-=b.offsetLeft,d-=b.offsetTop;b!=this.wrapper&&(a*=this.scale,d*=this.scale);return{left:a,top:d}},_snap:function(b,a){var d,c,f;f=this.pagesX.length-1;d=0;for(c=this.pagesX.length;d<c;d++)if(b>=this.pagesX[d]){f=d;break}f==this.currPageX&&0<f&&0>this.dirX&&f--;b=this.pagesX[f];c=(c=e.abs(b-this.pagesX[this.currPageX]))?500*(e.abs(this.x-b)/c):0;
this.currPageX=f;f=this.pagesY.length-1;for(d=0;d<f;d++)if(a>=this.pagesY[d]){f=d;break}f==this.currPageY&&0<f&&0>this.dirY&&f--;a=this.pagesY[f];d=(d=e.abs(a-this.pagesY[this.currPageY]))?500*(e.abs(this.y-a)/d):0;this.currPageY=f;f=e.max(c,d)>>0;return{x:b,y:a,time:f||200}},_bind:function(b,a,d){(a||this.scroller).addEventListener(b,this,!!d)},_unbind:function(b,a,d){(a||this.scroller).removeEventListener(b,this,!!d)},destroy:function(){this.scroller.style[c+"Transform"]="";this.vScrollbar=this.hScrollbar=
!1;this._scrollbar("h");this._scrollbar("v");this._unbind(t,window);this._unbind(v);this._unbind(z);this._unbind(A);this._unbind(k);this.options.hasTouch||(this._unbind("mouseout",this.wrapper),this._unbind(x));this.options.useTransition&&this._unbind("webkitTransitionEnd");this.options.checkDOMChanges&&clearInterval(this.checkDOMTime);this.options.onDestroy&&this.options.onDestroy.call(this)},setOption:function(b){for(i in b)this.options[i]=b[i];this.refresh()},refresh:function(){var b,a,d,e=0;a=
0;this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin);this.wrapperW=this.wrapper.clientWidth||1;this.wrapperH=this.wrapper.clientHeight||1;this.minScrollY=-this.options.topOffset||0;this.scrollerW=this.scroller.offsetWidth*this.scale>>0;this.scrollerH=(this.scroller.offsetHeight+this.minScrollY)*this.scale>>0;this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY;this.dirY=this.dirX=0;this.options.onRefresh&&this.options.onRefresh.call(this);
this.hScroll=this.options.hScroll&&0>this.maxScrollX;this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);this.hScrollbar=this.hScroll&&this.options.hScrollbar;this.vScrollbar=this.vScroll&&this.options.vScrollbar&&this.scrollerH>this.wrapperH;b=this._offset(this.wrapper);this.wrapperOffsetLeft=-b.left;this.wrapperOffsetTop=-b.top;if("string"==typeof this.options.snap){this.pagesX=[];this.pagesY=[];d=this.scroller.querySelectorAll(this.options.snap);
b=0;for(a=d.length;b<a;b++)e=this._offset(d[b]),e.left+=this.wrapperOffsetLeft,e.top+=this.wrapperOffsetTop,this.pagesX[b]=e.left<this.maxScrollX?this.maxScrollX:e.left*this.scale,this.pagesY[b]=e.top<this.maxScrollY?this.maxScrollY:e.top*this.scale}else if(this.options.snap){for(this.pagesX=[];e>=this.maxScrollX;)this.pagesX[a]=e,e-=this.wrapperW,a++;this.maxScrollX%this.wrapperW&&(this.pagesX[this.pagesX.length]=this.maxScrollX-this.pagesX[this.pagesX.length-1]+this.pagesX[this.pagesX.length-1]);
a=e=0;for(this.pagesY=[];e>=this.maxScrollY;)this.pagesY[a]=e,e-=this.wrapperH,a++;this.maxScrollY%this.wrapperH&&(this.pagesY[this.pagesY.length]=this.maxScrollY-this.pagesY[this.pagesY.length-1]+this.pagesY[this.pagesY.length-1])}this._scrollbar("h");this._scrollbar("v");this.zoomed||(this.scroller.style[c+"TransitionDuration"]="0",this._resetPos(200))},scrollTo:function(b,a,d,c){var e=b;this.stop();e.length||(e=[{x:b,y:a,time:d,relative:c}]);b=0;for(a=e.length;b<a;b++)e[b].relative&&(e[b].x=this.x-
e[b].x,e[b].y=this.y-e[b].y),this.steps.push({x:e[b].x,y:e[b].y,time:e[b].time||0});this._startAni()},scrollToElement:function(b,a){var d;if(b=b.nodeType?b:this.scroller.querySelector(b))d=this._offset(b),d.left+=this.wrapperOffsetLeft,d.top+=this.wrapperOffsetTop,d.left=0<d.left?0:d.left<this.maxScrollX?this.maxScrollX:d.left,d.top=d.top>this.minScrollY?this.minScrollY:d.top<this.maxScrollY?this.maxScrollY:d.top,a=void 0===a?e.max(2*e.abs(d.left),2*e.abs(d.top)):a,this.scrollTo(d.left,d.top,a)},
scrollToPage:function(b,a,d){d=void 0===d?400:d;this.options.onScrollStart&&this.options.onScrollStart.call(this);if(this.options.snap)b="next"==b?this.currPageX+1:"prev"==b?this.currPageX-1:b,a="next"==a?this.currPageY+1:"prev"==a?this.currPageY-1:a,b=0>b?0:b>this.pagesX.length-1?this.pagesX.length-1:b,a=0>a?0:a>this.pagesY.length-1?this.pagesY.length-1:a,this.currPageX=b,this.currPageY=a,b=this.pagesX[b],a=this.pagesY[a];else if(b*=-this.wrapperW,a*=-this.wrapperH,b<this.maxScrollX&&(b=this.maxScrollX),
a<this.maxScrollY)a=this.maxScrollY;this.scrollTo(b,a,d)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(z);this._unbind(A);this._unbind(k)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind("webkitTransitionEnd"):l(this.aniTime);this.steps=[];this.animating=this.moved=!1},zoom:function(b,a,d,e){var f=d/this.scale;this.options.useTransform&&(this.zoomed=!0,e=void 0===e?200:e,b=b-this.wrapperOffsetLeft-this.x,a=a-this.wrapperOffsetTop-
this.y,this.x=b-b*f+this.x,this.y=a-a*f+this.y,this.scale=d,this.refresh(),this.x=0<this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,this.y=this.y>this.minScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y,this.scroller.style[c+"TransitionDuration"]=e+"ms",this.scroller.style[c+"Transform"]=u+this.x+"px,"+this.y+"px"+p+" scale("+d+")",this.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};"undefined"!==typeof exports?exports.iScroll=f:window.iScroll=
f})();window.languages=window.languages||{};window.languages["zh-tw"]={setting:{DST:8,format:"Y 年 m 月 d 日 (D) H:i:s",AM:"上午",PM:"下午"},shortMonths:"1 月,2 月,3 月,4 月,5 月,6 月,7 月,8 月,9 月,10 月,11 月,12 月".split(","),longMonths:"一月,二月,三月,四月,五月,六月,七月,八月,九月,十月,十一月,十二月".split(","),shortDays:"日,一,二,三,四,五,六".split(","),longDays:"星期日,星期一,星期二,星期三,星期四,星期五,星期六".split(","),orderTab:"點餐",historyTab:"紀錄",feedbackTab:"意見",aboutUsTab:"關於","Hello World":"哈囉! 世界","Nice to meet you, %1":"很高興認識你，%1","My name is %1, I'm %2 years old":"我的名字是 %1，我今年 %2 歲"};var supportedLang="zh-tw",defaultLang="zh-tw",language=window.navigator.userLanguage||window.navigator.language||defaultLang,language=language.toLowerCase();0>supportedLang.indexOf(language)&&(language=defaultLang);i18n.set(window.languages[language]);$(document).ready(function(){$("#backgroundLogo").remove();new myapp.Router;Backbone.history.start()});(function(){var e=Backbone.Model.extend({defaults:{deliveryLimit:99999,deliveryFee:99999,lat:99999,lng:99999},idAttribute:"storeNameId"});window.myapp=window.myapp||{};window.myapp.Model=window.myapp.Model||{};window.myapp.Model.Store=e})();(function(e){e=Backbone.Collection.extend({model:e,getByRegion:function(c){this.url="/jashami/testData/storeList";this.fetch({success:c})}});window.myapp=window.myapp||{};window.myapp.Collection=window.myapp.Collection||{};window.myapp.Collection.StoreList=e})(window.myapp.Model.Store);window.myapp=window.myapp||{};window.myapp.Images={JashamiLogo:"data:image/png;base64,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"};(function(e){var c=Backbone.View.extend({initialize:function(){this.container=document.createElement("div");this.content=document.createElement("div");this.container.appendChild(this.content);this.el=this.container;this.container.style.overflow="hidden";this.content.style.width="100%";this.content.style.height="100%";this.scroll=new e(this.container,{hScrollbar:!1,vScrollbar:!1});var c=this,g=function(){c.scroll.refresh();[].slice.call(c.content.querySelectorAll("input, select, button")).forEach(function(c){c.addEventListener("ontouchstart"in
window?"touchstart":"mousedown",function(c){c.stopPropagation()})})};$(this.container).bind("DOMNodeInsertedIntoDocument",g);$(this.container).bind("resize",g)},events:{},html:function(c){$(this.content).html(c)},setPullToRefresh:function(c){var e={pullDownOffset:30,pullUpOffset:30};for(i in c)e[i]=c[i];pullDownEl=e.pullDownEl;pullUpEl=e.pullUpEl;pullDownOffset=e.pullDownOffset;pullUpOffset=e.pullUpOffset;pullUpAction=e.pullUpAction;pullDownAction=e.pullDownAction;pullDownEl&&pullDownEl.html('<span class="pullDownIcon"></span><span class="pullDownLabel">Pull down to refresh...</span>');
pullUpEl&&pullUpEl.html('<span class="pullUpIcon"></span><span class="pullUpLabel">Pull up to refresh...</span>');this.render({useTransition:!0,topOffset:pullDownOffset,onRefresh:function(){pullDownEl&&pullDownEl.hasClass("loading")?(pullDownEl.removeClass("loading"),$(".pullDownLabel",pullDownEl).html("Pull down to refresh...")):pullUpEl&&pullUpEl.hasClass("loading")&&(pullUpEl.removeClass("loading"),$(".pullUpLabel",pullUpEl).html("Pull up to load more..."))},onScrollMove:function(){pullDownEl&&
5<this.y&&!pullDownEl.hasClass("flip")?(pullDownEl.addClass("flip"),$(".pullDownLabel",pullDownEl).html("Release to refresh..."),this.minScrollY=0):pullDownEl&&5>this.y&&pullDownEl.hasClass("flip")?(pullDownEl.removeClass("flip"),$(".pullDownLabel",pullDownEl).html("Pull down to refresh..."),this.minScrollY=-pullDownOffset):pullUpEl&&this.y<this.maxScrollY-5&&!pullUpEl.hasClass("flip")?(pullUpEl.addClass("flip"),$(".pullUpLabel",pullUpEl).html("Release to refresh..."),this.maxScrollY=this.maxScrollY):
pullUpEl&&this.y>this.maxScrollY+5&&pullUpEl.hasClass("flip")&&(pullUpEl.removeClass("flip"),$(".pullUpLabel",pullUpEl).html("Pull up to load more..."),this.maxScrollY=pullUpOffset)},onScrollEnd:function(){pullDownEl&&pullDownEl.hasClass("flip")?(pullDownEl.removeClass("flip").addClass("loading"),$(".pullDownLabel",pullDownEl).html("Loading..."),pullDownAction()):pullUpEl&&pullUpEl.hasClass("flip")&&(pullUpEl.removeClass("flip").addClass("loading"),$(".pullUpLabel",pullUpEl).html("Loading..."),pullUpAction())}})},
render:function(c){c?this.scroll.setOption(c):this.scroll.refresh();return this}});window.myapp=window.myapp||{};window.myapp.Widget=window.myapp.Widget||{};window.myapp.Widget.Scroller=c})(iScroll);(function(){var e=Backbone.View.extend({initialize:function(){this._isEnabled=!0;this._clickStart=!1;this._lastY=this._lastX=null},events:{mouseout:"onMouseOut",mousedown:"mouseDown",touchstart:"touchStart",touchmove:"touchMove",mouseup:"mouseUp",touchend:"touchEnd"},onMouseOut:function(){this._clickStart=!1;$(this.el).removeClass("Pressed")},mouseDown:function(c){c.preventDefault();c.stopPropagation();this.start(c.clientX,c.clientY)},touchStart:function(c){c.preventDefault();c.stopPropagation();
this.start(c.originalEvent.changedTouches[0].pageX,c.originalEvent.changedTouches[0].pageY)},touchMove:function(c){c.preventDefault();c.stopPropagation();var e=c.target.getBoundingClientRect(),g=e.left,e=e.top,f=c.target.clientWidth,h=c.target.clientHeight,j=c.originalEvent.changedTouches[0].pageX,c=c.originalEvent.changedTouches[0].pageY;if(j<g||j>g+f||c<e||c>e+h)this._clickStart=!1,$(this.el).removeClass("Pressed")},mouseUp:function(c){c.preventDefault();c.stopPropagation();this.end(c.clientX,c.clientY)},
touchEnd:function(c){c.preventDefault();c.stopPropagation();this.end(c.originalEvent.changedTouches[0].pageX,c.originalEvent.changedTouches[0].pageY)},start:function(c,e){this._isEnabled&&null!=c&&null!=e&&(this._lastX=c,this._lastY=e,this._clickStart=!0,this.changeColorWhenTouch&&$(this.el).addClass("Pressed"))},end:function(c,e){this._isEnabled&&null!=c&&null!=e&&(this._lastY=this._lastX=null,this._clickStart&&$(this.el).trigger("clickByTouch"),this._clickStart=!1,$(this.el).removeClass("Pressed"))}});
window.myapp=window.myapp||{};window.myapp.Widget=window.myapp.Widget||{};window.myapp.Widget.TouchWidget=e})();(function(){var e=Backbone.View.extend({render:function(){var c=this.model.get("displayedName"),e=this.model.get("msg"),g=this.model.get("imgUrl");$(this.el).html(_.template('<img src="<%= img %>"></img><div class="Tag"></div><div class="InfoWidget"><div class="NameWidget"><div class="Name"><%= name %></div><div class="Msg"><%= msg %></div></div><div class="Bar"><div></div></div><div class="Status"></div></div>',{name:c,msg:e,img:g}));$(this.el).addClass("StoreBriefWidget3");return this}});window.myapp=
window.myapp||{};window.myapp.View=window.myapp.View||{};window.myapp.View.StoreBrief=e})();(function(e,c,m,g){c=Backbone.View.extend({initialize:function(){var c=new e;c.html(_.template('<div class="StoreList"></div>'));$(this.el).html(c.render().el);$(this.el).css("background-color","rgba(255, 255, 255, 0.75)");$(this.el).css("display","-webkit-box");$(c.el).css("width","100%");var h=this,j=new m;j.getByRegion(function(){_.each(j.models,function(c){c=new g({model:c});$(".StoreList",h.el).append(c.render().el)});$("img",this.el).bind("load",function(){console.log("dsdsd");c.render()});
c.render()})},events:{},render:function(){this.delegateEvents();return this}});window.myapp=window.myapp||{};window.myapp.OrderTabView=c})(window.myapp.Widget.Scroller,window.myapp.Model.Store,window.myapp.Collection.StoreList,window.myapp.View.StoreBrief);(function(e){var c=Backbone.View.extend({initialize:function(){var c=new e;c.html(_.template('<div id="pullDown"></div><div class="OrderHistory"><div><div class="gwt-Label">點餐紀錄:</div><div class="OrderHistoryPanelTitle"><div class="gwt-Label">✭</div><div class="gwt-Label">送餐時間</div><div class="gwt-Label">編號</div><div class="gwt-Label">狀態</div></div></div><div class="Accordion OrderHistoryPanel"></div></div><div id="pullUp"></div>'));$(this.el).html(c.el);$(this.el).css("background-color","rgba(255, 255, 255, 0.75)");
$(this.el).css("display","-webkit-box");$(c.el).css("width","100%");$(".OrderHistoryPanel",this.el).css("minHeight",window.clientHeight);pullDownEl=$("#pullDown",this.el);pullDownOffset=30;pullUpEl=$("#pullUp",this.el);pullUpOffset=30;var g=this;c.setPullToRefresh({pullDownEl:pullDownEl,pullDownAction:function(){setTimeout(function(){el=$(".OrderHistoryPanel",g.el);for(i=0;3>i;i++)el.prepend("<li>Generated row</li>");c.render()},1E3)}})},render:function(){return this}});window.myapp=window.myapp||
{};window.myapp.HistoryTabView=c})(window.myapp.Widget.Scroller);(function(e,c){var m=Backbone.View.extend({initialize:function(){var g=new c;g.html(_.template("<div class='about_text' style='width:100%;'>感謝您使用Jashami(甲蝦米)<br/>您希望哪些商家擁有Jashami的服務，請推薦給我們：<input id='recommendation' type='Text' class='INPUT Text'>請留下您的寶貴意見，我們將為您提供更好的服務:<input id='opinion' type='Text' class='INPUT Text'><div id='sendFeedbackBtn' class='SubmitButton'>送出</div></div>"));$(this.el).html(g.el);$(this.el).css("background-color","rgba(255, 255, 255, 0.75)");$(this.el).css("display","-webkit-box");
$(g.el).css("width","100%");this.sendFeedbackBtn=new e({el:$("#sendFeedbackBtn",this.el)});this.sendFeedbackBtn.changeColorWhenTouch=!0},events:{"clickByTouch #sendFeedbackBtn":"sendFeedback"},render:function(){this.sendFeedbackBtn.delegateEvents();this.delegateEvents();return this},sendFeedback:function(){var c=$("#recommendation",this.el).val(),e=$("#opinion",this.el).val();alert("sendFeedback"+c+e)}});window.myapp=window.myapp||{};window.myapp.FeedbackTabView=m})(window.myapp.Widget.TouchWidget,
window.myapp.Widget.Scroller);(function(e){var c=Backbone.View.extend({initialize:function(){var c=new e;c.html(_.template('<div id="content" data-scrollable="y" style="width:100%;">qqq</div>'));$(this.el).html(c.el);$(this.el).css("background-color","rgba(255, 255, 255, 0.75)");$(this.el).css("display","-webkit-box");$(c.el).css("width","100%")},events:{},render:function(){return this}});window.myapp=window.myapp||{};window.myapp.AboutUsTabView=c})(window.myapp.Widget.Scroller);(function(e,c,m){var g=['<div class="HeaderPanel"><div></div><div>','<img src="'+c.JashamiLogo+'">','</div><div></div></div><div class="TabPanel"><div class="TabContent"></div><div class="TabHeader">','<div class="TabButton"><a href="#startPage/orderTab">'+e._("orderTab")+"</a></div>",'<div class="TabButton"><a href="#startPage/historyTab">'+e._("historyTab")+"</a></div>",'<div class="TabButton"><a href="#startPage/feedbackTab">'+e._("feedbackTab")+"</a></div>",'<div class="TabButton"><a href="#startPage/aboutUsTab">'+
e._("aboutUsTab")+"</a></div>","</div></div>"].join(""),e=Backbone.View.extend({initialize:function(){this.tabs={};$(this.el).html(_.template(g));$(this.el).addClass("Base");$(this.el).attr("style","height:100%");$(this.el).attr("style","width:100%")},render:function(){return this},toTab:function(c){this.tabs[c]||(this.tabs[c]=new m[c]);$(".TabContent",this.el).html(this.tabs[c].render().el)}});window.myapp=window.myapp||{};window.myapp.StartPageView=e})(i18n,window.myapp.Images,{orderTab:window.myapp.OrderTabView,
historyTab:window.myapp.HistoryTabView,feedbackTab:window.myapp.FeedbackTabView,aboutUsTab:window.myapp.AboutUsTabView});(function(e){var c=Backbone.Router.extend({routes:{"startPage/:tab":"startPage","*actions":"defaultAction"},initialize:function(){this.views={}},defaultAction:function(){this.startPage("orderTab")},startPage:function(c){this.views.startPage||(this.views.startPage=new e);$(".ActivePage").html(this.views.startPage.render().el);this.views.startPage.toTab(c)}});window.myapp=window.myapp||{};window.myapp.Router=c})(window.myapp.StartPageView);
