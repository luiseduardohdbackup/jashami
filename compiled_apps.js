(function(){window.myapp=window.myapp||{};window.myapp.Settings={OnMoveEventThreshold:10,LocalMenuDataFileName:"menuData.txt",StoreBriefHmargin:10,getStoreBriefWidth:function(c){var c=c-this.StoreBriefHmargin,a=Math.floor(c/400)+1;return(c-this.StoreBriefHmargin*(a-1))/a},isOpenNow:function(){var c=new Date,a=c.getHours(),c=c.getMinutes();return 9>a||9==a&&30>=c||19<a||19==a&&30<=c?!1:!0},appVersion:"ver2.2.035"};window.myapp.Api=window.myapp.Api||{};window.myapp.Api.BasicUrl="http://api2.majashami.appspot.com/api/";
window.myapp.Api.MenuServiceUrl=window.myapp.Api.BasicUrl+"MenuService2";window.myapp.Api.OrderServiceUrl=window.myapp.Api.BasicUrl+"OrderService";window.myapp.Api.AppEventServiceUrl=window.myapp.Api.BasicUrl+"AppEventService";window.myapp.Api.FeedbackServiceUrl=window.myapp.Api.BasicUrl+"FeedbackService";window.myapp.Api.DeviceInfoServiceUrl=window.myapp.Api.BasicUrl+"PushNotificationService";window.myapp.Api.ErrorLogServiceUrl=window.myapp.Api.BasicUrl+"ErrorLogService"})();(function(){function c(a){var b,g;b=navigator.onLine?"yes":"no";g=h[e.status];a=a.type;b="online: "+b+(", event: "+a)+(", status: "+g);"error"==a&&navigator.onLine&&(b+=" There was an unknown error, check your Cache Manifest.");window.console.log(""+b)}function a(){window.loadingPanel&&window.loadingPanel.$el.show()}function b(){window.loadingPanel&&window.loadingPanel.$el.hide()}var h="uncached,idle,checking,downloading,updateready,obsolete".split(","),e=window.applicationCache;e.addEventListener("cached",
c,!1);e.addEventListener("checking",c,!1);e.addEventListener("downloading",c,!1);e.addEventListener("error",c,!1);e.addEventListener("noupdate",c,!1);e.addEventListener("obsolete",c,!1);e.addEventListener("progress",c,!1);e.addEventListener("updateready",c,!1);e.addEventListener("updateready",function(){"idle"!=h[e.status]&&(e.swapCache(),window.console.log("Swapped/updated the Cache Manifest."),window.location.reload())},!1);e.addEventListener("downloading",a);e.addEventListener("progress",a);e.addEventListener("updateready",
b);e.addEventListener("cached",b);e.addEventListener("error",b)})();(function(){if("undefined"!=typeof window.localStorage){LS=window.localStorage;var c={set:function(a,b){!a||1>a.length?console.log("local storage error: (set) key is null"):LS.setItem(a,b)},get:function(a){return LS.getItem(a)},remove:function(a){LS.removeItem(a)},clear:function(){LS.clear()},getLength:function(){return LS.length},key:function(a){return 0<=a&&a<this.getLength()?LS.key(a):null},clearWithPrefix:function(a){for(var b=[],c=0,e=this.getLength();c<e;c++){var d=this.key(c);0==d.indexOf(a)&&
b.push(d)}c=0;for(e=b.length;c<e;c++)this.remove(b[c])}};c.get("appID")||c.set("appID","@APPID@"+(new Date).getTime()+"."+Math.random());c.getMenuLastUpdateTime=function(a){return this.get("MenuLastUpdateTime"+(a?"_EditMode":""))};c.setMenuLastUpdateTime=function(a,b){this.set("MenuLastUpdateTime"+(b?"_EditMode":""),a.getTime())};c.getLocationServiceStatus=function(){return this.get("LocationServiceStatus")};c.setLocationServiceStatus=function(a){this.set("LocationServiceStatus",a)};c.getAppId=function(){return this.get("appID")};
c.setPhoneUUID=function(a){this.set("phoneUUID",a)};c.getPhoneUUID=function(){return this.get("phoneUUID")};c.getUUID=function(){var a=this.get("phoneUUID");return a?a:this.getAppId()};c.setUserName=function(a){this.set("userName",a)};c.getUserName=function(){return this.get("userName")};c.setUserPhoneNumber=function(a){this.set("userPhoneNumber",a)};c.getUserPhoneNumber=function(){return this.get("userPhoneNumber")};c.setUserAddress=function(a){this.set("userAddress",a)};c.getUserAddress=function(){return this.get("userAddress")};
c.setUserDistrict=function(a){this.set("userDistrict",a)};c.getUserDistrict=function(){return this.get("userDistrict")};window.myapp=window.myapp||{};window.myapp.LocalModel=c}})();(function(c,a,b){window.onerror=function(a,d,e){h({errorType:"general",errorMsg:a,errorLocation:d+":"+e});return!1};$(window).bind("ajaxError2",function(a,d){d=$.extend(d,{errorType:"ajaxError"});h(d)});$(window).bind("imgLoadError",function(a,d){d=$.extend(d,{errorType:"imgLoadError"});h(d)});$(window).bind("tryCatchError",function(a,d){d=$.extend(d,{errorType:"tryCatchError"});h(d)});var h=function(d){window._develop?console.log("develop mode, skip sending error log to server: "+JSON.stringify(d)):
(d=$.extend(d,{errorTime:(new Date).getTime(),appVersion:a,url:window.location.href}),e(d))},e=function(a){var e={uuid:b.getUUID(),userAgent:window.navigator.userAgent,osVersion:myapp.PG.Device.getVersion(),errorData:[a]};$.ajax({type:"POST",url:c+"?action=addErrorLog",dataType:"json",cache:!1,data:JSON.stringify(e),success:function(a){console.log(a.msg)},error:function(){console.log("sendErrorLog: Ajax error!");window.myappErrorLog||(window.myappErrorLog=[]);window.myappErrorLog.push(a);d()}})},
d=function(){if(window.myappErrorLog&&!(1>window.myappErrorLog.length)){var a={uuid:b.getUUID(),userAgent:window.navigator.userAgent,osVersion:myapp.PG.Device.getVersion(),errorData:window.myappErrorLog};$.ajax({type:"POST",url:c+"?action=addErrorLog",dataType:"json",cache:!1,data:JSON.stringify(a),success:function(a){console.log(a.msg);window.myappErrorLog=[]},error:function(){console.log("sendErrorLogBatch: Ajax error!")}})}};setInterval(d,1E4)})(window.myapp.Api.ErrorLogServiceUrl,window.myapp.Settings.appVersion,
window.myapp.LocalModel);window.languages=window.languages||{};window.languages["zh-tw"]={setting:{DST:8,format:"Y 年 m 月 d 日 (D) H:i:s",AM:"上午",PM:"下午"},shortMonths:"1 月,2 月,3 月,4 月,5 月,6 月,7 月,8 月,9 月,10 月,11 月,12 月".split(","),longMonths:"一月,二月,三月,四月,五月,六月,七月,八月,九月,十月,十一月,十二月".split(","),shortDays:"日,一,二,三,四,五,六".split(","),longDays:"星期日,星期一,星期二,星期三,星期四,星期五,星期六".split(","),orderTab:"點餐",historyTab:"紀錄",feedbackTab:"意見",aboutUsTab:"關於","Hello World":"哈囉! 世界","Nice to meet you, %1":"很高興認識你，%1","My name is %1, I'm %2 years old":"我的名字是 %1，我今年 %2 歲"};window.myapp.compiledTime="Fri Jun  8 15:33:36 CST 2012";try{var supportedLang="zh-tw",defaultLang="zh-tw",language=(window.navigator?window.navigator.userLanguage||window.navigator.language:"")||defaultLang,language=language.toLowerCase();0>supportedLang.indexOf(language)&&(language=defaultLang);i18n.set(window.languages[language])}catch(err){$(window).trigger("tryCatchError",{errorMsg:err.message+" at i18n init in main.js",errorLocation:err.stack})}
document.addEventListener("deviceready",function(){try{console.log("phonegap load");window.phonegapEnabled=!0;window.enableBackButton=!0;myapp.LocalModel&&myapp.LocalModel.setPhoneUUID(myapp.PG.Device.getUUID());myapp.PG.Device.overrideBackButton();myapp.PG.Event.onBackKeyDown(function(){if(window.enableBackButton){var a=window.location.hash;""===a||0<=a.indexOf("startPage")?($(window).trigger("onExitApp"),myapp.PG.Device.exitApp()):0<=a.indexOf("orderResultPage")||window.history.go(-1)}});myapp.PG.Event.onPause(function(){$(window).trigger("onPause");
window.myapp.AppEvent.onPause()});myapp.PG.Event.onResume(function(){$(window).trigger("onResume");window.myapp.AppEvent.onResume();window.myapp.GoogleAnalytics.trackOpenTime()});$(window).trigger("useNative",!0);var c={};c.uuid=myapp.PG.Device.getUUID();c.userAgent=window.navigator.userAgent;c.deviceName=myapp.PG.Device.getName();c.osVersion=myapp.PG.Device.getVersion();c.phonegapVersion=myapp.PG.Device.getPhoneGapVersion();c.appVersion=window.myapp.Settings.appVersion;c.screenWidth=screen.width;
c.screenHeight=screen.height;var a=function(){var b=myapp.Api.DeviceInfoServiceUrl+"?action=setDeviceInfo";$.ajax({type:"POST",url:b,dataType:"json",cache:!1,data:JSON.stringify(c),success:function(a){console.log(a.msg)},error:function(){console.log("setDeviceInfo: Ajax error!");$(window).trigger("ajaxError2",{errorMsg:b,errorLocation:printStackTrace()});setTimeout(a,3E3)}})};a()}catch(b){$(window).trigger("tryCatchError",{errorMsg:b.message+" at phonegap load in main.js",errorLocation:b.stack})}},
!1);$(document).ready(function(){try{$("#backgroundLogo").remove(),window.app_router=new myapp.Router,Backbone.history.start(),setTimeout(function(){window.myapp.AppEvent.onStart()},15E3),window.myapp.GoogleAnalytics.trackAppVersion(),window.myapp.GoogleAnalytics.trackOpenTime()}catch(c){$(window).trigger("tryCatchError",{errorMsg:c.message+" at document ready in main.js",errorLocation:c.stack})}});(function(){var c={getAbsoluteLeft:function(a){for(var b=0,h=a;h.offsetParent;)b-=c.getTranslateX(h),b-=h.scrollLeft,h=h.parentNode;for(;a;)b+=a.offsetLeft,a=a.offsetParent;return b},getAbsoluteTop:function(a){for(var b=0,h=a;h.offsetParent;)b-=c.getTranslateY(h),b-=h.scrollTop,h=h.parentNode;for(;a;)b+=a.offsetTop,a=a.offsetParent;return b},getTranslateX:function(a){var b=0;if((a=a.style.webkitTransform)&&""!==a)(a=/translate(3d)?\((\-?.*)px, (\-?.*)px, (\-?.*)px\)( scale\((\d)\))?/.exec(a))&&(b=
-parseInt(a[2]));return b},getTranslateY:function(a){var b=0;if((a=a.style.webkitTransform)&&""!==a)(a=/translate(3d)?\((\-?.*)px, (\-?.*)px, (\-?.*)px\)( scale\((\d)\))?/.exec(a))&&(b=-parseInt(a[3]));return b},StringEndsWith:function(a,b){return-1!==a.indexOf(b,a.length-b.length)},getDistanceFromLatLng:function(a,b,c,e){if(!a||!b||c||e)return 99999;var a=(d-c)*Math.PI/180,e=(lng2-e)*Math.PI/180,c=c*Math.PI/180,d=d*Math.PI/180,c=Math.sin(a/2)*Math.sin(a/2)+Math.sin(e/2)*Math.sin(e/2)*Math.cos(c)*
Math.cos(d);return 6371*2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))},getLocationParameter:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=RegExp("[\\?&]"+a+"=([^&#]*)").exec(window.location.href);return null==a?"":a[1]},DeviceType:{Other:1,Android:2,iPhone:3,iPod:4,iPad:5}};c.DeviceType.getDeviceType=function(){var a=window.navigator.userAgent.toLocaleLowerCase();return 0<=a.indexOf("android")?this.Android:0<=a.indexOf("ipod")?this.iPod:0<=a.indexOf("ipad")?this.iPad:0<=a.indexOf("iphone")?
this.iPhone:this.Other};window.myapp=window.myapp||{};window.myapp.Utils=c})();(function(){var c="台北市,基隆市,新北市,宜蘭縣,新竹市,新竹縣,桃園縣,苗栗縣,台中市,彰化縣,南投縣,嘉義市,嘉義縣,雲林縣,台南市,高雄市,屏東縣,台東縣,花蓮縣,澎湖縣,金門縣,連江縣".split(","),a=[];a["選擇縣市"]=[];a["台北市"]="中正區,100 大同區,103 中山區,104 松山區,105 大安區,106 萬華區,108 信義區,110 士林區,111 北投區,112 內湖區,114 南港區,115 文山區,116".split(" ");a["基隆市"]="仁愛區,200 信義區,201 中正區,202 中山區,203 安樂區,204 暖暖區,205 七堵區,206".split(" ");a["新北市"]="萬里區,207 金山區,208 板橋區,220 汐止區,221 深坑區,222 石碇區,223 瑞芳區,224 平溪區,226 雙溪區,227 貢寮區,228 新店區,231 坪林區,232 烏來區,233 永和區,234 中和區,235 土城區,236 三峽區,237 樹林區,238 鶯歌區,239 三重區,241 新莊區,242 泰山區,243 林口區,244 蘆洲區,247 五股區,248 八里區,249 淡水區,251 三芝區,252 石門區,253".split(" ");
a["宜蘭縣"]="宜蘭市,260 頭城鎮,261 礁溪鄉,262 壯圍鄉,263 員山鄉,264 羅東鎮,265 三星鄉,266 大同鄉,267 五結鄉,268 冬山鄉,269 蘇澳鎮,270 南澳鄉,272".split(" ");a["新竹市"]=["北區,300","東區,300","香山區,300"];a["新竹縣"]="竹北市,302 湖口鄉,303 新豐鄉,304 新埔鎮,305 關西鎮,306 芎林鄉,307 寶山鄉,308 竹東鎮,310 五峰鄉,311 橫山鄉,312 尖石鄉,313 北埔鄉,314 峨眉鄉,315".split(" ");a["桃園縣"]="中壢市,320 平鎮市,324 龍潭鄉,325 楊梅鎮,326 新屋鄉,327 觀音鄉,328 桃園市,330 龜山鄉,333 八德市,334 大溪鎮,335 復興鄉,336 大園鄉,337 蘆竹鄉,338".split(" ");a["苗栗縣"]="竹南鎮,350 頭份鎮,351 三灣鄉,352 南庄鄉,353 獅潭鄉,354 後龍鎮,356 通霄鎮,357 苑裡鎮,358 苗栗市,360 造橋鄉,361 頭屋鄉,362 公館鄉,363 大湖鄉,364 泰安鄉,365 銅鑼鄉,366 三義鄉,367 西湖鄉,368 卓蘭鎮,369".split(" ");
a["台中市"]="中區,400 東區,401 南區,402 西區,403 北區,404 北屯區,406 西屯區,407 南屯區,408 太平區,411 大里區,412 霧峰區,413 烏日區,414 豐原區,420 后里區,421 石岡區,422 東勢區,423 和平區,424 新社區,426 潭子區,427 大雅區,428 神岡區,429 大肚區,432 沙鹿區,433 龍井區,434 梧棲區,435 清水區,436 大甲區,437 外埔區,438 大安區,439".split(" ");a["彰化縣"]="彰化市,500 芬園鄉,502 花壇鄉,503 秀水鄉,504 鹿港鎮,505 福興鄉,506 線西鄉,507 和美鎮,508 伸港鄉,509 員林鎮,510 社頭鄉,511 永靖鄉,512 埔心鄉,513 溪湖鎮,514 大村鄉,515 埔鹽鄉,516 田中鎮,520 北斗鎮,521 田尾鄉,522 埤頭鄉,523 溪州鄉,524 竹塘鄉,525 二林鎮,526 大城鄉,527 芳苑鄉,528 二水鄉,530".split(" ");a["南投縣"]="南投市,540 中寮鄉,541 草屯鎮,542 國姓鄉,544 埔里鎮,545 仁愛鄉,546 名間鄉,551 集集鎮,552 水里鄉,553 魚池鄉,555 信義鄉,556 竹山鎮,557 鹿谷鄉,558".split(" ");
a["嘉義市"]=["西區,600","東區,600"];a["嘉義縣"]="番路鄉,602 梅山鄉,603 竹崎鄉,604 阿里山鄉,605 中埔鄉,606 大埔鄉,607 水上鄉,608 鹿草鄉,611 太保市,612 朴子市,613 東石鄉,614 六腳鄉,615 新港鄉,616 民雄鄉,621 大林鎮,622 溪口鄉,623 義竹鄉,624 布袋鎮,625".split(" ");a["雲林縣"]="斗南鎮,630 大埤鄉,631 虎尾鎮,632 土庫鎮,633 褒忠鄉,634 東勢鄉,635 台西鄉,636 崙背鄉,637 麥寮鄉,638 斗六市,640 林內鄉,643 古坑鄉,646 莿桐鄉,647 西螺鎮,648 二崙鄉,649 北港鎮,651 水林鄉,652 口湖鄉,653 四湖鄉,654 元長鄉,655".split(" ");a["台南市"]="中西區,700 東區,701 南區,702 北區,704 安平區,708 安南區,709 永康區,710 歸仁區,711 新化區,712 左鎮區,713 玉井區,714 楠西區,715 南化區,716 仁德區,717 關廟區,718 龍崎區,719 官田區,720 麻豆區,721 佳里區,722 西港區,723 七股區,724 將軍區,725 學甲區,726 北門區,727 新營區,730 後壁區,731 白河區,732 東山區,733 六甲區,734 下營區,735 柳營區,736 鹽水區,737 善化區,741 大內區,742 山上區,743 新市區,744 安定區,745".split(" ");
a["高雄市"]="新興區,800 前金區,801 苓雅區,802 鹽埕區,803 鼓山區,804 旗津區,805 前鎮區,806 三民區,807 楠梓區,811 小港區,812 左營區,813 仁武區,814 大社區,815 岡山區,820 路竹區,821 阿蓮區,822 田寮區,823 燕巢區,824 橋頭區,825 梓官區,826 彌陀區,827 永安區,828 湖內區,829 鳳山區,830 大寮區,831 林園區,832 鳥松區,833 大樹區,840 旗山區,842 美濃區,843 六龜區,844 內門區,845 杉林區,846 甲仙區,847 桃源區,848 那瑪夏區,849 茂林區,851 茄萣區,852".split(" ");a["屏東縣"]="屏東市,900 三地門鄉,901 霧台鄉,902 瑪家鄉,903 九如鄉,904 里港鄉,905 高樹鄉,906 鹽埔鄉,907 長治鄉,908 麟洛鄉,909 竹田鄉,911 內埔鄉,912 萬丹鄉,913 潮州鎮,920 泰武鄉,921 來義鄉,922 萬巒鄉,923 崁頂鄉,924 新埤鄉,925 南州鄉,926 林邊鄉,927 東港鎮,928 佳冬鄉,931 新園鄉,932 枋寮鄉,940 枋山鄉,941 春日鄉,942 獅子鄉,943 車城鄉,944 牡丹鄉,945 恆春鎮,946 滿州鄉,947".split(" ");
a["台東縣"]="台東市,950 延平鄉,953 卑南鄉,954 鹿野鄉,955 關山鎮,956 海端鄉,957 池上鄉,958 東河鄉,959 成功鎮,961 長濱鄉,962 太麻里鄉,963 金峰鄉,964 大武鄉,965 達仁鄉,966".split(" ");a["花蓮縣"]="花蓮市,970 新城鄉,971 秀林鄉,972 吉安鄉,973 壽豐鄉,974 鳳林鎮,975 光復鄉,976 豐濱鄉,977 瑞穗鄉,978 萬榮鄉,979 玉里鎮,981 卓溪鄉,982 富里鄉,983".split(" ");a["金門縣"]="金沙鎮,890 金湖鎮,891 金寧鄉,892 金城鎮,893 烈嶼鄉,894 烏坵鄉,896".split(" ");a["澎湖縣"]="馬公市,880 西嶼鄉,881 望安鄉,882 七美鄉,883 白沙鄉,884 湖西鄉,885".split(" ");a["連江縣"]=["南竿鄉,209","北竿鄉,210","莒光鄉,211","東引鄉,212"];var b={address2zipcode:function(b){var e=b.substring(0,
3),b=b.substring(3),e=a[e];if(!e)return null;for(var d=0,c=e.length;d<c;d++)if(0<=e[d].indexOf(b))return e[d].split(",")[1];return null},zipcode2address:function(b){for(var e=0,d=c.length;e<d;e++)for(var j=c[e],g=0,f=a[j].length;g<f;g++)if(0<=a[j][g].indexOf(b))return j+a[j][g].split(",")[0];return null}};window.addressAndZipcode=window.addressAndZipcode||b;window.addressAndZipcode.Countries=c;window.addressAndZipcode.Areas=a})();(function(c,a){var b=Backbone.Model.extend({Single:"singleOption",Multiple:"multipleOption",parse:function(a){this.clear();this.set("title",a.substring(0,a.indexOf("?")));this.set("values",a.substring(a.indexOf("?")+1).split("&"));this.set("type",b.Single)}}),h=Backbone.Collection.extend({parse:function(a){this.models=[];var d=this,a=a.split("|");_.each(a,function(a){var e=new b;e.parse(a);d.add(e)})}}),e=Backbone.RelationalModel.extend({idAttribute:"productNameId"}),d=Backbone.RelationalModel.extend({initialize:function(){this.get("products").comparator=
function(a,d){return a.get("category")===d.get("category")?a.get("displayedIndex")<d.get("displayedIndex")?-1:1:a.get("category")<d.get("category")?-1:1}},idAttribute:"menuId",relations:[{type:Backbone.HasMany,key:"products",relatedModel:e,reverseRelation:{key:"menu",includeInJSON:"menuId"}}]}),j=Backbone.RelationalModel.extend({defaults:{deliveryLimit:99999,deliveryFee:99999,lat:99999,lng:99999},idAttribute:"storeNameId",relations:[{type:Backbone.HasOne,key:"menuId",relatedModel:d,reverseRelation:{key:"store",
includeInJSON:"storeNameId"}}]}),g=Backbone.RelationalModel.extend({idAttribute:"zipCode",relations:[{type:Backbone.HasMany,key:"stores",relatedModel:j}]}),g=Backbone.RelationalModel.extend({initialize:function(){this.setEditMode(a.getLocationParameter("isTestMode"))},_getMenuFromServer:function(a,d,b){var e=this,j=c.MenuServiceUrl+"?action=getMenuByZipcode&zipCode="+a+"&isEditMode="+this.isEditMode;window.loadingPanel&&window.loadingPanel.connectionOut();$.ajax({type:"GET",url:j,dataType:"json",
cache:!1,success:function(b){try{if(window.loadingPanel&&window.loadingPanel.connectionIn(),b.zipCodeIndexs){if(e.get("zipCodeIndexs").add(b.zipCodeIndexs),e.get("stores").add(b.stores),e.get("menus").add(b.menus),d){var c=e.get("zipCodeIndexs").get(a);d(c)}}else alert("讀取菜單失敗，請再試一次")}catch(g){$(window).trigger("tryCatchError",{errorMsg:g.message+" at ajax for "+j,errorLocation:g.stack})}},error:function(a,d){window.loadingPanel&&window.loadingPanel.connectionIn();console.log("_getMenuFromServer: Ajax error!");
$(window).trigger("ajaxError2",{errorMsg:j,errorLocation:printStackTrace()});alert("讀取菜單失敗，請再試一次");b&&b(a,d)}})},_getMenuOfStoreFromServer:function(a,d,b){var e=this,j=c.MenuServiceUrl+"?action=getMenuOfStore&storeID="+a+"&isEditMode="+this.isEditMode;window.loadingPanel&&window.loadingPanel.connectionOut();$.ajax({type:"GET",url:j,dataType:"json",cache:!1,success:function(b){try{if(window.loadingPanel&&window.loadingPanel.connectionIn(),e.get("stores").add(b.stores),e.get("menus").add(b.menus),d){var c=
e.get("stores").get(a);d(c)}}catch(g){$(window).trigger("tryCatchError",{errorMsg:g.message+" at ajax for "+j,errorLocation:g.stack})}},error:function(a,d){window.loadingPanel&&window.loadingPanel.connectionIn();console.log("_getMenuOfStoreFromServer: Ajax error!");$(window).trigger("ajaxError2",{errorMsg:j,errorLocation:printStackTrace()});alert("讀取菜單失敗，請再試一次");b&&b(a,d)}})},getMenuByZipCode:function(a,d,b){var e=this.get("zipCodeIndexs").get(a);e?d&&d(e):this._getMenuFromServer(a,d,b)},getMenuOfStore:function(a,
d,b){var e=this.get("stores").get(a);e?d&&d(e):this._getMenuOfStoreFromServer(a,d,b)},setEditMode:function(a){this.isEditMode=a},relations:[{type:Backbone.HasMany,key:"stores",relatedModel:j},{type:Backbone.HasMany,key:"menus",relatedModel:d},{type:Backbone.HasMany,key:"zipCodeIndexs",relatedModel:g}]});window.myapp=window.myapp||{};window.myapp.Model=window.myapp.Model||{};window.myapp.Model.ProductOptionList=h;window.myapp.Model.Product=e;window.myapp.Model.Menu=d;window.myapp.Model.Store=j;window.myapp.Model.MenuData=
g})(window.myapp.Api,window.myapp.Utils);(function(c){var a=Backbone.Model.extend({idAttribute:"orderID"}),b=Backbone.Collection.extend({model:a,url:"http://api.majashami.appspot.com/api/OrderService?action=getOrderHistory&phoneId=864071458d0d76c9ffcd8542dbdf6be5f57e674f",setAPI:function(a,b){this.url=c.OrderServiceUrl+"?action="+a+"&";if(b&&0<Object.keys(b).length)for(key in b)this.url+=key+"="+b[key]+"&";this.url=this.url.substring(0,this.url.length-1)}});window.myapp=window.myapp||{};window.myapp.Model=window.myapp.Model||{};window.myapp.Model.Order=
a;window.myapp.Model.OrderHistory=b})(window.myapp.Api);(function(c){var a=Backbone.Model.extend({}),b=Backbone.Collection.extend({model:a}),c=Backbone.RelationalModel.extend({defaults:{deliveryLimit:0,amount:0,sum:0,buyList:new b},idAttribute:"storeNameId",relations:[{type:Backbone.HasOne,key:"menu",relatedModel:c}],initialize:function(){var a=new b;a.comparator=this._buyItemComparator;this.set("buyList",a)},_buyItemComparator:function(a,d){var b=a.get("orderName"),c=d.get("orderName");if(b!=c)return b.localeCompare(c);if(a.get("productNameId")==d.get("productNameId")&&
a.get("amount")==d.get("amount")){var b=a.get("selectedOptions"),c=d.get("selectedOptions"),f;for(f in b)if(b[f]!=c[f])return-1;return a.get("remarks").localeCompare(d.get("remarks"))}return a.get("productNameId").localeCompare(d.get("productNameId"))},update:function(){for(var a=this.get("buyList"),d=0,b=0,c=0,f=a.length;c<f;c++)var k=a.at(c),d=d+k.get("singlePrice")*k.get("amount"),b=b+k.get("amount");this.set("amount",b);this.set("sum",d)},updateDisplay:function(){window.shoppingCartPanel&&window.shoppingCartPanel.resetDisplayedData&&
window.shoppingCartPanel.resetDisplayedData(this);window.orderInfoPage&&window.orderInfoPage.resetDisplayedData&&window.orderInfoPage.resetDisplayedData()},addBuyItem:function(a,d){this.get("buyList").push(a);this.get("buyList").sort();this.update();(!d||!d.slient)&&this.updateDisplay()},removeBuyItem:function(a,d){this.get("buyList").remove(a);this.update();(!d||!d.slient)&&this.updateDisplay()},updateBuyItem:function(a,d,b){this.get("buyList").models[a]=d;this.get("buyList").sort();this.update();
(!b||!b.slient)&&this.updateDisplay()},clearBuyList:function(a){this.set("amount",0);this.set("sum",0);this.get("buyList").reset();this.update();(!a||!a.slient)&&this.updateDisplay()},sortBuyList:function(){this.get("buyList").sort()},getSum:function(a){if(!a)return this.get("sum");for(var d=this.get("menu").get("products"),b=this.get("buyList"),c=0,f=0,k=b.length;f<k;f++){var l=b.at(f),h=d.get(l.get("productNameId")).get("category"),h=h.substring(h.indexOf(".")+1);h==a&&(c+=l.get("singlePrice")*
l.get("amount"))}return c}}),h=Backbone.Collection.extend({model:c,clear:function(){this.remove(this.models);this.reset()}});window.myapp=window.myapp||{};window.myapp.Model=window.myapp.Model||{};window.myapp.Model.BuyItem=a;window.myapp.Model.ShoppingCart=c;window.myapp.Model.ShoppingCartCollection=h})(window.myapp.Model.Menu);(function(c,a){window.myapp=window.myapp||{};window.myapp.AppEvent={sendEvent:function(b){b&&(b.UUID=a.getUUID());if(window._develop)console.log("develop mode, skip event sending: "+b.eventCategory+", "+b.eventAction+", "+b.eventLabel+", "+b.eventPararmeter);else{var h=c+"?action=sendEvent";$.ajax({type:"POST",url:h,dataType:"json",cache:!1,data:JSON.stringify(b),success:function(a){console.log(a)},error:function(){console.log("sendEvent: Ajax error!");$(window).trigger("ajaxError2",{errorMsg:h,errorLocation:printStackTrace()})}})}},
onStart:function(){this.sendEvent({eventCategory:"App",eventAction:"Enter"})},onPause:function(){var a={eventCategory:"App",eventAction:"Pause"};a.eventLabel=window.location.hash;this.sendEvent(a)},onResume:function(){var a={eventCategory:"App",eventAction:"Resume"};a.eventLabel=window.location.hash;this.sendEvent(a)},goPage:function(){var a={eventCategory:"Page",eventAction:"Enter"},c=window.location.hash;a.eventLabel=c.substring(0,c.indexOf("/"));a.eventPararmeter=c.substring(c.indexOf("/")+1);
this.sendEvent(a)}}})(window.myapp.Api.AppEventServiceUrl,window.myapp.LocalModel);(function(c,a,b){var h={1:"讀取菜單",2:"進入商家",3:"放入購物車",4:"進入購物車",5:"填資料",6:"訂購完成"};window.myapp=window.myapp||{};window.myapp.GoogleAnalytics={sendTrackEvent:function(a,d,b){window._develop?b?console.log("develop mode, skip event sending GA event tracking: "+a+", "+d+", "+b):d?console.log("develop mode, skip event sending GA event tracking: "+a+", "+d):a&&console.log("develop mode, skip event sending GA event tracking: "+a):window._gaq?b?window._gaq.push(["_trackEvent",a,d,b]):d?window._gaq.push(["_trackEvent",
a,d]):a&&window._gaq.push(["_trackEvent",a]):console.log("GA not load")},sendTrackUrl:function(a){window._develop?console.log("develop mode, skip event sending GA url tracking: "+a):window._gaq?window._gaq.push(["_trackPageview",a]):console.log("GA not load")},goPage:function(){this.sendTrackUrl(window.location.pathname+decodeURIComponent(window.location.hash)+"?open="+a()+"&v="+b)},trackAppVersion:function(){this.sendTrackEvent("網頁版本",b)},trackAutoLocalzation_zipCode:function(a){var d=c.zipcode2address(a);
d?this.trackAutoLocalzation(d.substring(0,3),d.substring(3)):this.sendTrackEvent("自動定位","其他",a)},trackAutoLocalzation:function(a,d){this.sendTrackEvent("自動定位",a,d)},trackGetMenuArea_zipcode:function(a){var d=c.zipcode2address(a);d?this.trackGetMenuArea(d.substring(0,3),d.substring(3)):this.sendTrackEvent("讀取菜單區域","其他",a)},trackGetMenuArea:function(a,d){this.sendTrackEvent("讀取菜單區域",a,d)},trackOpenTime:function(){var b=new Date;this.sendTrackEvent("開啓app時間",a()?"營業中":"休息中",b.getHours()+"")},trackIntoUserInfoPageTime:function(a){this.sendTrackEvent("進入填資料頁時間",
a,(new Date).getHours()+"")},trackSendOrderTime:function(a){this.sendTrackEvent("送出訂單時間",a,(new Date).getHours()+"")},trackIntoStorePageTime:function(a){this.sendTrackEvent("瀏覽菜單時間",a,(new Date).getHours()+"")},trackOrderProcess:function(b,d){var c=a()?"營業中":"休息中";d?this.sendTrackEvent("購物流程 "+c,h[b+""],d):this.sendTrackEvent("購物流程 "+c,h[b+""])},trackStoreRanking_zipcode:function(a,d){this.trackStoreRanking(c.zipcode2address(a),d)},trackStoreRanking:function(b,d){this.sendTrackEvent("店家排名 "+(a()?
"營業中":"休息中"),b,d?d:"全部")}}})(window.addressAndZipcode,window.myapp.Settings.isOpenNow,window.myapp.Settings.appVersion);window.myapp=window.myapp||{};
window.myapp.Images={"css/icons/jashami-logo-toung":"data:image/png;base64,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","css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_027_search":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAABiElEQVRYhe2X0XHCMAyGP/X6zgjJBmEENmg3CJ2kIzBC2ABGaCfgOgHtBNAJxEPSKziOLZtA6R3/ne5CIjufJMcWoqrckh7+GsDVHSimO1BMj6kDRKQGZkDpPHoDlqr6dRaRqpoMeAK2gEasASbWeXvvMcI0BpBj2wFVDpDENkYRaYC5c/sTWAP77vcUeHZ89sBMVT9MpfqRoUxu5PWAbwGsHP/NqCXjdM2YykC/vN4AkoGAOndiJ5DtWEBN9qT9YArr2NDGWB5dr5MWZt+/9Dn5ZN2p93GXX6nqd4r/sW7u6LACTVMmFZEqg6VVYGG+krkwcT79sb6ywgFaGWEqZ1wzCpAv0tjkHcwuN7MWoInnBVvafWbigAwdwONlKBB1qpmhrIu0AjbXgDKnsgOrGW7Sdl3ZinPKF+2HfBKRAuc4UNV3x6eh30dB2+a+DE6ekqFUC2RqMTTmokdHl4ml51EZGnRx4zRTGwJ/ArLWUI5EZEGbmbkGuoGrAVn1b9uPq+kOFNPNAR0ABtsGMJi+0FcAAAAASUVORK5CYII=",
"css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_036_file":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAAAiElEQVRYhe3WUQqAIBREUSfaV0t1qdNPQUQxT0UzmAvvT+wQaIFkmqnla8A9g1QGqUIgAIzMsTY3iUjKSSkxMpe1ObLv47M6gapRPUFVqN6gYtQIUBFqLT8G7wHYSKJpj8jH9TzSLUWh/7wYR2aQyiCVQSqDVAapDFIZpAr9oI1sujdkkMog1Q6UA6fKYLmsrwAAAABJRU5ErkJggg==","css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_309_comments":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAAAwElEQVRYhe2WwQ3CMAxFvxH3bsYOTAYzsEDZ7HMKhyiOSRqTIPykXCo5fsqv0wpJrMRptkBOCFmEkAnJ4gKwAdgBcPDaAWxq34qQh8xbSusr2j0kIq4XFEkpPT9/WH/p7PtoLVjupf67yHLMCCOyxLcia56qnIgsMWPKuuKLyBJaZLUTevqoGHv/zP+QIllqcGvZw+xxUGiozFGh4TIku8f+TvLaWVulR8hNBmgXcpUBKhfjLJb7dISQRQhZLCf0AkEfDIfb4gvwAAAAAElFTkSuQmCC",
"css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_216_circle_arrow_left":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAABb0lEQVRYhe2XwVHDMBBF3zLcTQehA0MFoQNKcAkuISWkhNBBSggdBCowVOBQwXIRM0bEklZSBh/yZ/aikVbPq6+sIqrKknTz3wC+rkAxLQ7otmSxiLTAnTf8oaqf2UlV1RTACtgBI6AzMQBbYGXObwBpHMgcxFxsqgMBrftqK8xPHIGmCpCDCR1PVaiUYyqpzB+oUqAczxR5KnabUjexgI+ho6tRnd7Nt1SpzwGKGXkEnifzq3gpdLNCCQeg9daYvDQHNNfL/HYw1RvwoKrv00FVFT8CORCR9blxa3N9UdVHVf0yrkuWFeheRJqLkDhZgZ6AV9flS3U6O5r5GzQC60uYOnTth4TEXSbQIQdom5h8lwHU5QDFju3XFxvm5rUOB7WxeiMhZttGFMhBHSvC7KP7JQA1laDKH2gVofYpMMlAnqcsz9kx5pkioEm1+kjFDkCXWpVpiNskW17XPqn3CjDnKwWqrcX9t78CxbQ4oG/tTWHQKQVF4wAAAABJRU5ErkJggg==",
"css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_202_shopping_cart":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAABQklEQVRYhe2X0VHDMBBEdxn+gQpcAukASkgnKYFSKIEWlA5CBUkHuIPlAxk8ItbpbMtmBu+M5pzRSXnZk2SFkvCXdLM2QKoNyNIGZGkxIJIvJNVrH6sCAdiXJC0CRPIOwC5+3EuipIfVgHowABCymZJ+NQAHAKrQzte+r9+GHLr3WlCoYCUMAZ1ibCURAKbGUqChkjWoU7LGKtlwB3COkxy+uIUxET/r0Vw/FtDbzO68lgDltn1X70v8yWPXThtjty7zyjj0NLNDjyUOMXdjJPndKYkk5Y2dS0MncyrrpA4pnDem88wGNFHF82RLNkUkG8QNAWAn6b1kXM2X63P3UAoD1AXq3vDBM2gJh4Jn0K2VEC9XF4y/AQRPcu0LWivp6Bng2mXpQentL5HXoVMSvf2mqp1DY/V//yiWagOytAFZ+gSmVuKA4MhaXgAAAABJRU5ErkJggg==",
"css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_227_usd":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAABkklEQVRYhe2X0U3DMBCGv0O8lw3aDdoNygZlg8AEFRNkhLJBR4AN6AbtBmWD0gmOhyaSMXZzdmJAVU86KWdbd59i+7ctqsp/spu/BvDtCtRllwckIioig+2M2x4gc+DeiWtgA+xU9ZhNpKpJDiyBA6BnfA2MUnOrqh0IGAHvHSCuH4BpSaBVAkzr+yJAwPjM1LTf28iYqgRQHSvUxs13FRj3WgJo7Rdy+vzY/1NJ02bVoTu/QURGkbE7L54YawB2YfSLAOxEpPIbVfVJVcX1FCDrlM3p3lEVmdqTu+2tGrTlJJ6/IoyxrR0TxkUxIAesAvYJYFVRIAdsik29DynT12sBNmBt4RXxQ3dpzTfYBU1Vnzlpzluge2bNYwJqL2GO1xGoI/AS6JoMCgR8evGDtUBjH9aBVqCNF89EZBUZ+xhoCyl92IwLN6bU7vavievUuIQw/jjxjV4X06EMqHWyjGTozoJupd4C8yxd6yGIU77fJGtOx4p5vYRcmuTZ1j4SNfXeE8vXF2hou7y3/dB2BeqyL3d9kfafyBx0AAAAAElFTkSuQmCC",
"css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_190_circle_plus":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAABLklEQVRYhe2XwQ3DIAxFv6veMwLZoKt1k67STTJC0gk6wu+FSi3CxECiulIs+WLAvNgQGyEJT3L6NUAqB9CauAM69ywWkQBgTMwLyUezU5JVCiAAuAGYAVDROc4J1f4rQIa4iQah6Q3AsCkQgAuAqQHmrROAyyZAEebZAfPWpwXKkqaeyOQiVUzfGpDlzISP+cFyppqAjM6ZWWeJlHr7Sj/Ga2GsV3TfhQiV/jO9EZqrUgZjujqA1LRpKRs1O0n51EzE03HVV85YVVzZUKNq1/yy2o85YxVQrO5VUliz5Ixa+5GdDGAR+T426TkSEep4hj28XftSyu7GL20R3be30vE/xZUe248I5adBS6B8tLBJ+nw0+Znbt9szSOImTbLHQ7ELaA9x97Y/gNbEHdALhD/GvoJhMBYAAAAASUVORK5CYII=",
"css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_191_circle_minus":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAABIElEQVRYhe2XzQ2DMAyFn6veGQE2oKN1E1bpJrQTQCdgBPeSXKLE+ReuxJN8Ccb5sBPiEDNDk25nA7i6gGJSB3SveZmIRgCTM7wz87c4KDNnGYARwAJgA8AB24zPmB0/A2Qwk4QgQrYAGJoCAZgBrAUw1lYAcxMgA3NUwFg7UqBSylSTGV+mxPLFgErWTHRNFQGZ3dQaxlpw90k/xqfwrFbh2EKGpP9MrW1ZJUPfcollC5VsEtL9YGZKMQAPIY53juzDlZk/PXytzjztJ99gNhARzY18d99gqP3wOhu9iSgRSZR/Dm3bXirZq+bzIwrH1nZ0/M/hqrL9MFB6GjQHSkcL65RPR5Pv2X3drkFkJilSj4tiFVAPqbvbX0AxqQP6Aa9LnHp3+9O5AAAAAElFTkSuQmCC",
"css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_197_remove":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAABg0lEQVRYhe1X223DMAw8FvlPN7A38AjpCB0hncCjeARnA3eEbhB0ArsTpBuwH6UBgaFeTl0rQA7gD0VR56NFScTMKAlPWxPQeBCKoThCu1smE1EFoFbuiZm/Fidl5iwDUAHoAIwA2GOjxFTZ+TOI7GURHwmfdQD2f0oIQAPgvIDMbGcATcpaFGuMRNQA+ADwrIYmAO9iLl7FauX/BvDCzJ/BBRPKpJW5AGgTVG0lVisVLF8sqf5nLqnSO6XWpLpFhPC7m0wyotxgJZePGGYlPKS8uy9HndZTxt6Z01vlkfIlqRQi5PaZ0fEPKjkLkd7wD7F82syjw+jA7k6ajClHMQ031s1RyxrX8KhzUF96UOOWGleq5eQMKhQDM78BOAVCThKTjS1P+9pyLiJERD3sf2bGUWJCmExvYg/qnLGcAzY0z+xFxW37u2qMZR0dHpW2O1w95ZlJrXb9uK8LmpL+X66wSYSc8pVxyTd232rPoOg/FMIaD8WbCK2B4t72D0IxFEfoB2t8M0ZiKJCAAAAAAElFTkSuQmCC",
"css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_151_edit":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAABLklEQVRYhe3X0W2DMBDG8f9VfWeEdANGyQiMkhEYgVEYhXQC2gmuDz0k4xYbLi5FCp90L8RHfsLWhYiqcqS8/DcgzgnK5QTl8rwgEWlFpBeROrlQVf+8gBZQqxGoF9fugGmA2iATqneBgCswBDdaUyNwsf7OrnURqt0MMswWyGw7AoxGqEVMDjQ9mZtjm2LMVE22N3FT/T7zxTDdqv6SoEcxRUElMMVApTBFQCUxD4OYT+AfGBITuTjIZko8gWcYYNwFBFQGiSdwF6wZXWPDCWpyE9g9x5ygPgD9+uu9Gwi42Ge9PanKcwaX6pXt+QDeVPXd0ZtN6o3xDiAit/Ciqn6mMCJSBT33zaLElnleP+K6FjtDAWpwQAYPRlUR++LD5Hn/Bq3NCcrlBOVyONAX5hTxYDsx8JEAAAAASUVORK5CYII=",
"css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_212_down_arrow":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAAA7ElEQVRYhe2W0Q2CMBRFzzX+4whuQNzADRyFURjBURyBFdwAneD5U6NBQh8tUUx6kvf33u0JtAWZGWti82uBIUUoRhGKUYRibHOGJY1eYmam1MzVPaEiFKMIxShCMf5TSFIjyYY10f/RK6lxGZmZq4ALYIl18a4j7y+spAq4AjvXwIsbsDezu6fZvYdC4HGmDMDRK/NcaFYBDf5X1czOnzsQpM4OmXNSdqJQBXQTMh1QfU0oSNVAPyLTA3VybupgkDqNCJ2yMnOGg1T7JtPm5rnvoSkkdeHEHrKzlhBakv/8uH6TIhSjCMVYndAD5HGSj7m7k2sAAAAASUVORK5CYII=",
"css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_209_cart_in":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAABgElEQVRYhe1X0XXCMAw89fU/7QQZoWwAG9ANGCEjMEJHYARGIJ2g7QR0g7DB8RGbum5iWUkDfOTe07MTSfZJlh1HSOKe8HBrAjFmQhpmQhoehzqKyK/tSVLG07lihkRkKyIMpLkpIQCvWVYkswVAA4CKNB1+RaBfp+awZmgF4JRhE2MR9Oukd08mKvyN/ANtpJsOnZeNszn26I/qKvQQ2vYMeEjo35zukCC8G0pojaAe2kT+tK6/Cyba+3dd9mEGhxIqE1FeBnbLmLOUXspBhNxkvg6qroiD3VMAWCYy4+tRrR+N0F6JtnG1VCHvOFDrRyN0iSyRIbUNyFZjCS0zorbISw4hcZN3IvyAkhQRobV17ieSz70TBdBO6jomZ23jcf6N0Ehkj5NcsjEQkRLAt3tckPzK8Zvy+rHynVwywLSE/Be+tjhdI0O1xUm9U4tIgbYWnqyMHGqL8dRX2BPJd4uDaZfFB6VVnwNrhj6j1qpXMdk5NBR39+c6E9IwE9JwBngQx/uTDTawAAAAAElFTkSuQmCC",
"css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_139_phone":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAAAuklEQVRYhe2W0QnCUAxFT8QBdJI6QifQlRxJXUQ3cIS6wfWngvQniR8aIQdCKby05yXpoyaJSqx+LbCkhTzKCa2zCWZ2AEZgN1+X3OY4STqnjSSFAhiAK6BE3IEh+g5JWPSzN7MJ2KR3DA9J2+jijNBr4T4hcwGQZNGEckPdQh4t5NFCHi3k8clJneavT+r078f7bs1M3n32+eUqVG6GumUe3TKPbplHpkLHvEo+L1yhb1FuhlrIo4U8nkgkqfGYRXHuAAAAAElFTkSuQmCC","css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_124_message_plus":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAABZElEQVRYhe2X723CMBDF36v47najjgITdARGSDcIG9AVmAA2SZjg9UMd1TJO/C9uKzVPOoGcd8cvZ85KKAl/SU+/DeBrA4ppA4qpKRBJQ7IjOZCUjYHkcTZJUpMAYABcAWgmrsG8hkCdB2BsuGtHP4+tDkaSA4BnZydo190fHCW9uHm7JjRfmmBe3UVJJGkAjI7nR4Am3STdU80tp2ycPt1tst9HzxMGItk741kanS334dU2dqtcvT/cRmA6esyPakoM+J6ourEH0K8ENdUxttbgAT+M+xyQVoQ6AzC551doyvYkIelAEgD2AU+KRkl3km8AbgAg6RLNCnTIb3tJp4K5SSf8AlAp1GzOGkC5UIveFKDkg1HSAcBpwXKynjplbNnS3Sf5arcsVLhmrQqouhuha6VAKX/i3smJ+iZPCVDWRKX63NpZQBkwuZEEE+xQA5gsqGbP1KX6Xy+KJdqAYtqAYvoEgVYdtT4MaLsAAAAASUVORK5CYII=",
"css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_320_facebook":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAAA0ElEQVRYhe2W0QnDMAxET6UDtBOlI3SkbtJu6Gxw+WkhBMvCsY1V0IF+TCI/pJMSIQlPuswGOCqALAWQKZLZALAASADYORKARbtXtLEXkQTgNqQKwErynr23ADR0QZGU3Lk7D/UGegF4kJR9VGUomLrWrO+aXNqzPSv06ZHEnYe6TdnRK9bamDFlp3aYu5ZdWxNopd+f17TfXYXcATW37NeOzJSd+ha6q1AAWQogSwFkqQS0DrxXzV0CepZebND6zZ2V+j80S3/loSkKIEvugDZ5K795OvQcQwAAAABJRU5ErkJggg==","css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_020_home":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAAArUlEQVRYhe3W0QqEIBCF4TPLvmeP1qOebpaQcJ1sdBxifvAmTD5ELCGJSH1WA64lSOudIBHZRqwDACBpGgB2AASwF89Yjq71BmFYopaAKpgT5Q5qYKpjKqgXMxX0BDMN9BQzBWTBXK8EM2gApgvlhbmN8sTcQnljVNQKTBMlP8TfRKQ9oSOSos155//QyMKBvpaXa2fCeubC7VCCtBKklSAt9VvmXbgdSpBWONABahrXojiT6M4AAAAASUVORK5CYII=",
"css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_220_play_button":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAABa0lEQVRYhe2X3XHCMAyAP/d4pxskG6SdgI7ABqUTMEpG6AjtCHQC2gmSTgAbqA8xdzlhx3ZoiLlDd3qILctfJMs/RkTISR7mBtByBwpJdkCLSwYbYwqgVM2tiPyOdioiSQoUQA00gHi0sTZFsv8EkKWdxAfh0xpY/isQUAH7ETAn3QNVzFwmtDEaYypgBzyqrhb4tNqXtdVStR+BFxH5GZwwIk06MgdgGxHVrbXVkRpMX8ipXjOH2ND3Uq2h6lFAdNU0GiYA5a2+lOicpQn4iIG06YuK0pCT/j7TeGyiSzvGnxfIkS7nHzlS+poQcWfafINXavAqAqhfSWf2sT6nOFyfgJ0x5j1gV7oa5zztW1fjFEDfdDvy25jBPqBWfa8jfB2BjYg8i8iXo1/70HN0chNln+vGmNfR4YnSfIerdXj168dtXdBU6K9yhU1ZnPlc8h3VN9kzKLiGhmSKh+JFQFNIdm/7O1BIsgP6A5oPq5I0HqM/AAAAAElFTkSuQmCC",
"css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_239_riflescope":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAABvUlEQVRYhe2X0XHCMAyGf3UBRggbwAZhA7oBIzBCu0FGyAp0grBB6ASwQdoJ1IeYq6qLbDkJV7hDd7pLbEX+JOtkh5gZ9yQv/w2g5QmUkscHIqKCiPZE1BARD2hLRBURFaOImNmlABYAKgCcoQ2AwrsGM/uAAKwAdJkwV+0A7GYDArAzFqnDXBnGyvBeG/AuqDGZqQAslB07tzcJlaqZs8ehBhLjWxVQl6qpGNCbNzoLSED9KfSxQJ3bSQQozOvtM7PkjWo1EWihAqwsW6sxvornEzN/GnYINJSY/wZwEEMby9YCWornY2yxDJF+1paRBSQ/uMwA4/dj1URKlf37lO89RS37zz5WsF7Fb0ePAllbJtO7dKU6LS4/FtBJPG+mkgz4OZpWzj5UztCHpD+zDGJOZB01E4FqBVSMAdLXDjuq+Fmm/ZhdOgoUnDUeKAtoAKaDurrkAukziANkGQNCf4/SwSTPxCSQcD50A2zRn+L7a/bCeztg677GJg1EpoYi9ujZk5ksIFUTZydIh/6SF60ZrRQWyhIi2qJvdGv0HXgJ4At9Q70AODDzR7ZjYBzQLeXxf6VvLU+glNwd0A9MO6LLiW8Z6QAAAABJRU5ErkJggg==",
"pic/paper_light_yellow":"data:image/png;base64,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",
"pic/type-tag":"data:image/png;base64,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",
"pic/paper_antique-white_77":"data:image/png;base64,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",
OKicon:"data:image/png;base64,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"};(function(){var c=Backbone.View.extend({initialize:function(){this._isEnabled=!0;this._clickStart=!1;this._lastY=this._lastX=null},events:{mouseout:"onMouseOut",mousedown:"mouseDown",touchstart:"touchStart",touchmove:"touchMove",mouseup:"mouseUp",touchend:"touchEnd"},onMouseOut:function(){this._clickStart=!1;$(this.el).removeClass("active")},mouseDown:function(a){this.start(a.clientX,a.clientY)},touchStart:function(a){this.start(a.changedTouches[0].pageX,a.changedTouches[0].pageY)},touchMove:function(){},
mouseUp:function(a){this.end(a.clientX,a.clientY)},touchEnd:function(a){this.end(a.changedTouches[0].pageX,a.changedTouches[0].pageY)},start:function(a,b){this._isEnabled&&null!=a&&null!=b&&(this._lastX=a,this._lastY=b,this._clickStart=!0,$(this.el).addClass("active"))},end:function(a,b){this._isEnabled&&null!=a&&null!=b&&(this._lastY=this._lastX=null,this._clickStart=!1,$(this.el).removeClass("active"))}});window.myapp=window.myapp||{};window.myapp.Widget=window.myapp.Widget||{};window.myapp.Widget.TouchWidget=
c})();(function(c,a,b){var h=Backbone.View.extend({initialize:function(){this.container=document.createElement("div");this.content=document.createElement("div");this.container.appendChild(this.content);this.el=this.container;$(this.el).addClass("scroller");$(this.el).css("-webkit-box-flex","1");this.container.style.overflow="hidden";this.content.style.width="100%";this.scroll=new b(this.container,{hScrollbar:!1,vScrollbar:!0});$(this.el).css("position","absolute");$(this.el).css("height","100%");$(this.el).css("width",
"100%")},html:function(a){$(this.content).html(a)},getContent:function(){return $(this.content)},setPullToRefresh:function(b){var d={pullDownOffset:30,pullUpOffset:30};for(i in b)d[i]=b[i];pullDownEl=d.pullDownEl;pullUpEl=d.pullUpEl;pullDownOffset=d.pullDownOffset;pullUpOffset=d.pullUpOffset;pullUpAction=d.pullUpAction;pullDownAction=d.pullDownAction;b=500;c.getDeviceType()==c.Android&&(b=0);pullDownEl&&pullDownEl.html('<div id="pulldown-icon" class="icon" style="-webkit-transition-duration:'+b+"ms; -webkit-mask-box-image:url("+
a["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_212_down_arrow"]+')"></div><div class="pullDownLabel refresh-label">向下拉可以更新</div>');pullUpEl&&pullUpEl.html('<div id="pullup-icon" class="icon"></div><div class="pullUpLabel refresh-label">向上推可以更新</div>');this.render({useTransition:!0,topOffset:pullDownOffset,onRefresh:function(){pullDownEl&&pullDownEl.hasClass("loading")?(pullDownEl.removeClass("loading"),$(".pullDownLabel",pullDownEl).html("向下拉可以更新")):pullUpEl&&pullUpEl.hasClass("loading")&&
(pullUpEl.removeClass("loading"),$(".pullUpLabel",pullUpEl).html("Pull up to load more..."))},onScrollMove:function(){pullDownEl&&10<this.y&&!pullDownEl.hasClass("flip")?(pullDownEl.addClass("flip"),$(".pullDownLabel",pullDownEl).html("放開後馬上更新"),$(".icon",pullDownEl).css("-webkit-transform","rotate(-180deg)"),this.minScrollY=0):pullDownEl&&10>this.y&&pullDownEl.hasClass("flip")?(pullDownEl.removeClass("flip"),$(".pullDownLabel",pullDownEl).html("向下拉可以更新"),this.minScrollY=-pullDownOffset):pullUpEl&&
this.y<this.maxScrollY-10&&!pullUpEl.hasClass("flip")?(pullUpEl.addClass("flip"),$(".pullUpLabel",pullUpEl).html("放開後馬上更新"),this.maxScrollY=this.maxScrollY):pullUpEl&&this.y>this.maxScrollY+10&&pullUpEl.hasClass("flip")&&(pullUpEl.removeClass("flip"),$(".pullUpLabel",pullUpEl).html("Pull up to load more..."),this.maxScrollY=pullUpOffset)},onScrollEnd:function(){pullDownEl&&pullDownEl.hasClass("flip")?(pullDownEl.removeClass("flip").addClass("loading"),$(".pullDownLabel",pullDownEl).html("更新中..."),
$(".icon",pullDownEl).css("-webkit-transform","rotate(0deg)"),pullDownAction()):pullUpEl&&pullUpEl.hasClass("flip")&&(pullUpEl.removeClass("flip").addClass("loading"),$(".pullUpLabel",pullUpEl).html("更新中..."),pullUpAction())}})},scrollTo:function(a,d,b){b||(b=300);this.scroll.scrollTo(-a,-d,b)},scrollToElement:function(a,d){d||(d=300);this.scroll.scrollToElement(a,d)},render:function(a){a?this.scroll.setOption(a):this.scroll.refresh("re-bind event");[].slice.call(this.content.querySelectorAll("input, select, button, textarea")).forEach(function(a){a.addEventListener("ontouchstart"in
window?"touchstart":"mousedown",function(a){a.stopPropagation()})});return this}});window.myapp=window.myapp||{};window.myapp.Widget=window.myapp.Widget||{};window.myapp.Widget.Scroller=h})(window.myapp.Utils.DeviceType,window.myapp.Images,iScroll);(function(c,a,b){var h=Backbone.View.extend({initialize:function(){$(this.el).html(_.template('<div class="AddressSelectionBox"><select class="country-selector"><option>請選擇縣市</option><% for(var i=0,length=countries.length; i<length; i++) { %><option value="<%= countries[i] %>"><%= countries[i] %></option><% } %></select><select class="area-selector"></select></div>',{countries:a}))},events:{"change .country-selector":"changeCountry","change .area-selector":"changeArea"},changeCountry:function(a){a=
a.currentTarget.value;$(".area-selector",this.el).html(_.template('<option>請選擇鄉鎮區</option><% for(var i=0,length=areas[index].length; i<length; i++) { %><% var area = areas[index][i].split(",")[0]; %><% var zip = areas[index][i].split(",")[1]; %><option value="<%= zip %>"><%= area %></option><% } %>',{index:a,areas:b}))},changeArea:function(a){this.$el.trigger("locationChange",a.currentTarget.value)},setSelection:function(a,d){for(var c=$(".area-selector",this.el).val(),g=a.substring(0,3),f=a.substring(3),
k=0,l=b[g].length;k<l;k++)if(0<=b[g][k].indexOf(f)){f=b[g][k].split(",")[1];break}$(".country-selector",this.el).val(g);$(".area-selector",this.el).html(_.template('<option>請選擇鄉鎮區</option><% for(var i=0,length=areas[index].length; i<length; i++) { %><% var area = areas[index][i].split(",")[0]; %><% var zip = areas[index][i].split(",")[1]; %><option value="<%= zip %>"><%= area %></option><% } %>',{index:g,areas:b}));$(".area-selector",this.el).val(f);(!d||!d.silent)&&c!=f&&this.$el.trigger("locationChange",
f)},setSelection_zipcode:function(a,d){var b=c.zipcode2address(a);null!=b&&this.setSelection(b,d)},render:function(){return this}});window.myapp=window.myapp||{};window.myapp.Widget=window.myapp.Widget||{};window.myapp.Widget.AddressSelector=h})(window.addressAndZipcode,window.addressAndZipcode.Countries,window.addressAndZipcode.Areas);(function(){var c=Backbone.View.extend({initialize:function(){$(this.el).html(_.template('<select class="date-selector"></select><select class="time-selector"></select>'))},events:{"change .date-selector":"dateChanged","change .time-selector":"timeChanged"},dateChanged:function(){var a=parseInt($(".date-selector",this.el).val()),a=this._sortedTimeList[new Date(a)];$(".time-selector",this.el).html(_.template('<% if(data.length>1){ %> <option>請選擇時間</option> <% } %><% for(var i=0,length=data.length; i<length; i++) { %><% var date = new Date(data[i]); %><option value="<%= date.getTime() %>"><%= i18n.formatDate(date ,"H:i") %></option><% } %>',
{data:a}))},timeChanged:function(){this.$el.trigger("dateTimeSelectionChange",this.getSelection())},setDataList:function(a){this._sortedTimeList={};$(".date-selector",this.el).empty();$(".time-selector",this.el).empty();if(a&&1==a.length)$(".date-selector",this.el).html(_.template('<% for(var i=0,length=data.length; i<length; i++) { %><% var date = new Date(data[i]), today=new Date(), text=i18n.formatDate(date, "預約 m 月 d 日 (D)"); %><% if(today.getYear()==date.getYear()&&today.getMonth==date.getMonth&&today.getDate()==date.getDate()){text="今天";} %><option value="<%= date.getTime() %>"><%= text %></option><% } %>',
{data:a})),$(".time-selector",this.el).html(_.template('<% if(data.length>1){ %> <option>請選擇時間</option> <% } %><% for(var i=0,length=data.length; i<length; i++) { %><% var date = new Date(data[i]); %><option value="<%= date.getTime() %>"><%= i18n.formatDate(date ,"H:i") %></option><% } %>',{data:a}));else if(a&&1<a.length){var b=[a[0]],c=[a[0]];this._sortedTimeList[new Date(a[0])]=c;for(var e=0,d=a.length-1;e<d;e++){var j=a[e+1],g=new Date(a[e]),f=new Date(j);g.getYear()==f.getYear()&&g.getMonth==
f.getMonth&&g.getDate()==f.getDate()?c.push(j):(c=[],c.push(j),this._sortedTimeList[f]=c,b.push(j))}$(".date-selector",this.el).html(_.template('<% for(var i=0,length=data.length; i<length; i++) { %><% var date = new Date(data[i]), today=new Date(), text=i18n.formatDate(date, "預約 m 月 d 日 (D)"); %><% if(today.getYear()==date.getYear()&&today.getMonth==date.getMonth&&today.getDate()==date.getDate()){text="今天";} %><option value="<%= date.getTime() %>"><%= text %></option><% } %>',{data:b}));$(".time-selector",
this.el).html(_.template('<% if(data.length>1){ %> <option>請選擇時間</option> <% } %><% for(var i=0,length=data.length; i<length; i++) { %><% var date = new Date(data[i]); %><option value="<%= date.getTime() %>"><%= i18n.formatDate(date ,"H:i") %></option><% } %>',{data:this._sortedTimeList[new Date(b[0])]}))}},getSelection:function(){var a=parseInt($(".time-selector",this.el).val());return isNaN(a)?void 0:new Date(a)},render:function(){return this}});window.myapp=window.myapp||{};window.myapp.Widget=
window.myapp.Widget||{};window.myapp.Widget.DateTimeSelector=c})();(function(c,a,b,h){var e=['<span id="addr-title">送到</span><span class="selectedValue"></span>','<span class="option-sel-icon" style="-webkit-mask-box-image:url('+b["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_220_play_button"]+');"></span>'].join(""),b=Backbone.View.extend({initialize:function(){this._wordsInLine=8;this._saperateText="";this._isDependent=!1;var b=this;this.$el.addClass("SelectInput");this.$el.html(_.template(e));this.$el.on("click",function(){console.log("ddddd");
var e=[],g;for(g in b._selectedKey)e.push(g+"="+b._selectedKey[g]);g=function(a){e=[];for(var a=a.split("&"),c=0,f=a.length;c<f;c++){var g=a[c].split("=");b._selectedKey[g[0]]=2>g.length?"":g[1];e.push(g[0]+"="+b._selectedKey[g[0]])}b.updateDisplay();b.$el.trigger("selectionChange",b.getSelectedValues())};if(a.getDeviceType()==a.iPad){var f=b.el,k=c.getAbsoluteLeft(f),l=c.getAbsoluteTop(f);h.showPicker(b._isDependent,b._pickerOptionString,e,g,[k,l,f.clientWidth,f.clientHeight])}else h.showPicker(b._isDependent,
b._pickerOptionString,e,g)})},setModel:function(a,b,c){this._isDependent=b;this._saperateText=c||"";this._options=a;this._selectedKey={};this._pickerOptionString=[];this._childTitle=this._parentTitle="";for(var f in this._options){var a=this._options[f],b=f+"?",e;for(e in a)b+=e+"&";b=b.substring(0,b.length-1);this._pickerOptionString.push(b);this._isDependent?0<f.indexOf(":")?(a=f.split(":"),this._selectedKey[a[1]]="",this._childTitle=a[1]):(this._selectedKey[f]=Object.keys(a)[0],this._parentTitle=
f):this._selectedKey[f]=Object.keys(a)[0]}this._isDependent&&(f=this._options[this._parentTitle+":"+this._childTitle+":"+this._selectedKey[this._parentTitle]],this._selectedKey[this._childTitle]=f?Object.keys(f)[0]:"");this.updateDisplay()},clear:function(){this._options={};this._selectedKey={};this._pickerOptionString=[];this._childTitle=this._parentTitle=""},updateDisplay:function(){var a="",b;for(b in this._selectedKey){var c=this._selectedKey[b];c&&!(1>c.length)&&(a+=c+this._saperateText)}a=a.substring(0,
a.length-this._saperateText.length);a.length>this._wordsInLine&&(a=a.replace(RegExp(this._saperateText,"gm"),this._saperateText+"<br/>"));this.setDisplayText(a)},setDisplayText:function(a){$(".selectedValue",this.el).html(a)},setSelectedValues:function(a,b){for(var c in a){var f=a[c],e;this._isDependent&&c==this._childTitle?(e=this._parentTitle,e+=":"+this._childTitle+":"+this._selectedKey[e],e=this._options[e]):e=this._options[c];for(var l in e)if(e[l]==f){this._selectedKey[c]=l;break}}this.updateDisplay();
(!b||!b.silent)&&this.$el.trigger("selectionChange",this.getSelectedValues())},getSelectedValues:function(){var a={},b;for(b in this._selectedKey)if(this._isDependent&&b==this._childTitle){var c=this._parentTitle,c=c+(":"+this._childTitle+":"+this._selectedKey[c]);a[b]=this._options[c][this._selectedKey[b]]}else a[b]=this._options[b][this._selectedKey[b]];return a},setWordsInLine:function(a){this._wordsInLine=a;this.updateDisplay()},showSelector:function(){var b=this,e=[],g;for(g in b._selectedKey)e.push(g+
"="+b._selectedKey[g]);g=function(a){e=[];for(var a=a.split("&"),c=0,f=a.length;c<f;c++){var g=a[c].split("=");b._selectedKey[g[0]]=2>g.length?"":g[1];e.push(g[0]+"="+b._selectedKey[g[0]])}b.updateDisplay();b.$el.trigger("selectionChange",b.getSelectedValues())};if(a.getDeviceType()==a.iPad){var f=b.el,k=c.getAbsoluteLeft(f),l=c.getAbsoluteTop(f);h.showPicker(b._isDependent,b._pickerOptionString,e,g,[k,l,f.clientWidth,f.clientHeight])}else h.showPicker(b._isDependent,b._pickerOptionString,e,g)},render:function(){return this}});
window.myapp=window.myapp||{};window.myapp.Widget=window.myapp.Widget||{};window.myapp.Widget.NativeSelector=b})(window.myapp.Utils,window.myapp.Utils.DeviceType,window.myapp.Images,window.myapp.PG.Picker);(function(c,a,b,h){var e=Backbone.View.extend({initialize:function(){this.$el.addClass("AddressSelectionBox");this.$el.html(_.template('<div class="SelectInput"></div>'));var a=new c({el:$(".SelectInput",this.el)});this.selector=a;var e={city:{}},g;for(g in b){var f=b[g];e.city[f]=f;e["city:town:"+f]={};for(var k in h[f]){var l=h[f][k].split(",")[0];e["city:town:"+f][l]=l}}a.setModel(e,!0,"");a.setDisplayText("請選擇縣市")},events:{"selectionChange *":"changeArea"},changeArea:function(b){var b=b.data,
c="",e;for(e in b)c+=b[e];this.$el.trigger("locationChange",a.address2zipcode(c))},setSelection:function(a,b){var c={};c.city=a.substring(0,3);c.town=a.substring(3);this.selector.setSelectedValues(c,b)},setSelection_zipcode:function(b,c){var e=a.zipcode2address(b);null!=e&&this.setSelection(e,c)},showSelector:function(){this.selector.showSelector()},render:function(){return this}});window.myapp=window.myapp||{};window.myapp.Widget=window.myapp.Widget||{};window.myapp.Widget.NativeAddressSelector=
e})(window.myapp.Widget.NativeSelector,window.addressAndZipcode,window.addressAndZipcode.Countries,window.addressAndZipcode.Areas);(function(c){var a=Backbone.View.extend({initialize:function(){this.$el.addClass("DateTimeSelectionBox");this.$el.html(_.template('<span class="SelectInput"></span>'));var a=new c({el:$(".SelectInput",this.el)});a.setWordsInLine(100);this.selector=a},events:{"selectionChange *":"timeChanged"},timeChanged:function(){this.$el.trigger("dateTimeSelectionChange",this.getSelection())},setDataList:function(a){if(!a||1>a.length)this.selector.clear();else{var c={},e={},d={};c[this._getDateText(new Date(a[0]))]=
a[0];e[this._getTimeText(new Date(a[0]))]=a[0];d.date=c;d["date:time:"+this._getDateText(new Date(a[0]))]=e;for(var j=0,g=a.length-1;j<g;j++){var f=a[j+1],k=new Date(a[j]),l=new Date(f);k.getYear()==l.getYear()&&k.getMonth==l.getMonth&&k.getDate()==l.getDate()?e[i18n.formatDate(l,"H:i")]=f:(e={},e[this._getTimeText(l)]=f,d["date:time:"+this._getDateText(l)]=e,c[this._getDateText(l)]=f)}this.selector.setModel(d,!0,"")}},getSelection:function(){var a=this.selector.getSelectedValues().time;return isNaN(a)?
void 0:new Date(a)},render:function(){return this},_getDateText:function(a){var c=new Date;return c.getYear()==a.getYear()&&c.getMonth==a.getMonth&&c.getDate()==a.getDate()?"今天":i18n.formatDate(a,"預約 m 月 d 日 (D)")},_getTimeText:function(a){return i18n.formatDate(a,"H:i")}});window.myapp=window.myapp||{};window.myapp.Widget=window.myapp.Widget||{};window.myapp.Widget.NativeTimeSelector=a})(window.myapp.Widget.NativeSelector);(function(){var c=Backbone.View.extend({defaultMsg:"請稍等...",initialize:function(){this.conn=0;$(this.el).attr("id","loadingPanel");$(this.el).hide();$(this.el).html(_.template('<div class="Mask"></div><div class="loading-icon"></div><table class="DialogPanel BusyPanel" style="position: relative; margin-top: auto; margin-right: auto; margin-bottom: auto; margin-left: auto; top: 50%;"><colgroup><col></colgroup><tbody><tr><td><div class="loading-text">請稍等...</div></td></tr><tr><td><div class="BusyPanelAnimation"><div></div><div></div><div></div><div></div><div></div></div></td></tr></tbody></table>'))},
connectionOut:function(){this.conn++;this._update()},connectionIn:function(){this.conn--;0>this.conn&&(this.conn=0);this._update()},resetMsg:function(a){!a||1>a.length?$("loading-text",this.el).html(this.defaultMsg):$("loading-text",this.el).html(a)},_update:function(){0<this.conn?this.$el.show():this.$el.hide()},render:function(){return this}});window.myapp=window.myapp||{};window.myapp.Widget=window.myapp.Widget||{};window.myapp.Widget.LoadingPanel=c})();(function(){var c=Backbone.View.extend({initialize:function(){$(this.el).addClass("Accordion")},clear:function(){$(this.el).empty()},add:function(a,b){var c=document.createElement("div"),e=document.createElement("div"),d=document.createElement("div"),j=document.createElement("div");$(e).addClass("AccordionContent-outer");$(d).addClass("AccordionHeader");$(j).addClass("AccordionContent");$(c).addClass("Collapse");$(j).css("height","0px");$(d).html(a);$(j).html(b);$(c).append(d);$(c).append(j);this.$el.append(c)},
toggleAccordionStack:function(a){a=a.currentTarget.parentNode;$(a).toggleClass("Collapse");$(a).toggleClass("Expand");var b=$(a).children(".AccordionContent");$(a).hasClass("Expand")?b.css("height","auto"):b.css("height","0px");this.$el.trigger("toggle")},events:{"click .AccordionHeader":"toggleAccordionStack"},render:function(){this.delegateEvents();return this}});window.myapp=window.myapp||{};window.myapp.Widget=window.myapp.Widget||{};window.myapp.Widget.Accordion=c})();(function(){var c=Backbone.View.extend({render:function(){var a=this.model.get("storeNameId"),b=this.model.get("displayedName"),c=this.model.get("msg"),e=this.model.get("imgUrl");$(this.el).html(_.template('<a href="#storePage/<%= id %>"><div class=storeBriefWrap><img class="storeImg" src="<%= img %>"></img><div class="Tag"></div><div class="InfoWidget"><div class="NameWidget"><div class="Name"><%= name %></div><div class="Msg"><%= msg %></div></div><div class="Status"></div></div></div></a>',{id:a,
name:b,msg:c,img:e}));$(this.el).addClass("StoreBriefWidget3 item");return this}});window.myapp=window.myapp||{};window.myapp.View=window.myapp.View||{};window.myapp.View.StoreBrief=c})();(function(){var c=Backbone.View.extend({initialize:function(){this.$el.addClass("ProductOption")},events:{"change .master":"selectionChange_m","change .salve":"selectionChange_s"},selectionChange_m:function(a){var b=a.currentTarget.value,c=this.model;c.subOption&&(a=$(".salve",this.el).val(),b=c.subOption.values[b]||{},$("select.salve",this.el).html(_.template('<% for(var key in options){ %><% var text = options[key]>0?key+" + "+options[key]+"元":key; %><option value="<%= key %>"><%= text %></option><% } %>',
{options:b})),b[a]&&$(".salve",this.el).val(a));this.$el.trigger("productOptionSelectionChange")},selectionChange_s:function(){this.$el.trigger("productOptionSelectionChange")},getSelected:function(){var a=this.model,b={};b[a.title]=$(".master",this.el).val();a.subOption&&(b[a.subOption.title]=$(".salve",this.el).val());return b},setSelected:function(a,b){for(var c in a)$('select[key="'+c+'"]',this.el).val(a[c]);(!b||!b.silent)&&this.$el.trigger("productOptionSelectionChange",this.getSelectedValues())},
getSelectedPrice:function(){var a=this.model,b=0,c=$(".master",this.el).val(),b=b+a.values[c];a.subOption&&(b+=a.subOption.values[c][$(".salve",this.el).val()]);return b},isValid:function(){return!0},render:function(){var a=this.model;this.$el.html(_.template('<div class="OptionPanel WebOptionPanel"><div class="OptionTitle"><%= title %></div><select class="<%= type %>" key="<%= title %>"><% for(var key in options){ %><% var text = options[key]>0?key+" + "+options[key]+"元":key; %><option value="<%= key %>"><%= text %></option><% } %></select></div>',
{title:a.title,type:"master",options:a.values}));var b=Object.keys(a.values)[0];$("select.master",this.el).val(b);a.subOption&&(a=a.subOption,this.$el.append(_.template('<div class="OptionPanel WebOptionPanel"><div class="OptionTitle"><%= title %></div><select class="<%= type %>" key="<%= title %>"><% for(var key in options){ %><% var text = options[key]>0?key+" + "+options[key]+"元":key; %><option value="<%= key %>"><%= text %></option><% } %></select></div>',{title:a.title,type:"salve",options:a.values[b]||
{}})));return this}});window.myapp=window.myapp||{};window.myapp.View=window.myapp.View||{};window.myapp.View.ProductOptionView=c})();(function(c){var a=Backbone.View.extend({initialize:function(){this.$el.addClass("Native ProductOption");var a=this.model.title;this.model.subOption&&(a+=","+this.model.subOption.title);this.$el.html(_.template('<div class="OptionPanel WebOptionPanel"><div class="OptionTitle"><%= title %></div><div class="SelectInput"></div></div>',{title:a}));this.selector=new c({el:$(".SelectInput",this.el)})},events:{"selectionChange .SelectInput":"selectionChanged"},selectionChanged:function(){this.$el.trigger("productOptionSelectionChange")},
getSelected:function(){return this.selector.getSelectedValues()},setSelected:function(a,c){this.selector.setSelectedValues(a,c)},getSelectedPrice:function(){console.log("getSelectedPrice");var a=0,c=this.getSelected(),e=c[this.model.title],a=a+this.model.values[e];this.model.subOption&&(a+=this.model.subOption.values[e][c[this.model.subOption.title]]);return a},isValid:function(){return!0},render:function(){var a={},c=this.model.title;a[c]={};for(var e in this.model.values){var d=this.model.values[e];
0<d?a[c][e+" +"+d+"元"]=e:a[c][e]=e}if(this.model.subOption){var j=this.model.subOption.title,g;for(g in this.model.subOption.values){var d=this.model.values[g],f=this.model.subOption.values[g],k=0<d?c+":"+j+":"+g+" +"+d+"元":c+":"+j+":"+g;a[k]={};for(e in f)d=f[e],0<d?a[k][e+" +"+d+"元"]=e:a[k][e]=e}}this.selector.setModel(a,1<Object.keys(a).length,",");return this}});window.myapp=window.myapp||{};window.myapp.View=window.myapp.View||{};window.myapp.View.NativeProductOptionView=a})(window.myapp.Widget.NativeSelector);(function(c,a,b,h,e,d,j,g,f){var k=['<div class="header-wrap"><div class="header-shadow"></div><div class="header-outer"><div class="header">','<div class="center" style="background:url('+a["pic/paper_light_yellow"]+') repeat scroll 0 0;">','<div class="BackButton" id="cancelBtn">','<div class="link-wrap" id="back-link-wrap"><div id="back-link" class="icon" style="-webkit-mask-box-image:url('+a["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_216_circle_arrow_left"]+');"></div><div class="function-txt">返回</div></div>',
'</div><div id="title" class="function-panel"></div><div class="NextButton" id="buyBtn">','<div class="link-wrap" id="buy-link-wrap"><div id="buy" class="icon" style="-webkit-mask-box-image:url('+a["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_227_usd"]+');"></div><div class="function-txt">購買</div></div>','</div></div></div></div></div><div class="ProductDialog" id="productContent" style="display:-webkit-box"></div>'].join(""),l=['<div class="product-box<% if(!img||img.length<3) print(" noImg"); %>"><div class="column image-intro-wrap"><div class="image-wrap"><img class="Img" src="<%= img %>" style="<% if(!img || img.length<3) print("display:none;"); %>" /><div class="name<% if(name.length>9) print(" long-name"); %>"><%= name %></div></div><div class="intro"><%= info %></div></div><div class="column"><div id="amount-panel"><div id="plusBtn" class="tag" ><div id="add-tag-inner" class="tag-inner">',
'<div id="add-icon" class="icon" style="-webkit-mask-box-image:url('+a["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_190_circle_plus"]+');"></div>','</div></div><div class="tag" ><div id="amount-tag-inner" class="tag-inner"><div id="amount-tag-content" class="tag-content"><div id="product-box-amount"><%= amount%></div><div>份</div></div></div></div><div class="tag" ><div id="total-tag-inner" class="tag-inner"><div id="total-tag-content" class="tag-content"><div id="product-box-total"><%= price*amount%></div><div>元</div></div></div></div><div id="minusBtn" class="tag" ><div id="sub-tag-inner" class="tag-inner">',
'<div id="sub-icon" class="icon" style="-webkit-mask-box-image:url('+a["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_191_circle_minus"]+');"></div>','</div></div></div><div class="OptionBox"></div><div class="NoteBox AdditionBox"><div class="OptionPanel WebOptionPanel"><div class="OptionTitle">特殊需求</div><div class="InputBox"><input type="Text" placeholder="加一顆糖一顆奶球" class="INPUT remarks" style="width=100%;"></div></div><div class="OptionPanel WebOptionPanel"><div class="OptionTitle">訂購者</div><div class="InputBox"><input type="Text" placeholder="紀錄誰點了什麼，方便收錢" class="INPUT orderName" style="width=100%;"></div></div></div></div></div>'].join(""),
a=Backbone.View.extend({initialize:function(){this.tabs={};this.$el.html(_.template(k));this.$el.addClass("Base");this.$el.attr("id","productPageView");this.$el.hide();this.scroller=new b;$(this.scroller.el).css("position","relative");$(this.scroller.el).css("height","");$("#productContent",this.el).append(this.scroller.render().el);new f({el:$("#back-link-wrap",this.el)});new f({el:$("#buy-link-wrap",this.el)})},events:{"click #cancelBtn":"_cancel","click #buyBtn":"_buy","click #plusBtn":"_addAmount",
"click #minusBtn":"_minusAmount","productOptionSelectionChange .ProductOption":"_updateSelection"},setModel:function(a,b,c){a&&(this.model=a);b&&(this.storeNameId=b);a=window.menuData.get("stores").get(b).get("displayedName");$("#title",this.el).html(a);var b=this.model,d=b.get("displayedName"),a=b.get("price"),f=b.get("imgUrl"),g=b.get("intro");this.amount=1;this.scroller.html(_.template(l,{name:d,img:f,amount:this.amount,price:a,info:g}));$(".OptionBox",this.el).empty();this.optionWidget=[];this.selectedOption=
{};this.selectedPrice=a;if(a=b.get("options")){for(b=0;b<a.length;b++)d=a[b],f=Object.keys(d.values),0<f.length&&2>f.length?$(".OptionBox",this.el).append(_.template('<div class="OptionPanel WebOptionPanel"><div class="single_option"><div class="OptionTitle"><%= title %></div><div class="content"><%= content  %></div></div></div>',{title:d.title,content:f[0]})):(d=window.phonegapEnabled?new h({model:d}):new e({model:d}),$(".OptionBox",this.el).append(d.render().el),this.optionWidget.push(d),this.selectedOption=
$.extend(this.selectedOption,d.getSelected()),this.selectedPrice+=d.getSelectedPrice());this._updateMoney()}if(c){b=c.get("amount");a=c.get("singlePrice");d=c.get("selectedOptions");f=c.get("orderName");c=c.get("remarks");this.amount=b;$("#product-box-amount",this.el).html(this.amount);this.selectedPrice=a;$("#product-box-total",this.el).html(this.selectedPrice*this.amount);this.selectedOption=d;for(var k in this.optionWidget)this.optionWidget[k].setSelected(d,{silent:!0});$(".orderName",this.el).val(f);
$(".remarks",this.el).val(c)}this.scroller.render()},_cancel:function(){if(this.cancelAction)this.cancelAction(),this.cancelAction=null;else{var a=this;this.hide("bottom",function(){if(a.callback)a.callback(),a.callback=null;else if(window._iframe){var b=window.location.hash.substring(0,window.location.hash.lastIndexOf("/")-1);Backbone.history.navigate(b,{trigger:!1,replace:!0})}else window.history.go(-1)})}},_buy:function(){if(this.buyAction)this.buyAction(),this.buyAction=null;else{var a=this;this.hide("top",
function(){window.shoppingCartCollection||(window.shoppingCartCollection=new g);var b=window.shoppingCartCollection,c=b.get(a.storeNameId);c||(c=a.model.get("deliveryLimit"),c=new j({storeNameId:a.storeNameId,deliveryLimit:c}),b.add(c));c.addBuyItem(new d({productNameId:a.model.get("productNameId"),selectedOptions:$.extend({},a.selectedOption),singlePrice:a.selectedPrice,amount:a.amount,orderName:a.getOrderName(),remarks:a.getRemarks()}));window._iframe?(b=window.location.hash.substring(0,window.location.hash.lastIndexOf("/")-
1),Backbone.history.navigate(b,{trigger:!1,replace:!0})):window.history.go(-1)});try{c.trackOrderProcess(3,a.model.get("productNameId"))}catch(b){}}},_updateSelection:function(){this.selectedPrice=this.model.get("price");this.selectedOption={};for(var a=0,b=this.optionWidget.length;a<b;a++){var c=this.optionWidget[a];this.selectedOption=$.extend(this.selectedOption,c.getSelected());this.selectedPrice+=c.getSelectedPrice()}this._updateMoney()},_updateMoney:function(){$("#product-box-total",this.el).html(this.selectedPrice*
this.amount)},_addAmount:function(){this.amount++;this.model.get("price");$("#product-box-amount",this.el).html(this.amount);$("#product-box-total",this.el).html(this.selectedPrice*this.amount)},_minusAmount:function(){this.amount--;1>this.amount&&(this.amount=1);this.model.get("price");$("#product-box-amount",this.el).html(this.amount);$("#product-box-total",this.el).html(this.selectedPrice*this.amount)},getOrderName:function(){return $.trim($(".orderName",this.el).val())},getRemarks:function(){return $.trim($(".remarks",
this.el).val())},render:function(){this.delegateEvents();return this},show:function(a,b,c){b&&b.action&&(this.buyAction=b.action);c&&c.action&&(this.cancelAction=c.action);var d="購買",e="取消";b&&b.text&&(d=b.text);c&&c.text&&(e=c.text);$("#buyBtn .function-txt",this.el).html(d);$("#cancelBtn .function-txt",this.el).html(e);"none"==this.$el.css("display")&&("top"==a?this.$el.css("-webkit-transform","translate3d(0, -100%, 0)"):this.$el.css("-webkit-transform","translate3d(0, 100%, 0)"),this.$el.show(),
this.$el.animate({"-webkit-transform":"translate3d(0, 0, 0)"},300,"ease-in-out",function(){}))},hide:function(a,b){if("none"!=this.$el.css("display")){var c=this;"top"==a?(this.$el.css("-webkit-transform","translate3d(0, 0, 0)"),this.$el.animate({"-webkit-transform":"translate3d(0, -100%, 0)"},300,"ease-in-out",function(){c.$el.hide();b&&b()})):(this.$el.css("-webkit-transform","translate3d(0, 0, 0)"),this.$el.animate({"-webkit-transform":"translate3d(0, 100%, 0)"},300,"ease-in-out",function(){c.$el.hide();
b&&b()}))}}});window.myapp=window.myapp||{};window.myapp.View=window.myapp.View||{};window.myapp.View.ProductPanel=a})(window.myapp.GoogleAnalytics,window.myapp.Images,window.myapp.Widget.Scroller,window.myapp.View.NativeProductOptionView,window.myapp.View.ProductOptionView,window.myapp.Model.BuyItem,window.myapp.Model.ShoppingCart,window.myapp.Model.ShoppingCartCollection,window.myapp.Widget.TouchWidget);(function(){var c=Backbone.View.extend({initialize:function(){$(this.el).html(_.template('<div class="ProgressBarPanel"><div class="sum">$<%= shoppingCartSum %></div><div class="ProgressBar"><div style="width: <%= progress %>%;" class="Progress"></div></div><% if(progress >= 100){ %><div class="ProgressMsgOk">可外送</div><% }else{ %><div style="" class="ProgressMsgNotOk"><%= deliveryLimit %></div><% } %></div>',{shoppingCartSum:0,deliveryLimit:0,progress:0}))},render:function(){return this},resetDisplayedData:function(a){var b=
a.get("storeNameId"),c=a.get("deliveryLimit"),e=a.get("sum");0>b.indexOf("85度C")?(a=100*(e/c),isNaN(a)?a=0:100<=a&&(a=100),$(this.el).html(_.template('<div class="ProgressBarPanel"><div class="sum">$<%= shoppingCartSum %></div><div class="ProgressBar"><div style="width: <%= progress %>%;" class="Progress"></div></div><% if(progress >= 100){ %><div class="ProgressMsgOk">可外送</div><% }else{ %><div style="" class="ProgressMsgNotOk"><%= deliveryLimit %></div><% } %></div>',{shoppingCartSum:e,deliveryLimit:"未滿 "+
c,progress:a}))):(a=100*(a.getSum("飲料")/c),isNaN(a)?a=0:100<=a&&(a=100),$(this.el).html(_.template('<div class="ProgressBarPanel"><div class="sum">$<%= shoppingCartSum %></div><div class="ProgressBar"><div style="width: <%= progress %>%;" class="Progress"></div></div><% if(progress >= 100){ %><div class="ProgressMsgOk">可外送</div><% }else{ %><div style="" class="ProgressMsgNotOk"><%= deliveryLimit %></div><% } %></div>',{shoppingCartSum:e,deliveryLimit:"飲料未滿 "+c,progress:a})))}});window.myapp=window.myapp||
{};window.myapp.View=window.myapp.View||{};window.myapp.View.ShoppingCartPanel=c})();(function(c,a,b,h,e,d,j,g,f,k,l){var n=['<div class="district-panel"><div class="district-panel-inner"><div id="district-sticker1"></div><div id="district-sticker2"></div><div id="district-sticker1-shadow"></div><div id="district-sticker2-shadow"></div><div class="AddressSelector"></div>','<div class="CircleButton"><span class="locating-txt">自動定位</span><span id="locating-icon" style="-webkit-mask-box-image:url('+a["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_239_riflescope"]+
');"></span></div>','</div></div><div id="stores-panel"></div>'].join(""),a=Backbone.View.extend({initialize:function(){var a=this;this.scroller=new g;$(this.el).html(_.template(n));$("#stores-panel",this.el).css("-webkit-box-flex","1");$("#stores-panel",this.el).append(this.scroller.render().el);$(this.el).addClass("orderTab");this.itemWidth=h.getStoreBriefWidth($(window).width())-20;var b=document.createElement("div");$(b).addClass("StoreList clearfix masonry centered");$(this.scroller.content).append(b);
this.masonry=new Masonry(b,{columnWidth:this.itemWidth,gutterWidth:h.StoreBriefHmargin,isFitWidth:!0,isResizable:!0});this.useNative(window.phonegapEnabled);$(window).bind("useNative",function(b){a.useNative(b.data);a.loadDefaultMenu()});this.loadDefaultMenu()},loadDefaultMenu:function(){if(!this.disableLoadDefault){var a=this,c=b.getLocationServiceStatus(),e=d.DeviceType.getDeviceType(),f=b.getUserDistrict();window.phonegapEnabled?e==d.DeviceType.Android?this.autoLocate():!c||null==c?f&&null!=f&&
2<f.length?(this.addressSelector.setSelection(f),window.myapp.location=f,this.loadStore(window.addressAndZipcode.address2zipcode(f))):this.addressSelector.showSelector&&this.addressSelector.showSelector():this.autoLocate(void 0,void 0,void 0,function(){a.addressSelector.showSelector&&a.addressSelector.showSelector()}):e==d.DeviceType.Other&&f&&null!=f&&2<f.length&&(this.addressSelector.setSelection(f),window.myapp.location=f,this.loadStore(window.addressAndZipcode.address2zipcode(f)))}},events:{"click .CircleButton":"autoLocate",
"locationChange .AddressSelector":"locationChange"},autoLocate:function(a,d,f,g){var k=this;window.loadingPanel&&window.loadingPanel.connectionOut();e.getCurrentPosition(function(a){window.autoLocalization=window.autoLocalization||{};window.autoLocalization.lat=a.latitude;window.autoLocalization.lng=a.longitude;b.setLocationServiceStatus("OK");e.getAddressFromGeo(a.latitude,a.longitude,function(a){window.loadingPanel&&window.loadingPanel.connectionIn();a=a.results[0].formatted_address;window.autoLocalization.address=
a;k.addressSelector.setSelection_zipcode(a.substring(0,3));c.trackAutoLocalzation_zipCode(a.substring(0,3));f&&f()},function(a){window.loadingPanel&&window.loadingPanel.connectionIn();console.log(a);g&&g()})},function(a){window.loadingPanel&&window.loadingPanel.connectionIn();console.log(a);b.setLocationServiceStatus("authFailed");g&&g()})},locationChange:function(a){var c=window.addressAndZipcode.zipcode2address(a.data);window.myapp.location=c;b.setUserDistrict(c);this.loadStore(a.data)},assignLocation:function(a){this.disableLoadDefault=
!0;this.addressSelector.setSelection(a)},assignLocation_zipcode:function(a){this.disableLoadDefault=!0;this.addressSelector.setSelection_zipcode(a)},loadStore:function(a){window.menuData||(window.menuData=new j);var b=this;window.menuData.getMenuByZipCode(a,function(a){a=a.get("stores");a.comparator=function(a,b){if(window.autoLocalization){if(a.get("chainStore")!=b.get("chainStore"))return a.get("index")<b.get("index")?-1:1;var c=d.getDistanceFromLatLng(window.autoLocalization.lat,window.autoLocalization.lng,
a.get("lat"),a.get("lng")),e=d.getDistanceFromLatLng(window.autoLocalization.lat,window.autoLocalization.lng,b.get("lat"),b.get("lng"));if(c<2.5&&e<2.5||Math.abs(c-e)<1){f=a.get("deliveryLimit");g=b.get("deliveryLimit");return f==g?c==e?0:c<e?-1:1:f==g?0:f<g?-1:1}return c==e?0:c<e?-1:1}if(a.get("chainStore")!=b.get("chainStore"))return a.get("index")<b.get("index")?-1:1;var f=a.get("deliveryLimit"),g=b.get("deliveryLimit");return f==g?0:f<g?-1:1};a.sort();$(".StoreList",b.el).empty();var c=0,e=0,
g="";_.each(a.models,function(a){if(a.get("chainStore")!=g){var d=(new f({model:a})).render();d.$el.css("width",b.itemWidth+"px");$(".StoreList",b.el).append(d.el);g=a.get("chainStore");c++}});$("img",this.el).bind("error",function(){$(window).trigger("imgLoadError",{errorMsg:this.src,errorLocation:"OrderTabView"})});$("img",this.el).bind("load",function(){e++;b.masonry.reload();b.scroller.render()});b.masonry.reload();b.scroller.render()},function(a,b){console.log(b)});c.trackGetMenuArea_zipcode(a);
c.trackOrderProcess(1,a)},render:function(){this.scroller.render();this.masonry.reload();this.delegateEvents();return this},useNative:function(a){a?(a=new l,$(".CircleButton",this.el).css("display","")):(a=new k,$(".CircleButton",this.el).css("display","none"));this.addressSelector=a;$(".AddressSelector",this.el).html(this.addressSelector.render().el)}});window.myapp=window.myapp||{};window.myapp.OrderTabView=a})(window.myapp.GoogleAnalytics,window.myapp.Images,window.myapp.LocalModel,window.myapp.Settings,
window.myapp.PG.Geolocation,window.myapp.Utils,window.myapp.Model.MenuData,window.myapp.Widget.Scroller,window.myapp.View.StoreBrief,window.myapp.Widget.AddressSelector,window.myapp.Widget.NativeAddressSelector);(function(c,a,b){var h={New:"未回覆",Accepted:"已確認",Rejected:"無法出餐",Processing:"連線中",Finished:"完成"},e=Backbone.View.extend({initialize:function(){var d=new c;this.scroller=d;d.html(_.template('<div class="historyTab"><div id="pullDown" class="refresh-panel"></div><div class="OrderHistory"><div class="OrderHistoryPanelTitle"><div class="column-name"></div><div class="column-name">送到時間</div><div class="column-name">編號</div><div class="column-name">狀態</div></div><div class="OrderHistoryPanel"></div></div><div id="pullUp" class="refresh-panel"></div></div>'));
$(this.el).html(d.el);$(this.el).css("display","-webkit-box");$(this.el).css("-webkit-box-flex","10");$(d.el).css("width","100%");$(".OrderHistoryPanel",this.el).css("minHeight",window.clientHeight);var e=new a({el:$(".OrderHistoryPanel",this.el)});pullDownEl=$("#pullDown",this.el);pullDownOffset=30;pullUpEl=$("#pullUp",this.el);pullUpOffset=30;d.setPullToRefresh({pullDownEl:pullDownEl,pullDownAction:function(){var a=new b;a.setAPI("getOrderHistory",{phoneId:myapp.LocalModel.getUUID()});a.fetch({success:function(){window.orderHistory=
a;e.clear();_.each(a.models,function(a){var b="",c=a.get("notes"),d;for(d in c)b="sellerRejectReason"==d?b+("無法出餐原因："+c[d]+"<br/>"):b+(d+"："+c[d]+"<br/>");c=_.template('<div class="AccordionArrow"></div><div><%= i18n.formatDate(want, "m/d H:i") %></div><div><%= i18n.formatDate(send, "md")+"-"+ID.substring(ID.length-3) %></div><div><%= status %></div>',{send:new Date(a.get("submitDate")),want:new Date(a.get("wantDate")),ID:a.get("orderID"),status:h[a.get("status")]});a="Accepted"==a.get("status")?
_.template('<div class="content-wrapper"><div class="TakeOutLabel"><%if(storePhone){ print(store+"("+storePhone+")"+":"); }else{ print(store+":"); }%></div><ul class="BuyList"><%for(var i=0, length=buyList.length; i<length; i++){var bi=buyList[i];var pname=bi.productNameId, amount=bi.amount, singlePrice=bi.singlePrice, orderName=bi.orderName, option="", orderNameString="";pname=pname.split("_")[1];var opt=bi.selectedOptions, keySet=Object.keys(opt);if(orderName && orderName.length>0 && orderName!="null"){orderNameString="<span style=\'background:-webkit-gradient(linear,center top, center bottom, from(#5D311A), color-stop(2%, #F38D48), color-stop(98%,#CE6522), to(white));\'>"+orderName+"</span>";}if(keySet.length>0){option="[";for(var j=0, length2=keySet.length; j<length2; j++){var key=keySet[j];option+=key+":"+bi.selectedOptions[key]+",";}option=option.substring(0,option.length-1); option+="]";}if(singlePrice>0){print("<li>"+orderNameString+pname+option+" X "+amount+" = "+singlePrice*amount+"元</li>");}else{print("<li>"+orderNameString+pname+option+" X "+amount+"</li>");}}%></ul><div class="TotalMoney"><%= "總共"+total+"元" %></div><div><%= notes %></div></div>',
{store:a.get("branchName"),storePhone:a.get("branchPhone"),buyList:a.get("buyList"),total:a.get("totalMoney"),notes:b}):_.template('<div class="content-wrapper"><div class="TakeOutLabel"><%if(storePhone){ print(store+"("+storePhone+")"+":"); }else{ print(store+":"); }%></div><ul class="BuyList"><%for(var i=0, length=buyList.length; i<length; i++){var bi=buyList[i];var pname=bi.productNameId, amount=bi.amount, singlePrice=bi.singlePrice, orderName=bi.orderName, option="", orderNameString="";pname=pname.split("_")[1];var opt=bi.selectedOptions, keySet=Object.keys(opt);if(orderName && orderName.length>0 && orderName!="null"){orderNameString="<span style=\'background:-webkit-gradient(linear,center top, center bottom, from(#5D311A), color-stop(2%, #F38D48), color-stop(98%,#CE6522), to(white));\'>"+orderName+"</span>";}if(keySet.length>0){option="[";for(var j=0, length2=keySet.length; j<length2; j++){var key=keySet[j];option+=key+":"+bi.selectedOptions[key]+",";}option=option.substring(0,option.length-1); option+="]";}if(singlePrice>0){print("<li>"+orderNameString+pname+option+" X "+amount+" = "+singlePrice*amount+"元</li>");}else{print("<li>"+orderNameString+pname+option+" X "+amount+"</li>");}}%></ul><div class="TotalMoney"><%= "總共"+total+"元" %></div><div><%= notes %></div></div>',
{store:a.get("chainStore"),storePhone:void 0,buyList:a.get("buyList"),total:a.get("totalMoney"),notes:b});e.add(c,a)});d.render()},error:function(){console.log("get order history failed")}})},pullDownOffset:0,pullUpOffset:0});d.scrollTo(0,0,0)},events:{"toggle .Accordion":"toggleCallback"},toggleCallback:function(){this.scroller.render()},render:function(){this.delegateEvents();this.scroller.render();return this}});window.myapp=window.myapp||{};window.myapp.HistoryTabView=e})(window.myapp.Widget.Scroller,
window.myapp.Widget.Accordion,window.myapp.Model.OrderHistory);(function(c,a,b){var h=Backbone.View.extend({initialize:function(){var a=new c;this.scroller=a;a.html(_.template("<p class='about_text' >甲蝦米有這些問題：<br/><textarea id='errorReport' type='Text' class='INPUT Text'></textarea><br/><br/>我想要這些店家加入甲蝦米：<br/><input id='recommendation' type='Text' class='INPUT Text'><br/><br/>我的手機是<input id='cellphone' class='INPUT Tel' type='tel'><br/>請客服儘快跟我聯絡</p><p class='submit-paragraph'><a id='sendFeedbackBtn' class='SubmitButton'>送出</a></p>"));$(this.el).html(a.el);$(this.el).css("display",
"-webkit-box");$(this.el).css("-webkit-box-flex","10");$(a.el).css("width","100%")},events:{"click #sendFeedbackBtn":"sendFeedback"},render:function(){this.scroller.render();this.delegateEvents();$("#cellphone",this.el).val(b.getUserPhoneNumber());return this},sendFeedback:function(){var c=$("#recommendation",this.el).val(),d=$("#errorReport",this.el).val(),j={};j.UUID=b.getUUID();j.appName="o2oist";j.customerName=b.getUserName();j.customerPhoneNumber=$("#cellphone",this.el).val();j.feedbacks={};
j.feedbacks.recommandation=c;j.feedbacks.errorReport=d;var g=a+"?action=sendFeedback";$.ajax({type:"POST",url:g,dataType:"json",cache:!1,data:JSON.stringify(j),success:function(a){try{console.log(a),alert("謝謝您的寶貴意見")}catch(b){$(window).trigger("tryCatchError",{errorMsg:b.message+" at ajax for "+g,errorLocation:b.stack})}},error:function(){$(window).trigger("ajaxError2",{errorMsg:g,errorLocation:printStackTrace()});alert("謝謝您的寶貴意見")}});c=b.getUserPhoneNumber();(!c||10!=c.length)&&b.setUserPhoneNumber($("#cellphone",
this.el).val())}});window.myapp=window.myapp||{};window.myapp.FeedbackTabView=h})(window.myapp.Widget.Scroller,window.myapp.Api.FeedbackServiceUrl,window.myapp.LocalModel);(function(c,a,b,h){var e=['<div id="about-panel" data-scrollable="y"><p id="intro">天天 09:30  到  19:30  輕鬆叫外送！<br/>','<span class="intro-step"><span class="intro-step-index">1</span><span class="intro-step-icon-wrap"><span id="intro-step1-icon" class="intro-step-icon" style="-webkit-mask-box-image:url('+b["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_027_search"]+');"></span><span class="intro-step-text">尋找店家</span></span></span><br/>','<span class="intro-step"><span class="intro-step-index">2</span><span class="intro-step-icon-wrap"><span id="intro-step2-icon" class="intro-step-icon" style="-webkit-mask-box-image:url('+
b["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_209_cart_in"]+');"></span><span class="intro-step-text">選擇餐點</span></span></span><br/>','<span class="intro-step"><span class="intro-step-index">3</span><span class="intro-step-icon-wrap"><span id="intro-step3-icon" class="intro-step-icon" style="-webkit-mask-box-image:url('+b["css/icons/jashami-logo-toung"]+');"></span><span class="intro-step-text">送給客服</span></span></span><br/>','<span class="intro-step"><span class="intro-step-index">4</span><span class="intro-step-icon-wrap"><span id="intro-step4-icon" class="intro-step-icon" style="-webkit-mask-box-image:url('+
b["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_139_phone"]+');"></span><span class="intro-step-text">客服回電</span></span></span><br/>',"不清楚？有疑問？<br/>",'<a href="tel:0227638295" id="about-call" class="button"><span id="about-call-icon" class="icon" style="-webkit-mask-box-image:url('+b["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_139_phone"]+');"></span>打電話</a>','或<a href="mailto:service@o2oist.com" id="about-email" class="button"><span id="about-email-icon" class="icon" style="-webkit-mask-box-image:url('+
b["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_124_message_plus"]+');"></span>寄信</a>給客服<br/>','到<a class="button outButton" href="http://www.facebook.com/o2oist?v=feed" target="_blank"><span id="fanpage-icon" class="icon" style="-webkit-mask-box-image:url('+b["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_320_facebook"]+');"></span>粉絲頁</a>給我們加油打氣！','</p></div><div style="text-align:right;font-size:50%;color:gray;"><%= appVersion %></div>'].join(""),b=Backbone.View.extend({initialize:function(){var a=
new h;this.scroller=a;a.html(_.template(e,{appVersion:c}));$(this.el).html(a.el);$(a.el).css("width","100%")},events:{"click a.outButton":"goToFanPage"},goToFanPage:function(b){window.phonegapEnabled&&(a.go(b.currentTarget.href),b.preventDefault())},render:function(){this.scroller.render();this.delegateEvents();return this}});window.myapp=window.myapp||{};window.myapp.AboutUsTabView=b})(window.myapp.Settings.appVersion,window.myapp.PG.ChildBrowser,window.myapp.Images,window.myapp.Widget.Scroller);(function(c,a,b,h){var e=['<div class="PageLeftPanel"></div><div class="PageMainPanel"><div class="header-wrap"><div class="header-shadow"></div><div class="header-outer"><div class="header">','<div class="center" style="background:url('+a["pic/paper_light_yellow"]+') repeat scroll 0 0;">','<div class="function-panel">','<a class="link" href="#startPage/orderTab"><div class="link-wrap" id="order-link-wrap"><div id="order-link" class="icon" style=" -webkit-mask-box-image:url('+a["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_027_search"]+
');"></div><div class="function-txt">訂餐</div></div></a>','<a class="link" href="#startPage/historyTab"><div class="link-wrap" id="history-link-wrap"><div id="history-link" class="icon" style=" -webkit-mask-box-image:url('+a["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_036_file"]+');"></div><div class="function-txt">紀錄</div></div></a>','<a class="link" href="#startPage/feedbackTab"><div class="link-wrap" id="feedback-link-wrap"><div id="feedback-link" class="icon" style=" -webkit-mask-box-image:url('+
a["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_309_comments"]+');"></div><div class="function-txt">有問題</div></div></a>','<a class="link" href="#startPage/aboutUsTab"><div class="link-wrap" id="about-link-wrap"><div id="about-link" class="icon" style=" -webkit-mask-box-image:url('+a["css/icons/jashami-logo-toung"]+');"></div><div class="function-txt">教學</div></div></a>','</div></div></div></div></div><div class="PageContent"></div></div>'].join(""),c=Backbone.View.extend({initialize:function(){this.isShowFunction=
!1;this.tabs={};this.$el.html(_.template(e));this.$el.addClass("Base");this.$el.attr("id","startPageView");this.$el.attr("style","height:100%; width:100%;");this.$el.css("-webkit-box-orient","horizontal")},events:{"click .PageContent":"hideFunctionPanel","click .BackButton":"toggleFunctionPanel","click .PageLeftPanel .TabButton":"toTab2"},render:function(){return this},toggleFunctionPanel:function(){this.isShowFunction?(this.$el.children(".PageLeftPanel").css("-webkit-transform","translate3d(-100%, 0px, 0px)"),
this.$el.children(".PageMainPanel").css("-webkit-transform","translate3d(0px, 0px, 0px)"),this.onToggle=this.isShowFunction=!1):(this.$el.children(".PageLeftPanel").css("-webkit-transform","translate3d(0px, 0px, 0px)"),this.$el.children(".PageMainPanel").css("-webkit-transform","translate3d(200px, 0px, 0px)"),this.isShowFunction=!0)},hideFunctionPanel:function(){this.isShowFunction&&(this.$el.children(".PageLeftPanel").css("-webkit-transform","translate3d(-100%, 0px, 0px)"),this.$el.children(".PageMainPanel").css("-webkit-transform",
"translate3d(0px, 0px, 0px)"),this.isShowFunction=!1)},toTab:function(a){a&&(this.currentTab=a,this.tabs[a]||(this.tabs[a]=new h[a],$(".PageContent",this.el).append(this.tabs[a].render().el)),$(".PageContent",this.el).children().hide(),$(this.tabs[a].el).css("display","-webkit-box"),this.tabs[a].render(),$(".function-panel a",this.$el).removeClass("active"),$('.function-panel a[href*="'+a+'"]',this.$el).addClass("active"))},toTab2:function(a){a=$(a.currentTarget).attr("href");Backbone.history.navigate("#startPage/"+
a,{trigger:!1,replace:!0});this.toggleFunctionPanel();this.toTab(a);this.$el.attr("url",window.location.href)}});window.myapp=window.myapp||{};window.myapp.StartPageView=c})(i18n,window.myapp.Images,window.myapp.Widget.TouchWidget,{orderTab:window.myapp.OrderTabView,historyTab:window.myapp.HistoryTabView,feedbackTab:window.myapp.FeedbackTabView,aboutUsTab:window.myapp.AboutUsTabView});(function(c,a,b,h,e,d,j){var g=['<div class="PageMainPanel"><div class="header-wrap"><div class="header-shadow"></div><div class="header-outer"><div class="header">','<div class="center" style="background:url('+c["pic/paper_light_yellow"]+') repeat scroll 0 0;">','<div class="BackButton">','<div class="link-wrap" id="back-link-wrap"><div id="back-link" class="icon" style="-webkit-mask-box-image:url('+c["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_216_circle_arrow_left"]+');"></div><div class="function-txt">返回</div></div>',
'</div><div id="title" class="function-panel"></div><div class="NextButton">','<a id="order-info" class="link" href="#startPage/feedbackTab"><div class="link-wrap" id="order-info-link-wrap"><div id="order-info-link" class="icon" style="-webkit-mask-box-image:url('+c["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_202_shopping_cart"]+');"></div><div class="function-txt">購物車</div></div></a>','</div></div></div></div></div><div class="PageContent" id="storeContent"></div><div id="segmentPanel-outer"><div id="segmentPanel"></div></div><div id="order-info-sticker1"></div><div id="order-info-sticker1-shadow"></div><div class="ShoppingCar"><a id="order-info" class="link" href="#startPage/feedbackTab"><div class="ShoppingCartPanel"></div></a></div></div>'].join(""),
f=Backbone.View.extend({initialize:function(){var c=this;$(this.el).addClass("Base");$(this.el).attr("id","storePageView");$(this.el).attr("style","height:100%; width:100%;");this.scroller=new a;$(this.scroller.content).addClass("scroller-content");this._segmentPanelWidth=640<$(window).width()?60:30;window.productPanel||(window.productPanel=new b,$("body").append(window.productPanel.$el));$(this.el).html(_.template(g));$("#segmentPanel",this.el).addClass("ScrollBar Segment");$("#storeContent",this.el).append(this.scroller.render().el);
window.shoppingCartPanel||(window.shoppingCartPanel=new h,$(".ShoppingCartPanel",this.el).html(window.shoppingCartPanel.render().el));this._col=2;this._gridWidth=100;this._gridHeight=25;this._gridHMargin=8;this._gridVMargin=6;this._minCol=2;this._minGridWidth=640>=$(window).width()?150:200;this._maxGridWidth=640>=$(window).width()?200:250;$(window).bind("resize",function(){c._minGridWidth=$(window).width()<=640?150:200;c._maxGridWidth=$(window).width()<=640?200:250;c._segmentPanelWidth=0;var a=$(window).width()-
c._segmentPanelWidth;c.calAndSetGridSize(c._segmentPanelWidth,a)});new j({el:$("#back-link-wrap",this.el)});new j({el:$("#order-info-link-wrap",this.el)})},refreshGridSize:function(){this._minGridWidth=640>=$(window).width()?150:200;this._maxGridWidth=640>=$(window).width()?200:250;this._segmentPanelWidth=0;this.calAndSetGridSize(this._segmentPanelWidth,$(window).width()-this._segmentPanelWidth)},calAndSetGridSize:function(a,b){$(this.scroller.el).css("width",b+"px");for(var c=2*this._gridHMargin,
d=b/this._col-c;d>this._maxGridWidth;)this._col++,d=b/this._col-c;for(;this._col>this._minCol&&d<this._minGridWidth;)this._col--,d=b/this._col-c;this._gridHeight=this._gridHeight*d/this._gridWidth;this._gridWidth=d;c=$(".Grid",this.el);for(i=0;i<c.length;i++)d=$(c.get(i)),d.css("width",this._gridWidth),$("img",d).length?d.css("height",3*this._gridHeight+this._gridVMargin):d.css("height",this._gridHeight);$(".SegmentWidget",this.el).width(a)},resetScroller:function(){this.scroller.scrollTo(0,0,0)},
resetDisplayedData:function(){this.scroller.getContent().empty();$("#segmentPanel",this.el).empty()},setModel:function(a){window.loadingPanel&&window.loadingPanel.connectionOut();a&&(this.model=a);var b=this,a=this.model.get("displayedName");$("#title",this.el).html(a);var f=this.model.get("menuId").get("products").models;this.model.get("menuId").get("products").sort();var g,j,h=0,q=function(a){var d=document.createElement("div");d.className="Grid";d.style["float"]="left";d.style.marginTop=b._gridVMargin+
"px";d.style.marginBottom=b._gridVMargin+"px";d.style.marginLeft=b._gridHMargin+"px";d.style.marginRight=b._gridHMargin+"px";var e=a.get("imgUrl"),f=a.get("displayedName"),k=a.get("price"),n=a.get("productNameId");d.pid=n;if(e){d.style.width=b._gridWidth+"px";d.style.height=b._gridHeight*3+b._gridVMargin*2+"px";$(d).html(_.template('<div class="ProductBoxWidget2 ProductBoxWidget2-image"><img class="ProductBoxWidget2-img" src="<%= img %>"/><div class="ProductBoxWidget2-info"><div class="ProductBoxWidget2-name"><%= name %></div><div class="ProductBoxWidget2-price"><%= price %></div></div></div>',
{img:e,name:f,price:k}))}else{d.style.width=b._gridWidth+"px";d.style.height=b._gridHeight+"px";$(d).html(_.template('<div class="ProductBoxWidget2 ProductBoxWidget2-text"><div class="ProductBoxWidget2-infoNoImg"><div class="ProductBoxWidget2-name"><%= name %></div><div class="ProductBoxWidget2-price"><%= price %></div></div></div>',{name:f,price:k}))}$(".ProductBoxWidget2-name",d).text().length>7?$(".ProductBoxWidget2-name",d).addClass("long-name"):$(".ProductBoxWidget2-name",d).removeClass("long-name");
a=a.get("category");a=a.substring(a.indexOf(".")+1);if(a==g)$(j).append(d);else{h++;g=a;f=document.createElement("div");f.className="FlexGridContainerTitle";$(f).css("background","url("+c["pic/type-tag"]+") repeat scroll 0 0");e=g.indexOf("@");e>=0&&(a=g.substring(0,e));f.innerHTML=a;j=document.createElement("div");j.className="FlexGridContainer color"+h;j.id="cateName"+h;$(j).append(f);$(j).append(d);b.scroller.getContent().append(j);d=document.createElement("div");d.className="SegmentWidget";$(d).css("background",
"url("+c["pic/type-tag"]+") repeat scroll 0 0");$(d).addClass("tag"+h);e=g.indexOf("@")+1;e>0&&(a=g.substring(e));e=document.createElement("div");e.className="tag-name color"+h;e.innerHTML=a;$(d).append(e);$("#segmentPanel",b.el).append(d);$(d).width(b._segmentPanelWidth);$(d).attr("loc","cateName"+h)}};setTimeout(function(){_.each(f,q);$("img",b.el).bind("error",function(){$(window).trigger("imgLoadError",{errorMsg:this.src,errorLocation:"StorePageView"})});b.scroller.render();$(".SegmentWidget",
b.el).bind("click",function(a){a=$(a.currentTarget).attr("loc");b.scroller.scrollToElement($("#"+a).get(0))});window.loadingPanel&&window.loadingPanel.connectionIn()},30);a=this.model.get("storeNameId");$("#order-info",this.el).attr("href","#orderInfoPage/"+a);window.shoppingCartCollection||(window.shoppingCartCollection=new d);var p=window.shoppingCartCollection,m=p.get(a);m||(m=this.model.get("deliveryLimit"),m=new e({storeNameId:a,deliveryLimit:m,menu:this.model.get("menuId")}),p.add(m));m.updateDisplay()},
events:{"click .BackButton":"goBack","click .Grid":"showProduct"},goBack:function(){window.inTransition||(window.isGoBack=!0,window._iframe?Backbone.history.navigate("#startPage/orderTab",{trigger:!0,replace:!0}):window.history.go(-1))},showProduct:function(a){pid=$(a.currentTarget).attr("pid");window.productPanel.show("bottom");this.model.get("menuId").get("menuId");window.productPanel.setModel(this.model.get("menuId").get("products").get(pid),this.model.get("storeNameId"));a="";a=0<=window.location.hash.indexOf(encodeURIComponent(pid))?
window.location.hash:window.location.hash+"/"+encodeURIComponent(pid);Backbone.history.navigate(a,{trigger:!1,replace:!1});this.onShowProduct=!1},render:function(){this.scroller.render();this.delegateEvents();window._widget?$(".BackButton",this.el).hide():$(".BackButton",this.el).show();return this}});window.myapp=window.myapp||{};window.myapp.StorePageView=f})(window.myapp.Images,window.myapp.Widget.Scroller,window.myapp.View.ProductPanel,window.myapp.View.ShoppingCartPanel,window.myapp.Model.ShoppingCart,
window.myapp.Model.ShoppingCartCollection,window.myapp.Widget.TouchWidget);(function(c,a,b,h,e,d){var j=['<div class="header-wrap"><div class="header-shadow"></div><div class="header-outer"><div class="header">','<div class="center" style="background:url('+c["pic/paper_light_yellow"]+') repeat scroll 0 0;">','<div class="BackButton">','<div class="link-wrap" id="back-link-wrap" ><div id="back-link" class="icon" style="-webkit-mask-box-image:url('+c["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_216_circle_arrow_left"]+');"></div><div class="function-txt">返回</div></div>',
'</div><div id="title" class="function-panel"></div><div class="NextButton">','<a id="buy-link-wrap" class="checkOutBtn link-wrap" href="#userInfoPage"><div id="buy" class="icon" style="-webkit-mask-box-image:url('+c["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_227_usd"]+');"></div><div class="function-txt">購買</div></a>','</div></div></div></div></div><div class="order-info-list-panel"><div class="TotalMoneyPanel"><div><div>總共</div><div class="totalCount"></div><div class="totalMoney"></div><div></div></div></div><div class="OrderListPanel"></div></div>'].join(""),
g=['<div class="OrderInfoList"><% for(var i=0, length=shoppingCart.get("buyList").length; i<length; i++){ %><% var buyList = shoppingCart.get("buyList") %><div class="order-item-wrap">','<div id="removeItem" class="icon" index="<%= i %>" style="-webkit-mask-box-image:url('+c["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_197_remove"]+');"></div>','<% var orderName = buyList.at(i).get("orderName"); %><% if(orderName && orderName.length>0){ %><div class="name"><%= orderName %></div><% } %><div class="BuyItemCell"><div class="ProductInfoPanel"><% var pid = buyList.at(i).get("productNameId"); pid = pid.substring(pid.indexOf("_")+1); %><div class="ProductName"><%= pid %></div><div class="OptionPanel"><% var selectedOptions = buyList.at(i).get("selectedOptions"); %><% for(var key in selectedOptions){ %><div><%=  key %>：<%=  selectedOptions[key] %></div><% } %><% var remarks = buyList.at(i).get("remarks"); %><% if(remarks && remarks.length>0){ %><div>附註：<%= remarks %></div><% } %></div></div><div class="BuyAmount"><%= buyList.at(i).get("amount") %>份</div><div class="BuyPrice"><%= buyList.at(i).get("singlePrice") * buyList.at(i).get("amount") %>元</div></div>',
'<div id="updateItem" class="icon" index="<%= i %>" style="-webkit-mask-box-image:url('+c["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_151_edit"]+');"></div>',"</div><% } %></div>"].join(""),c=Backbone.View.extend({initialize:function(){$(this.el).addClass("Base");$(this.el).attr("id","OrderInfoPageView");this.scroller=new a;$(this.el).html(_.template(j));new d({el:$("#back-link-wrap",this.el)});new d({el:$("#buy-link-wrap",this.el)})},setModel:function(a){a&&(this.model=a);
a=this.model.get("displayedName");$("#title",this.el).html(a);$(".checkOutBtn",this.el).attr("href","#userInfoPage/"+this.model.id);this.resetDisplayedData()},_getShoppingCar:function(a){window.shoppingCartCollection||(window.shoppingCartCollection=new e);var b=window.shoppingCartCollection,c=b.get(a);c||(c=this.model.get("deliveryLimit"),c=new h({storeNameId:a,deliveryLimit:c,menu:this.model.get("menuId")}),b.add(c));return c},events:{"click .BackButton":"goBack","click #clearAllBtn":"clearAll",
"click .checkOutBtn":"checkOut","click #updateItem":"updateItem","click #removeItem":"removeItem"},goBack:function(){if(!window.inTransition)if(window.isGoBack=!0,window._iframe){var a="#storePage"+window.location.hash.substring(window.location.hash.lastIndexOf("/"));Backbone.history.navigate(a,{trigger:!0,replace:!0})}else window.history.go(-1)},clearAll:function(){this._getShoppingCar(this.model.get("storeNameId")).clearBuyList()},checkOut:function(a){var b=this.model.get("storeNameId"),c=this._getShoppingCar(b),
d=c.get("deliveryLimit"),b=0>b.indexOf("85度C")?c.getSum():c.getSum("飲料");if(b<d||0==d&&b<=d)alert("未達外送額度"),a.preventDefault()},updateItem:function(a){var a=a.currentTarget.getAttribute("index"),b=this.model.get("storeNameId"),c=this._getShoppingCar(b),d=c.get("buyList").at(a),e=d.get("productNameId"),e=window.menuData.get("stores").get(b).get("menuId").get("products").get(e),g=window.productPanel;g.show("top",{text:"確定",action:function(){g.hide("top",function(){d.set("selectedOptions",$.extend({},
g.selectedOption));d.set("singlePrice",g.selectedPrice);d.set("amount",g.amount);d.set("orderName",g.getOrderName());d.set("remarks",g.getRemarks());c.sortBuyList();c.update();c.updateDisplay();window.history.go(-1)})}},{text:"取消",action:function(){g.hide("top",function(){window.history.go(-1)})}});window.productPanel.setModel(e,b,d);Backbone.history.navigate(window.location.hash+"/"+a,{trigger:!1,replace:!1})},removeItem:function(a){var b=a.currentTarget.getAttribute("index"),a=this._getShoppingCar(this.model.get("storeNameId")),
b=a.get("buyList").at(b);a.removeBuyItem(b)},resetDisplayedData:function(){if(this.model){var a=this._getShoppingCar(this.model.get("storeNameId"));this.scroller.html(_.template(g,{shoppingCart:a}));$(".OrderListPanel",this.el).html(this.scroller.render().el);$(this.scroller.el).css("width","100%");$(".totalCount",this.el).html(a.get("amount")+"份");$(".totalMoney",this.el).html(a.get("sum")+"元")}},render:function(){this.scroller.render();this.delegateEvents();return this}});window.myapp=window.myapp||
{};window.myapp.OrderInfoPageView=c})(window.myapp.Images,window.myapp.Widget.Scroller,window.myapp.View.ProductPanel,window.myapp.Model.ShoppingCart,window.myapp.Model.ShoppingCartCollection,window.myapp.Widget.TouchWidget);(function(c,a,b,h,e,d,j){var g=['<div class="header-wrap"><div class="header-shadow"></div><div class="header-outer"><div class="header">','<div class="center" style="background:url('+c["pic/paper_light_yellow"]+') repeat scroll 0 0;">','<div class="BackButton" id="cancelBtn">','<div class="link-wrap" id="back-link-wrap"><div id="back-link" class="icon" style="-webkit-mask-box-image:url('+c["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_216_circle_arrow_left"]+');"></div><div class="function-txt">返回</div></div>',
'</div><div id="title" class="function-panel"></div><div class="NextButton" id="waiterBtn">','<div class="link-wrap" id="waiter-link-wrap"><div id="waiter" class="icon" style="-webkit-mask-box-image:url('+c["css/icons/jashami-logo-toung"]+');"></div><div class="function-txt">送出</div></div>','</div></div></div></div></div><div id="userinfoList" style="color: #000; -webkit-box-flex: 10;display: -webkit-box; position:relative"></div>'].join(""),c=Backbone.View.extend({initialize:function(){$(this.el).addClass("Base");
$(this.el).attr("id","UserInfoPageView");this.scroller=new b;$(this.scroller.el).css("width","100%");$(this.scroller.el).css("-webkit-box-flex","1");$(this.el).html(_.template(g));$("#userinfoList",this.el).append(this.scroller.render().el);this.scroller.html(_.template('<div class="UserInfo"><p class="userinfo-paragraph" id="ErrorMsg">服務時間已過</p><p class="userinfo-paragraph" id="userinfo-paragraph"><span class="userinfo-line"><span class="DateTimeSelectionBox"></span></span><span id="addr-line" class="userinfo-line"><span class="info-title">送到</span><span class="location"><%= location %></span><br /><input type="Text" placeholder="必填，基隆路一段180號7樓" class="INPUT address"></span><br /><span class="userinfo-line"><span class="info-title">我是</span><input type="Text" placeholder="必填" class="INPUT name"></span><br /><span class="userinfo-line"><span class="info-title">手機</span><input type="Tel" placeholder="必填" class="INPUT tel"></span><br /><span class="userinfo-line"><span class="info-title">公司行號</span><input type="Text" placeholder="選填，方便外送人員找地點" class="INPUT company"></span><br /><span class="userinfo-line"><span class="info-title">統一編號</span><input type="Tel" placeholder="選填" class="INPUT invoice"></span><br /><span class="userinfo-line"><span class="info-title">特殊需求</span><input type="Text" placeholder="選填，越快越好、可樂要附紙杯" class="INPUT remarks"></span></p></div>',
{location:window.myapp.location}));$("#ErrorMsg",this.el).hide();$("#userinfo-paragraph",this.el).show();this.useNative(window.phonegapEnabled);$(window).bind("useNative",function(a){that.useNative(a.data)});new j({el:$("#back-link-wrap",this.el)});new j({el:$("#waiter-link-wrap",this.el)})},_saveUserInput:function(){var a=$.trim($(".name",this.el).val()),b=$.trim($(".tel",this.el).val()),c=$.trim($(".address",this.el).val());d.setUserName(a);d.setUserPhoneNumber(b);d.setUserAddress(c)},_restoreUserInput:function(){var a=
d.getUserName(),b=d.getUserPhoneNumber(),c=d.getUserAddress();$(".name",this.el).val(a);$(".tel",this.el).val(b);$(".address",this.el).val(c)},events:{"click .BackButton":"goBack","click .NextButton":"sendOrder"},goBack:function(){window.inTransition||(window.isGoBack=!0,window.history.back(),this._saveUserInput())},sendOrder:function(){try{var b=this,c=!1;if(this.isFromValided()&&(this._saveUserInput(),c=confirm("按下確定後，訂單就會成立，送至系統處理。\n\n如果要修改或取消訂單，請等待系統回覆門市資料，\n請您直接聯繫門市處理。\n\n請問您確定要訂購嗎？"))){var d=
$.trim($(".name",this.el).val()),e=$.trim($(".tel",this.el).val()),g=(window.myapp.location?window.myapp.location:"")+$.trim($(".address",this.el).val()),j=$.trim($(".company",this.el).val()),h=$.trim($(".invoice",this.el).val()),q=$.trim($(".remarks",this.el).val()),p=window.myapp.LocalModel.getUUID(),m=this.timeSelector.getSelection().getTime(),w=window.shoppingCartCollection.get(this.store).get("buyList").toJSON(),x=window.shoppingCartCollection.get(this.store).get("sum"),u={storeID:this.store,
type:"Delivery",customerName:d,customerPhone:e,customerDeviceID:p,customerAddress:g,wantDate:m,buyList:w,notes:{"公司行號":j,"統一編號":h,"備註":q},sum:x};window.autoLocalization&&(u.autoLocalization=window.autoLocalization);window.loadingPanel&&window.loadingPanel.connectionOut();var r=a+"?action=sendOrder";$.ajax({type:"POST",url:r,dataType:"json",cache:!1,data:JSON.stringify(u),success:function(a){try{window.loadingPanel&&window.loadingPanel.connectionIn();console.log(a);window.myapp.orderNumber=a.orderID;
var c="#orderResultPage/"+encodeURIComponent(b.store);Backbone.history.navigate(c,{trigger:true,replace:false});window._widget=false}catch(d){$(window).trigger("tryCatchError",{errorMsg:d.message+" at ajax for "+r,errorLocation:d.stack})}},error:function(a,b){window.loadingPanel&&window.loadingPanel.connectionIn();$(window).trigger("ajaxError2",{errorMsg:r,errorLocation:printStackTrace()});alert(b)}})}}catch(v){$(window).trigger("tryCatchError",{errorMsg:v.message,errorLocation:v.stack})}},isFromValided:function(){var a=
this.timeSelector.getSelection(),b=$.trim($(".name",this.el).val()),c=$.trim($(".tel",this.el).val()),d=$.trim($(".address",this.el).val());if(void 0===a)return alert("請選擇送達時間！"),!1;for(;""===b;){b=prompt("請輸入您的稱呼！");if(null===b)return!1;b=$.trim(b)}for($(".name",this.el).val(b);""===c;){c=prompt("請輸入手機號碼！");if(null===c)return!1;c=$.trim(c)}for(;!this.isTel(c);){c=prompt("手機格式錯誤，請輸入正確的手機號碼！",c);if(null===c)return!1;c=$.trim(c)}for($(".tel",this.el).val(c);""===d;){d=prompt("請輸入您的地址！");if(null===d)return!1;
d=$.trim(d)}$(".address",this.el).val(d);return!0},isTel:function(a){var b=/^[0]{1}[9]{1}\d{2}[- ]?\d{3}[- ]?\d{3}$/;return 10>a.length||12<a.length?!1:b.exec(a)},setTitle:function(a){$("#title",this.el).html(a)},setStore:function(a){this.store=a},setAvailableTime:function(a){a&&0<a.length?($("#ErrorMsg",this.el).hide(),$("#userinfo-paragraph",this.el).show(),this.timeSelector.setDataList(a)):($("#ErrorMsg",this.el).show(),$("#userinfo-paragraph",this.el).hide())},render:function(){try{return window.myapp.location?
$(".location",this.el).html(window.myapp.location+"的"):$(".location",this.el).html(""),this.scroller.render(),this.delegateEvents(),this._restoreUserInput(),this}catch(a){$(window).trigger("tryCatchError",{errorMsg:a.message,errorLocation:a.stack})}},useNative:function(a){this.timeSelector=a?new e:new h;$(".DateTimeSelectionBox",this.el).html(this.timeSelector.render().el)}});window.myapp=window.myapp||{};window.myapp.UserInfoPageView=c})(window.myapp.Images,window.myapp.Api.OrderServiceUrl,window.myapp.Widget.Scroller,
window.myapp.Widget.DateTimeSelector,window.myapp.Widget.NativeTimeSelector,window.myapp.LocalModel,window.myapp.Widget.TouchWidget);(function(c,a,b){var h=['<div class="header-wrap"><div class="header-shadow"></div><div class="header-outer"><div class="header">','<div class="center" style="background:url('+c["pic/paper_light_yellow"]+') repeat scroll 0 0;">','<div class="BackButton" id="cancelBtn"></div><div id="title" class="function-panel"></div><div class="NextButton" id="waiterBtn">','<div id="history-link-wrap" class="link-wrap" ><div id="history-link" class="icon" style="-webkit-mask-box-image:url('+c["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_036_file"]+
');"></div><div class="function-txt">看紀錄</div></div>','</div></div></div></div></div><div id="orderResult"></div>'].join(""),e=['<div class="FinishPanel"><div class="finish-panel-innner">','<img id="ok-icon" src="'+c.OKicon+'">','<p id="message"><span id="text">訂單送到甲蝦米客服了<br/>','會回<span id="about-call-icon" class="icon" style="-webkit-mask-box-image:url('+c["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_139_phone"]+');"></span>電話或','<span id="about-email-icon" class="icon" style="-webkit-mask-box-image:url('+
c["css/bootstrap/img/glyphicons_free/glyphicons/png-square/glyphicons_124_message_plus"]+');"></span>簡訊給你<br/>',"請到「紀錄」查詢</span></p></div></div>"].join(""),c=Backbone.View.extend({initialize:function(){$(this.el).addClass("Base");$(this.el).attr("id","OrderResultPageView");this.scroller=new a;$(this.scroller.el).css("width","100%");$(this.el).html(_.template(h));$("#orderResult",this.el).html(this.scroller.render().el);this.scroller.html(_.template(e,{orderNumber:0}));new b({el:$("#history-link-wrap",
this.el)})},events:{"click .NextButton":"historyTab"},historyTab:function(){Backbone.history.navigate("#startPage/historyTab",{trigger:!0,replace:!1})},homePage:function(){Backbone.history.navigate("#startPage",{trigger:!0,replace:!1})},setStore:function(a){this.store=a},setOrderNumber:function(a){this.orderNumber=a},cleanShoppingCart:function(a){window.shoppingCartCollection&&window.shoppingCartCollection.get(a)&&window.shoppingCartCollection.get(a).clearBuyList()},render:function(){$("#title",this.el).html(this.store);
this.scroller.html(_.template(e,{orderNumber:this.orderNumber}));this.scroller.render();this.delegateEvents();return this}});window.myapp=window.myapp||{};window.myapp.OrderResultPageView=c})(window.myapp.Images,window.myapp.Widget.Scroller,window.myapp.Widget.TouchWidget);(function(c,a,b,h,e){var d=Backbone.Router.extend({routes:{"startPage/:tab":"startPage","startPage/orderTab/:location":"orderTab","storePage/:store":"storePage","storePage/:store/:product":"productPage","orderInfoPage/:store":"orderInfoPage","orderInfoPage/:store/:index":"orderEditPage","userInfoPage/:store":"userInfoPage","orderResultPage/:store":"orderResultPage","*actions":"defaultAction"},initialize:function(){window.loadingPanel=new h;$("body").append(window.loadingPanel.el);this.views={};window.useTransitionEffect=
!0;window.lastUrl=window.location.href;this.views.startPage=new e.StartPageView;this.loadToDOM(this.views.startPage.el);this.views.storePage=new e.StorePageView;this.loadToDOM(this.views.storePage.el);window.myapp.AppEvent.goPage();window.myapp.GoogleAnalytics.goPage()},defaultAction:function(){this.startPage("orderTab")},startPage:function(a){try{this.views.startPage||(this.views.startPage=new e.StartPageView,this.loadToDOM(this.views.startPage.el)),window.productPanel&&window.productPanel.$el.hide(),
this.changePage(this.views.startPage.render().el),this.transitionDir=this.transitionEffectType=null,this.views.startPage.toTab(a)}catch(b){$(window).trigger("tryCatchError",{errorMsg:b.message+" at function startPage in router",errorLocation:b.stack})}},orderTab:function(a){try{this.startPage("orderTab"),3==a.length?this.views.startPage.tabs.orderTab.assignLocation_zipcode(a):this.views.startPage.tabs.orderTab.assignLocation(a)}catch(b){$(window).trigger("tryCatchError",{errorMsg:b.message+" at function startPage in router",
errorLocation:b.stack})}},storePage:function(a){try{this.views.storePage||(this.views.storePage=new e.StorePageView,this.loadToDOM(this.views.storePage.el));window.productPanel&&window.productPanel.$el.hide();var d=this;d.views.storePage.$el.attr("url")==window.location.href?(d.changePage(d.views.storePage.el),d.transitionEffectType=null,d.transitionDir=null,d.views.storePage.render()):(d.changePage(d.views.storePage.el),d.transitionEffectType=null,d.transitionDir=null,d.views.storePage.render(),
window.menuData||(window.menuData=new b),window.menuData.getMenuOfStore(a,function(a){d.views.storePage.resetDisplayedData();d.views.storePage.refreshGridSize();d.views.storePage.setModel(a);d.views.storePage.resetScroller();if(!d.views.orderInfoPage){d.views.orderInfoPage=new e.OrderInfoPageView;d.loadToDOM(d.views.orderInfoPage.el);window.orderInfoPage=d.views.orderInfoPage}try{c.trackIntoStorePageTime(a.get("chainStore"));c.trackOrderProcess(2,a.get("chainStore"));c.trackStoreRanking(window.myapp.location,
a.get("chainStore"))}catch(b){}},function(a,b){console.log(b)}))}catch(f){$(window).trigger("tryCatchError",{errorMsg:f.message+" at function storePage in router",errorLocation:f.stack})}},productPage:function(){try{window.productPanel||(window.productPanel=new ProductPanel,$("body").append(window.productPanel.$el)),window.productPanel.$el.show()}catch(a){$(window).trigger("tryCatchError",{errorMsg:a.message+" at function productPage in router",errorLocation:a.stack})}},orderInfoPage:function(a){try{this.views.orderInfoPage||
(this.views.orderInfoPage=new e.OrderInfoPageView,this.loadToDOM(this.views.orderInfoPage.el),window.orderInfoPage=this.views.orderInfoPage);this.changePage(this.views.orderInfoPage.render().el);this.transitionDir=this.transitionEffectType=null;var d=this;window.menuData||(window.menuData=new b);window.menuData.getMenuOfStore(a,function(a){d.views.orderInfoPage.setModel(a);try{c.trackOrderProcess(4,a.get("chainStore"))}catch(b){}},function(a,b){console.log(b)})}catch(f){$(window).trigger("tryCatchError",
{errorMsg:f.message+" at function orderInfoPage in router",errorLocation:f.stack})}},orderEditPage:function(){console.log("do orderEditPage function.")},userInfoPage:function(b){try{var d=window.menuData.get("stores").get(b).get("displayedName"),f=this;this.views.userInfoPage||(this.views.userInfoPage=new e.UserInfoPageView,this.loadToDOM(this.views.userInfoPage.el));this.views.userInfoPage.setTitle(d);this.views.userInfoPage.setStore(b);window.loadingPanel&&window.loadingPanel.connectionOut();var h=
a+"?action=getAvailableDeliveryTime&storeID="+b;$.ajax({type:"GET",url:h,dataType:"json",cache:!1,success:function(a){try{window.loadingPanel&&window.loadingPanel.connectionIn();f.views.userInfoPage.setAvailableTime(a.time)}catch(b){$(window).trigger("tryCatchError",{errorMsg:b.message+" at ajax for "+h,errorLocation:b.stack})}},error:function(){window.loadingPanel&&window.loadingPanel.connectionIn();$(window).trigger("ajaxError2",{errorMsg:h,errorLocation:printStackTrace()})}});this.changePage(this.views.userInfoPage.render().el);
this.transitionDir=this.transitionEffectType=null;this.views.userInfoPage.render();var l=window.menuData.get("stores").get(b).get("chainStore");c.trackIntoUserInfoPageTime(l);c.trackOrderProcess(5,l)}catch(n){$(window).trigger("tryCatchError",{errorMsg:n.message+" at function userInfoPage in router",errorLocation:n.stack})}},orderResultPage:function(a){try{this.views.orderResultPage||(this.views.orderResultPage=new e.OrderResultPageView,this.loadToDOM(this.views.orderResultPage.el));window.myapp.orderNumber||
(window.myapp.orderNumber=0);this.views.orderResultPage.setOrderNumber(window.myapp.orderNumber);this.views.orderResultPage.setStore(a);this.changePage(this.views.orderResultPage.render().el);this.transitionDir=this.transitionEffectType=null;this.views.orderResultPage.render();this.views.orderResultPage.cleanShoppingCart(a);var b=window.menuData.get("stores").get(a).get("chainStore");c.trackSendOrderTime(b);c.trackOrderProcess(6,b)}catch(d){$(window).trigger("tryCatchError",{errorMsg:d.message+" at function orderResultPage in router",
errorLocation:d.stack})}},loadToDOM:function(a){var b=$(a).attr("id");0<$("#"+b).length?console.log("page "+b+" has already loaded"):($(a).hide(),$("#mainRoot").append(a))},changePage:function(a){$(":focus").blur();var b,c,d=$(this.currentActivePage),e=$(a);e.attr("url",window.location.href);if(!(d==e||d.attr("url")==e.attr("url"))){try{var h,o;h=window.location.href;o=window.lastUrl;window.lastUrl=h;if(0<=h.indexOf("#startPage")||0>h.indexOf("#"))b="hSlide";else if(0<=h.indexOf("#storePage")){if(b=
"hSlide",0<=o.indexOf("#startPage")||0>o.indexOf("#"))c="right"}else 0<=h.indexOf("#orderInfoPage")?(b="hSlide",0<=o.indexOf("#storePage")&&(c="right")):0<=h.indexOf("#userInfoPage")?(b="hSlide",0<=o.indexOf("#orderInfoPage")&&(c="right")):0<=h.indexOf("#orderResultPage")&&(b="hSlide",0<=o.indexOf("#userInfoPage")&&(c="right"));window.myapp.AppEvent.goPage();window.myapp.GoogleAnalytics.goPage()}catch(s){$(window).trigger("tryCatchError",{errorMsg:s.message+" at hashchange event handler in router.",
errorLocation:s.stack})}window.inTransition=!0;if(!window.useTransitionEffect||!b||0>"hSlide".indexOf(b))d.hide(),e.show(),e.css("-webkit-transform","translate3d(0, 0, 0)"),this.currentActivePage=e,b=window.inTransition=!1;else if("hSlide"==b){var t=this;d.css("position","absolute");e.css("position","absolute");e.show();"right"==c?(e.css("-webkit-transform","translate3d(100%, 0, 0)"),d.css("-webkit-transform","translate3d(0, 0, 0)"),d.animate({"-webkit-transform":"translate3d(-100%, 0, 0)"},300,"ease-in-out",
function(){d.hide()}),e.animate({"-webkit-transform":"translate3d(0, 0, 0)"},300,"ease-in-out",function(){t.currentActivePage=e;window.inTransition=!1})):(e.css("-webkit-transform","translate3d(-100%, 0, 0)"),d.css("-webkit-transform","translate3d(0, 0, 0)"),d.animate({"-webkit-transform":"translate3d(100%, 0, 0)"},300,"ease-in-out",function(){d.hide()}),e.animate({"-webkit-transform":"translate3d(0, 0, 0)"},300,"ease-in-out",function(){t.currentActivePage=e;window.inTransition=!1}),window.isGoBack=
!1);b=!1}}}});window.myapp=window.myapp||{};window.myapp.Router=d})(window.myapp.GoogleAnalytics,window.myapp.Api.OrderServiceUrl,window.myapp.Model.MenuData,window.myapp.Widget.LoadingPanel,{StartPageView:window.myapp.StartPageView,StorePageView:window.myapp.StorePageView,OrderInfoPageView:window.myapp.OrderInfoPageView,UserInfoPageView:window.myapp.UserInfoPageView,OrderResultPageView:window.myapp.OrderResultPageView});
